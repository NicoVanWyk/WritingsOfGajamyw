/*! For license information please see main.1ca89b4a.js.LICENSE.txt */
(()=>{var e={219:(e,t,n)=>{"use strict";var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);h&&(s=s.concat(h(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=d(n,v);try{c(t,v,y)}catch(_){}}}}return t}},983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case m:case l:return e;default:return t}}case i:return t}}}function x(e){return w(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return x(e)||w(e)===u},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===_||e.$$typeof===b||e.$$typeof===v)},t.typeOf=w},763:(e,t,n)=>{"use strict";e.exports=n(983)},228:function(e,t){!function(e){"use strict";var t="1.9.4";function n(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n])e[t]=i[t];return e}var r=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function i(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var o=0;function s(e){return"_leaflet_id"in e||(e._leaflet_id=++o),e._leaflet_id}function a(e,t,n){var r,i,o,s;return s=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(s,t),r=!0)},o}function l(e,t,n){var r=t[1],i=t[0],o=r-i;return e===r&&n?e:((e-i)%o+o)%o+i}function c(){return!1}function u(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function h(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function d(e){return h(e).split(/\s+/)}function f(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?r(e.options):{}),t)e.options[n]=t[n];return e.options}function p(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var m=/\{ *([\w_ -]+) *\}/g;function g(e,t){return e.replace(m,(function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"===typeof r&&(r=r(t)),r}))}var v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function y(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var w=0;function x(e){var t=+new Date,n=Math.max(0,16-(t-w));return w=t+n,window.setTimeout(e,n)}var S=window.requestAnimationFrame||b("RequestAnimationFrame")||x,E=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function C(e,t,n){if(!n||S!==x)return S.call(window,i(e,t));e.call(t)}function T(e){e&&E.call(window,e)}var k={__proto__:null,extend:n,create:r,bind:i,get lastId(){return o},stamp:s,throttle:a,wrapNum:l,falseFn:c,formatNum:u,trim:h,splitWords:d,setOptions:f,getParamString:p,template:g,isArray:v,indexOf:y,emptyImageUrl:_,requestFn:S,cancelFn:E,requestAnimFrame:C,cancelAnimFrame:T};function I(){}function P(e){if("undefined"!==typeof L&&L&&L.Mixin){e=v(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}I.extend=function(e){var t=function(){f(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=t.__super__=this.prototype,o=r(i);for(var s in o.constructor=t,t.prototype=o,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(t[s]=this[s]);return e.statics&&n(t,e.statics),e.includes&&(P(e.includes),n.apply(null,[o].concat(e.includes))),n(o,e),delete o.statics,delete o.includes,o.options&&(o.options=i.options?r(i.options):{},n(o.options,e.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=o._initHooks.length;e<t;e++)o._initHooks[e].call(this)}},t},I.include=function(e){var t=this.prototype.options;return n(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},I.mergeOptions=function(e){return n(this.prototype.options,e),this},I.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var N={on:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t);else for(var i=0,o=(e=d(e)).length;i<o;i++)this._on(e[i],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"===typeof e)for(var r in e)this._off(r,e[r],t);else{e=d(e);for(var i=1===arguments.length,o=0,s=e.length;o<s;o++)i?this._off(e[o]):this._off(e[o],t,n)}else delete this._events;return this},_on:function(e,t,n,r){if("function"===typeof t){if(!1===this._listens(e,t,n)){n===this&&(n=void 0);var i={fn:t,ctx:n};r&&(i.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(i)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var r,i,o;if(this._events&&(r=this._events[e]))if(1!==arguments.length)if("function"===typeof t){var s=this._listens(e,t,n);if(!1!==s){var a=r[s];this._firingCount&&(a.fn=c,this._events[e]=r=r.slice()),r.splice(s,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(i=0,o=r.length;i<o;i++)r[i].fn=c;delete this._events[e]}},fire:function(e,t,r){if(!this.listens(e,r))return this;var i=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var l=o[s],c=l.fn;l.once&&this.off(e,c,l.ctx),c.call(l.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(e,t,n,r){"string"!==typeof e&&console.warn('"string" type argument expected');var i=t;"function"!==typeof t&&(r=!!t,i=void 0,n=void 0);var o=this._events&&this._events[e];if(o&&o.length&&!1!==this._listens(e,i,n))return!0;if(r)for(var s in this._eventParents)if(this._eventParents[s].listens(e,t,n,r))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var r=this._events[e]||[];if(!t)return!!r.length;n===this&&(n=void 0);for(var i=0,o=r.length;i<o;i++)if(r[i].fn===t&&r[i].ctx===n)return i;return!1},once:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t,!0);else for(var i=0,o=(e=d(e)).length;i<o;i++)this._on(e[i],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[s(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[s(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};N.addEventListener=N.on,N.removeEventListener=N.clearAllEventListeners=N.off,N.addOneTimeEventListener=N.once,N.fireEvent=N.fire,N.hasEventListeners=N.listens;var j=I.extend(N);function O(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var A=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function R(e,t,n){return e instanceof O?e:v(e)?new O(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new O(e.x,e.y):new O(e,t,n)}function D(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function M(e,t){return!e||e instanceof D?e:new D(e,t)}function F(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function U(e,t){return e instanceof F?e:new F(e,t)}function z(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function V(e,t,n){return e instanceof z?e:v(e)&&"object"!==typeof e[0]?3===e.length?new z(e[0],e[1],e[2]):2===e.length?new z(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new z(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new z(e,t,n)}O.prototype={clone:function(){return new O(this.x,this.y)},add:function(e){return this.clone()._add(R(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(R(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new O(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new O(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=A(this.x),this.y=A(this.y),this},distanceTo:function(e){var t=(e=R(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=R(e)).x===this.x&&e.y===this.y},contains:function(e){return e=R(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},D.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof O||"number"===typeof e[0]||"x"in e)t=n=R(e);else if(t=(e=M(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"===typeof e[0]||e instanceof O?R(e):M(e))instanceof D?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=M(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>=t.x&&r.x<=n.x,s=i.y>=t.y&&r.y<=n.y;return o&&s},overlaps:function(e){e=M(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>t.x&&r.x<n.x,s=i.y>t.y&&r.y<n.y;return o&&s},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,r=Math.abs(t.x-n.x)*e,i=Math.abs(t.y-n.y)*e;return M(R(t.x-r,t.y-i),R(n.x+r,n.y+i))},equals:function(e){return!!e&&(e=M(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},F.prototype={extend:function(e){var t,n,r=this._southWest,i=this._northEast;if(e instanceof z)t=e,n=e;else{if(!(e instanceof F))return e?this.extend(V(e)||U(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||i?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new z(t.lat,t.lng),this._northEast=new z(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new F(new z(t.lat-r,t.lng-i),new z(n.lat+r,n.lng+i))},getCenter:function(){return new z((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new z(this.getNorth(),this.getWest())},getSouthEast:function(){return new z(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof z||"lat"in e?V(e):U(e);var t,n,r=this._southWest,i=this._northEast;return e instanceof F?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=i.lat&&t.lng>=r.lng&&n.lng<=i.lng},intersects:function(e){e=U(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>=t.lat&&r.lat<=n.lat,s=i.lng>=t.lng&&r.lng<=n.lng;return o&&s},overlaps:function(e){e=U(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>t.lat&&r.lat<n.lat,s=i.lng>t.lng&&r.lng<n.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=U(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},z.prototype={equals:function(e,t){return!!e&&(e=V(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+u(this.lat,e)+", "+u(this.lng,e)+")"},distanceTo:function(e){return H.distance(this,V(e))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return U([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new z(this.lat,this.lng,this.alt)}};var B={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new D(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?l(e.lng,this.wrapLng,!0):e.lng;return new z(this.wrapLat?l(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(0===r&&0===i)return e;var o=e.getSouthWest(),s=e.getNorthEast();return new F(new z(o.lat-r,o.lng-i),new z(s.lat-r,s.lng-i))}},H=n({},B,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,o=Math.sin((t.lat-e.lat)*n/2),s=Math.sin((t.lng-e.lng)*n/2),a=o*o+Math.cos(r)*Math.cos(i)*s*s,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),W=6378137,q={R:W,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new O(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new z((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=W*Math.PI;return new D([-e,-e],[e,e])}()};function G(e,t,n,r){if(v(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function K(e,t,n,r){return new G(e,t,n,r)}G.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new O((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var Z=n({},H,{code:"EPSG:3857",projection:q,transformation:function(){var e=.5/(Math.PI*q.R);return K(e,.5,-e,.5)}()}),$=n({},Z,{code:"EPSG:900913"});function Q(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Y(e,t){var n,r,i,o,s,a,l="";for(n=0,i=e.length;n<i;n++){for(r=0,o=(s=e[n]).length;r<o;r++)l+=(r?"L":"M")+(a=s[r]).x+" "+a.y;l+=t?De.svg?"z":"x":""}return l||"M0 0"}var X=document.documentElement.style,J="ActiveXObject"in window,ee=J&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=Re("webkit"),re=Re("android"),ie=Re("android 2")||Re("android 3"),oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),se=re&&Re("Google")&&oe<537&&!("AudioNode"in window),ae=!!window.opera,le=!te&&Re("chrome"),ce=Re("gecko")&&!ne&&!ae&&!J,ue=!le&&Re("safari"),he=Re("phantom"),de="OTransition"in X,fe=0===navigator.platform.indexOf("Win"),pe=J&&"transition"in X,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ie,ge="MozPerspective"in X,ve=!window.L_DISABLE_3D&&(pe||me||ge)&&!de&&!he,ye="undefined"!==typeof orientation||Re("mobile"),_e=ye&&ne,be=ye&&me,we=!window.PointerEvent&&window.MSPointerEvent,xe=!(!window.PointerEvent&&!we),Se="ontouchstart"in window||!!window.TouchEvent,Ee=!window.L_NO_TOUCH&&(Se||xe),Ce=ye&&ae,Te=ye&&ce,ke=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ie=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",c,t),window.removeEventListener("testPassiveEventSupport",c,t)}catch(n){}return e}(),Pe=!!document.createElement("canvas").getContext,Ne=!(!document.createElementNS||!Q("svg").createSVGRect),je=!!Ne&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI)}(),Oe=!Ne&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(n){return!1}}(),Ae=0===navigator.platform.indexOf("Mac"),Le=0===navigator.platform.indexOf("Linux");function Re(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var De={ie:J,ielt9:ee,edge:te,webkit:ne,android:re,android23:ie,androidStock:se,opera:ae,chrome:le,gecko:ce,safari:ue,phantom:he,opera12:de,win:fe,ie3d:pe,webkit3d:me,gecko3d:ge,any3d:ve,mobile:ye,mobileWebkit:_e,mobileWebkit3d:be,msPointer:we,pointer:xe,touch:Ee,touchNative:Se,mobileOpera:Ce,mobileGecko:Te,retina:ke,passiveEvents:Ie,canvas:Pe,svg:Ne,vml:Oe,inlineSvg:je,mac:Ae,linux:Le},Me=De.msPointer?"MSPointerDown":"pointerdown",Fe=De.msPointer?"MSPointerMove":"pointermove",Ue=De.msPointer?"MSPointerUp":"pointerup",ze=De.msPointer?"MSPointerCancel":"pointercancel",Ve={touchstart:Me,touchmove:Fe,touchend:Ue,touchcancel:ze},Be={touchstart:Xe,touchmove:Ye,touchend:Ye,touchcancel:Ye},He={},We=!1;function qe(e,t,n){return"touchstart"===t&&Qe(),Be[t]?(n=Be[t].bind(this,n),e.addEventListener(Ve[t],n,!1),n):(console.warn("wrong event specified:",t),c)}function Ge(e,t,n){Ve[t]?e.removeEventListener(Ve[t],n,!1):console.warn("wrong event specified:",t)}function Ke(e){He[e.pointerId]=e}function Ze(e){He[e.pointerId]&&(He[e.pointerId]=e)}function $e(e){delete He[e.pointerId]}function Qe(){We||(document.addEventListener(Me,Ke,!0),document.addEventListener(Fe,Ze,!0),document.addEventListener(Ue,$e,!0),document.addEventListener(ze,$e,!0),We=!0)}function Ye(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],He)t.touches.push(He[n]);t.changedTouches=[t],e(t)}}function Xe(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Kt(t),Ye(e,t)}function Je(e){var t,n,r={};for(n in e)t=e[n],r[n]=t&&t.bind?t.bind(e):t;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var et=200;function tt(e,t){e.addEventListener("dblclick",t);var n,r=0;function i(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var i=$t(e);if(!i.some((function(e){return e instanceof HTMLLabelElement&&e.attributes.for}))||i.some((function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement}))){var o=Date.now();o-r<=et?2===++n&&t(Je(e)):n=1,r=o}}}else n=e.detail}return e.addEventListener("click",i),{dblclick:t,simDblclick:i}}function nt(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var rt,it,ot,st,at,lt=Ct(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ct=Ct(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ut="webkitTransition"===ct||"OTransition"===ct?ct+"End":"transitionend";function ht(e){return"string"===typeof e?document.getElementById(e):e}function dt(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function ft(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function pt(e){var t=e.parentNode;t&&t.removeChild(e)}function mt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function gt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function vt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function yt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=xt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function _t(e,t){if(void 0!==e.classList)for(var n=d(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!yt(e,t)){var o=xt(e);wt(e,(o?o+" ":"")+t)}}function bt(e,t){void 0!==e.classList?e.classList.remove(t):wt(e,h((" "+xt(e)+" ").replace(" "+t+" "," ")))}function wt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function xt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function St(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&Et(e,t)}function Et(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(i){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}function Ct(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function Tt(e,t,n){var r=t||new O(0,0);e.style[lt]=(De.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function kt(e,t){e._leaflet_pos=t,De.any3d?Tt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function It(e){return e._leaflet_pos||new O(0,0)}if("onselectstart"in document)rt=function(){Mt(window,"selectstart",Kt)},it=function(){Ut(window,"selectstart",Kt)};else{var Pt=Ct(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);rt=function(){if(Pt){var e=document.documentElement.style;ot=e[Pt],e[Pt]="none"}},it=function(){Pt&&(document.documentElement.style[Pt]=ot,ot=void 0)}}function Nt(){Mt(window,"dragstart",Kt)}function jt(){Ut(window,"dragstart",Kt)}function Ot(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(At(),st=e,at=e.style.outlineStyle,e.style.outlineStyle="none",Mt(window,"keydown",At))}function At(){st&&(st.style.outlineStyle=at,st=void 0,at=void 0,Ut(window,"keydown",At))}function Lt(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Rt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Dt={__proto__:null,TRANSFORM:lt,TRANSITION:ct,TRANSITION_END:ut,get:ht,getStyle:dt,create:ft,remove:pt,empty:mt,toFront:gt,toBack:vt,hasClass:yt,addClass:_t,removeClass:bt,setClass:wt,getClass:xt,setOpacity:St,testProp:Ct,setTransform:Tt,setPosition:kt,getPosition:It,get disableTextSelection(){return rt},get enableTextSelection(){return it},disableImageDrag:Nt,enableImageDrag:jt,preventOutline:Ot,restoreOutline:At,getSizedParentNode:Lt,getScale:Rt};function Mt(e,t,n,r){if(t&&"object"===typeof t)for(var i in t)Bt(e,i,t[i],n);else for(var o=0,s=(t=d(t)).length;o<s;o++)Bt(e,t[o],n,r);return this}var Ft="_leaflet_events";function Ut(e,t,n,r){if(1===arguments.length)zt(e),delete e[Ft];else if(t&&"object"===typeof t)for(var i in t)Ht(e,i,t[i],n);else if(t=d(t),2===arguments.length)zt(e,(function(e){return-1!==y(t,e)}));else for(var o=0,s=t.length;o<s;o++)Ht(e,t[o],n,r);return this}function zt(e,t){for(var n in e[Ft]){var r=n.split(/\d/)[0];t&&!t(r)||Ht(e,r,null,null,n)}}var Vt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Bt(e,t,n,r){var i=t+s(n)+(r?"_"+s(r):"");if(e[Ft]&&e[Ft][i])return this;var o=function(t){return n.call(r||e,t||window.event)},a=o;!De.touchNative&&De.pointer&&0===t.indexOf("touch")?o=qe(e,t,o):De.touch&&"dblclick"===t?o=tt(e,o):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Vt[t]||t,o,!!De.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(o=function(t){t=t||window.event,Jt(e,t)&&a(t)},e.addEventListener(Vt[t],o,!1)):e.addEventListener(t,a,!1):e.attachEvent("on"+t,o),e[Ft]=e[Ft]||{},e[Ft][i]=o}function Ht(e,t,n,r,i){i=i||t+s(n)+(r?"_"+s(r):"");var o=e[Ft]&&e[Ft][i];if(!o)return this;!De.touchNative&&De.pointer&&0===t.indexOf("touch")?Ge(e,t,o):De.touch&&"dblclick"===t?nt(e,o):"removeEventListener"in e?e.removeEventListener(Vt[t]||t,o,!1):e.detachEvent("on"+t,o),e[Ft][i]=null}function Wt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function qt(e){return Bt(e,"wheel",Wt),this}function Gt(e){return Mt(e,"mousedown touchstart dblclick contextmenu",Wt),e._leaflet_disable_click=!0,this}function Kt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Zt(e){return Kt(e),Wt(e),this}function $t(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function Qt(e,t){if(!t)return new O(e.clientX,e.clientY);var n=Rt(t),r=n.boundingClientRect;return new O((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var Yt=De.linux&&De.chrome?window.devicePixelRatio:De.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Xt(e){return De.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Yt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function Jt(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(r){return!1}return n!==e}var en={__proto__:null,on:Mt,off:Ut,stopPropagation:Wt,disableScrollPropagation:qt,disableClickPropagation:Gt,preventDefault:Kt,stop:Zt,getPropagationPath:$t,getMousePosition:Qt,getWheelDelta:Xt,isExternalTarget:Jt,addListener:Mt,removeListener:Ut},tn=j.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=It(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=C(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),kt(this._el,n),this.fire("step")},_complete:function(){T(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),nn=j.extend({options:{crs:Z,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=f(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(V(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ct&&De.any3d&&!De.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Mt(this._proxy,ut,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,r){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(V(e),t,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,r.zoom):this._tryAnimatedPan(e,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,r.pan&&r.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),o=(e instanceof O?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/r),s=this.containerPointToLatLng(i.add(o));return this.setView(s,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():U(e);var n=R(t.paddingTopLeft||t.padding||[0,0]),r=R(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if((i="number"===typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),s=this.project(e.getSouthWest(),i),a=this.project(e.getNorthEast(),i);return{center:this.unproject(s.add(a).divideBy(2).add(o),i),zoom:i}},fitBounds:function(e,t){if(!(e=U(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=R(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){_t(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!De.any3d)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),o=this.getSize(),s=this._zoom;e=V(e),t=void 0===t?s:t;var a=Math.max(o.x,o.y),l=a*this.getZoomScale(s,t),c=i.distanceTo(r)||1,u=1.42,h=u*u;function d(e){var t=(l*l-a*a+(e?-1:1)*h*h*c*c)/(2*(e?l:a)*h*c),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function f(e){return(Math.exp(e)-Math.exp(-e))/2}function p(e){return(Math.exp(e)+Math.exp(-e))/2}function m(e){return f(e)/p(e)}var g=d(0);function v(e){return a*(p(g)/p(g+u*e))}function y(e){return a*(p(g)*m(g+u*e)-f(g))/h}function _(e){return 1-Math.pow(1-e,1.5)}var b=Date.now(),w=(d(1)-g)/u,x=n.duration?1e3*n.duration:1e3*w*.8;function S(){var n=(Date.now()-b)/x,o=_(n)*w;n<=1?(this._flyToFrame=C(S,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(y(o)/c)),s),this.getScaleZoom(a/v(o),s),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),S.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=U(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,U(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=R((t=t||{}).paddingTopLeft||t.padding||[0,0]),r=R(t.paddingBottomRight||t.padding||[0,0]),i=this.project(this.getCenter()),o=this.project(e),s=this.getPixelBounds(),a=M([s.min.add(n),s.max.subtract(r)]),l=a.getSize();if(!a.contains(o)){this._enforcingBounds=!0;var c=o.subtract(a.getCenter()),u=a.extend(o).getSize().subtract(l);i.x+=c.x<0?-u.x:u.x,i.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(i),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=t.divideBy(2).round(),s=r.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(e.animate&&e.pan?this.panBy(a):(e.pan&&this._rawPanBy(a),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,r,e):navigator.geolocation.getCurrentPosition(t,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new z(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(t,r.maxZoom?Math.min(i,r.maxZoom):i)}var o={latlng:t,bounds:n,timestamp:e.timestamp};for(var s in e.coords)"number"===typeof e.coords[s]&&(o[s]=e.coords[s]);this.fire("locationfound",o)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),pt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(T(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)pt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=ft("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new F(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=U(e),n=R(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),s=e.getNorthWest(),a=e.getSouthEast(),l=this.getSize().subtract(n),c=M(this.project(a,r),this.project(s,r)).getSize(),u=De.any3d?this.options.zoomSnap:1,h=l.x/c.x,d=l.y/c.y,f=t?Math.max(h,d):Math.min(h,d);return r=this.getScaleZoom(f,r),u&&(r=Math.round(r/(u/100))*(u/100),r=t?Math.ceil(r/u)*u:Math.floor(r/u)*u),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new O(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new D(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(V(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(R(e),t)},layerPointToLatLng:function(e){var t=R(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(V(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(V(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(U(e))},distance:function(e,t){return this.options.crs.distance(V(e),V(t))},containerPointToLayerPoint:function(e){return R(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return R(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(R(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(V(e)))},mouseEventToContainerPoint:function(e){return Qt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=ht(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Mt(t,"scroll",this._onScroll,this),this._containerId=s(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&De.any3d,_t(e,"leaflet-container"+(De.touch?" leaflet-touch":"")+(De.retina?" leaflet-retina":"")+(De.ielt9?" leaflet-oldie":"")+(De.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=dt(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),kt(this._mapPane,new O(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_t(e.markerPane,"leaflet-zoom-hide"),_t(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){kt(this._mapPane,new O(0,0));var r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,n)._move(e,t)._moveEnd(i),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,r){void 0===t&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?n&&n.pinch&&this.fire("zoom",n):((i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return T(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){kt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[s(this._container)]=this;var t=e?Ut:Mt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),De.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){T(this._resizeRequest),this._resizeRequest=C((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],i="mouseout"===t||"mouseover"===t,o=e.target||e.srcElement,a=!1;o;){if((n=this._targets[s(o)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(t,!0)){if(i&&!Jt(o,e))break;if(r.push(n),i)break}if(o===this._container)break;o=o.parentNode}return r.length||a||i||!this.listens(t,!0)||(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&Ot(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,r){if("click"===e.type){var i=n({},e);i.type="preclick",this._fireDOMEvent(i,i.type,r)}var o=this._findEventTargets(e,t);if(r){for(var s=[],a=0;a<r.length;a++)r[a].listens(t,!0)&&s.push(r[a]);o=s.concat(o)}if(o.length){"contextmenu"===t&&Kt(e);var l=o[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(a=0;a<o.length;a++)if(o[a].fire(t,c,!0),c.originalEvent._stopped||!1===o[a].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return It(this._mapPane)||new O(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return M([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),o=new D(r.subtract(i),r.add(i)),s=this._getBoundsOffset(o,n,t);return Math.abs(s.x)<=1&&Math.abs(s.y)<=1?e:this.unproject(r.add(s),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new D(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=M(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),o=r.max.subtract(e.max);return new O(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=De.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){bt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=ft("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=lt,n=this._proxy.style[t];Tt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();Tt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(C((function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)}),this),!0)},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,_t(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&bt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(e,t){return new nn(e,t)}var on=I.extend({options:{position:"topright"},initialize:function(e){f(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return _t(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),sn=function(e){return new on(e)};nn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=ft("div",t+"control-container",this._container);function r(r,i){var o=t+r+" "+t+i;e[r+i]=ft("div",o,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)pt(this._controlCorners[e]);pt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var an=on.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in f(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return on.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(s(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){_t(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(_t(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):bt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return bt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=ft("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Gt(t),qt(t);var r=this._section=ft("section",e+"-list");n&&(this._map.on("click",this.collapse,this),Mt(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=ft("a",e+"-toggle",t);i.href="#",i.title="Layers",i.setAttribute("role","button"),Mt(i,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){Kt(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=ft("div",e+"-base",r),this._separator=ft("div",e+"-separator",r),this._overlaysList=ft("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&s(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;mt(this._baseLayersList),mt(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(s(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers_"+s(this),r),this._layerControlInputs.push(t),t.layerId=s(e.layer),Mt(t,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+e.name;var o=document.createElement("span");return n.appendChild(o),o.appendChild(t),o.appendChild(i),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e,t,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||i.push(t);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,Mt(e,"click",Kt),this.expand();var t=this;setTimeout((function(){Ut(e,"click",Kt),t._preventClick=!1}))}}),ln=function(e,t,n){return new an(e,t,n)},cn=on.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=ft("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var o=ft("a",n,r);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),Gt(o),Mt(o,"click",Zt),Mt(o,"click",i,this),Mt(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";bt(this._zoomInButton,t),bt(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(_t(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(_t(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new cn,this.addControl(this.zoomControl))}));var un=function(e){return new cn(e)},hn=on.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=ft("div",t),r=this.options;return this._addScales(r,t+"-line",n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=ft("div",t,n)),e.imperial&&(this._iScale=ft("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),dn=function(e){return new hn(e)},fn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',pn=on.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(De.inlineSvg?fn+" ":"")+"Leaflet</a>"},initialize:function(e){f(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=ft("div","leaflet-control-attribution"),Gt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",(function(){this.removeAttribution(e.layer.getAttribution())}),this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook((function(){this.options.attributionControl&&(new pn).addTo(this)}));var mn=function(e){return new pn(e)};on.Layers=an,on.Zoom=cn,on.Scale=hn,on.Attribution=pn,sn.layers=ln,sn.zoom=un,sn.scale=dn,sn.attribution=mn;var gn=I.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(e,t){return e.addHandler(t,this),this};var vn={Events:N},yn=De.touch?"touchstart mousedown":"mousedown",_n=j.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){f(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Mt(this._dragStartTarget,yn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(_n._dragging===this&&this.finishDrag(!0),Ut(this._dragStartTarget,yn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!yt(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)_n._dragging===this&&this.finishDrag();else if(!(_n._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(_n._dragging=this,this._preventOutline&&Ot(this._element),Nt(),rt(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,n=Lt(this._element);this._startPoint=new O(t.clientX,t.clientY),this._startPos=It(this._element),this._parentScale=Rt(n);var r="mousedown"===e.type;Mt(document,r?"mousemove":"touchmove",this._onMove,this),Mt(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new O(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Kt(e),this._moved||(this.fire("dragstart"),this._moved=!0,_t(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_t(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),kt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){bt(document.body,"leaflet-dragging"),this._lastTarget&&(bt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ut(document,"mousemove touchmove",this._onMove,this),Ut(document,"mouseup touchend touchcancel",this._onUp,this),jt(),it();var t=this._moved&&this._moving;this._moving=!1,_n._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function bn(e,t,n){var r,i,o,s,a,l,c,u,h,d=[1,4,2,8];for(i=0,c=e.length;i<c;i++)e[i]._code=An(e[i],t);for(s=0;s<4;s++){for(u=d[s],r=[],i=0,o=(c=e.length)-1;i<c;o=i++)a=e[i],l=e[o],a._code&u?l._code&u||((h=On(l,a,u,t,n))._code=An(h,t),r.push(h)):(l._code&u&&((h=On(l,a,u,t,n))._code=An(h,t),r.push(h)),r.push(a));e=r}return e}function wn(e,t){var n,r,i,o,s,a,l,c,u;if(!e||0===e.length)throw new Error("latlngs not passed");Dn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var h=V([0,0]),d=U(e);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(h=xn(e));var f=e.length,p=[];for(n=0;n<f;n++){var m=V(e[n]);p.push(t.project(V([m.lat-h.lat,m.lng-h.lng])))}for(a=l=c=0,n=0,r=f-1;n<f;r=n++)i=p[n],o=p[r],s=i.y*o.x-o.y*i.x,l+=(i.x+o.x)*s,c+=(i.y+o.y)*s,a+=3*s;u=0===a?p[0]:[l/a,c/a];var g=t.unproject(R(u));return V([g.lat+h.lat,g.lng+h.lng])}function xn(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var o=V(e[i]);t+=o.lat,n+=o.lng,r++}return V([t/r,n/r])}var Sn,En={__proto__:null,clipPolygon:bn,polygonCenter:wn,centroid:xn};function Cn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=In(e=Nn(e,n),n)}function Tn(e,t,n){return Math.sqrt(Rn(e,t,n,!0))}function kn(e,t,n){return Rn(e,t,n)}function In(e,t){var n=e.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,Pn(e,r,t,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(e[i]);return o}function Pn(e,t,n,r,i){var o,s,a,l=0;for(s=r+1;s<=i-1;s++)(a=Rn(e[s],e[r],e[i],!0))>l&&(o=s,l=a);l>n&&(t[o]=1,Pn(e,t,n,r,o),Pn(e,t,n,o,i))}function Nn(e,t){for(var n=[e[0]],r=1,i=0,o=e.length;r<o;r++)Ln(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<o-1&&n.push(e[o-1]),n}function jn(e,t,n,r,i){var o,s,a,l=r?Sn:An(e,n),c=An(t,n);for(Sn=c;;){if(!(l|c))return[e,t];if(l&c)return!1;a=An(s=On(e,t,o=l||c,n,i),n),o===l?(e=s,l=a):(t=s,c=a)}}function On(e,t,n,r,i){var o,s,a=t.x-e.x,l=t.y-e.y,c=r.min,u=r.max;return 8&n?(o=e.x+a*(u.y-e.y)/l,s=u.y):4&n?(o=e.x+a*(c.y-e.y)/l,s=c.y):2&n?(o=u.x,s=e.y+l*(u.x-e.x)/a):1&n&&(o=c.x,s=e.y+l*(c.x-e.x)/a),new O(o,s,i)}function An(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Ln(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Rn(e,t,n,r){var i,o=t.x,s=t.y,a=n.x-o,l=n.y-s,c=a*a+l*l;return c>0&&((i=((e.x-o)*a+(e.y-s)*l)/c)>1?(o=n.x,s=n.y):i>0&&(o+=a*i,s+=l*i)),a=e.x-o,l=e.y-s,r?a*a+l*l:new O(o,s)}function Dn(e){return!v(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function Mn(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dn(e)}function Fn(e,t){var n,r,i,o,s,a,l,c;if(!e||0===e.length)throw new Error("latlngs not passed");Dn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var u=V([0,0]),h=U(e);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(u=xn(e));var d=e.length,f=[];for(n=0;n<d;n++){var p=V(e[n]);f.push(t.project(V([p.lat-u.lat,p.lng-u.lng])))}for(n=0,r=0;n<d-1;n++)r+=f[n].distanceTo(f[n+1])/2;if(0===r)c=f[0];else for(n=0,o=0;n<d-1;n++)if(s=f[n],a=f[n+1],(o+=i=s.distanceTo(a))>r){l=(o-r)/i,c=[a.x-l*(a.x-s.x),a.y-l*(a.y-s.y)];break}var m=t.unproject(R(c));return V([m.lat+u.lat,m.lng+u.lng])}var Un={__proto__:null,simplify:Cn,pointToSegmentDistance:Tn,closestPointOnSegment:kn,clipSegment:jn,_getEdgeIntersection:On,_getBitCode:An,_sqClosestPointOnSegment:Rn,isFlat:Dn,_flat:Mn,polylineCenter:Fn},zn={project:function(e){return new O(e.lng,e.lat)},unproject:function(e){return new z(e.y,e.x)},bounds:new D([-180,-90],[180,90])},Vn={R:6378137,R_MINOR:6356752.314245179,bounds:new D([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),s=o*Math.sin(r),a=Math.tan(Math.PI/4-r/2)/Math.pow((1-s)/(1+s),o/2);return r=-n*Math.log(Math.max(a,1e-10)),new O(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),s=Math.exp(-e.y/r),a=Math.PI/2-2*Math.atan(s),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=o*Math.sin(a),t=Math.pow((1-t)/(1+t),o/2),a+=c=Math.PI/2-2*Math.atan(s*t)-a;return new z(a*n,e.x*n/r)}},Bn={__proto__:null,LonLat:zn,Mercator:Vn,SphericalMercator:q},Hn=n({},H,{code:"EPSG:3395",projection:Vn,transformation:function(){var e=.5/(Math.PI*Vn.R);return K(e,.5,-e,.5)}()}),Wn=n({},H,{code:"EPSG:4326",projection:zn,transformation:K(1/180,1,-1/180,.5)}),qn=n({},B,{projection:zn,transformation:K(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});B.Earth=H,B.EPSG3395=Hn,B.EPSG3857=Z,B.EPSG900913=$,B.EPSG4326=Wn,B.Simple=qn;var Gn=j.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[s(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[s(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=s(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=s(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return s(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?v(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[s(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=s(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Kn=Gn.extend({initialize:function(e,t){var n,r;if(f(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"===typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return s(e)}}),Zn=function(e,t){return new Kn(e,t)},$n=Kn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Kn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Kn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new F;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Qn=function(e,t){return new $n(e,t)},Yn=I.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){f(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"===typeof r&&(r=[r,r]);var i=R(r),o=R("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return De.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Xn(e){return new Yn(e)}var Jn=Yn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!==typeof Jn.imagePath&&(Jn.imagePath=this._detectIconPath()),(this.options.imagePath||Jn.imagePath)+Yn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var r=t.exec(e);return r&&r[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ft("div","leaflet-default-icon-path",document.body),t=dt(e,"background-image")||dt(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),er=gn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new _n(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_t(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&bt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=It(t._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),l=M(s.min._subtract(a).add(i),s.max._subtract(a).subtract(i));if(!l.contains(o)){var c=R((Math.max(l.max.x,o.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(r);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),kt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=C(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(T(this._panRequest),this._panRequest=C(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=It(t._icon),i=t._map.layerPointToLatLng(r);n&&kt(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){T(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),tr=Gn.extend({options:{icon:new Jn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){f(this,t),this._latlng=V(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=V(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),_t(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mt(n,"focus",this._panOnFocus,this);var i=e.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(_t(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(this._icon,"focus",this._panOnFocus,this),pt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&kt(this._icon,e),this._shadow&&kt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(_t(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),er)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new er(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&St(this._icon,e),this._shadow&&St(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?R(t.iconSize):R(0,0),r=t.iconAnchor?R(t.iconAnchor):R(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function nr(e,t){return new tr(e,t)}var rr=Gn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return f(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ir=rr.extend({options:{fill:!0,radius:10},initialize:function(e,t){f(this,t),this._latlng=V(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=V(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return rr.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new D(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function or(e,t){return new ir(e,t)}var sr=ir.extend({initialize:function(e,t,r){if("number"===typeof t&&(t=n({},r,{radius:t})),f(this,t),this._latlng=V(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:rr.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===H.distance){var i=Math.PI/180,o=this._mRadius/H.R/i,s=n.project([t+o,e]),a=n.project([t-o,e]),l=s.add(a).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(o*i)-Math.sin(t*i)*Math.sin(c*i))/(Math.cos(t*i)*Math.cos(c*i)))/i;(isNaN(u)||0===u)&&(u=o/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,e-u]).x,this._radiusY=l.y-s.y}else{var h=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});function ar(e,t,n){return new sr(e,t,n)}var lr=rr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){f(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,i=null,o=Rn,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],c=1,u=l.length;c<u;c++){var h=o(e,t=l[c-1],n=l[c],!0);h<r&&(r=h,i=o(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=V(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new F,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Dn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Dn(e),r=0,i=e.length;r<i;r++)n?(t[r]=V(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new D;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new O(e,e);this._rawPxBounds&&(this._pxBounds=new D([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var r,i,o=e[0]instanceof z,s=e.length;if(o){for(i=[],r=0;r<s;r++)i[r]=this._map.latLngToLayerPoint(e[r]),n.extend(i[r]);t.push(i)}else for(r=0;r<s;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,i,o,s,a,l=this._parts;for(t=0,r=0,i=this._rings.length;t<i;t++)for(n=0,o=(a=this._rings[t]).length;n<o-1;n++)(s=jn(a[n],a[n+1],e,n,!0))&&(l[r]=l[r]||[],l[r].push(s[0]),s[1]===a[n+1]&&n!==o-2||(l[r].push(s[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=Cn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,o,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(s=(a=this._parts[n]).length)-1;r<s;i=r++)if((t||0!==r)&&Tn(e,a[i],a[r])<=l)return!0;return!1}});function cr(e,t){return new lr(e,t)}lr._flat=Mn;var ur=lr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=lr.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof z&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){lr.prototype._setLatLngs.call(this,e),Dn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new O(t,t);if(e=new D(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=bn(this._rings[i],e,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,i,o,s,a,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,a=this._parts.length;i<a;i++)for(o=0,s=(l=(t=this._parts[i]).length)-1;o<l;s=o++)n=t[o],r=t[s],n.y>e.y!==r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||lr.prototype._containsPoint.call(this,e,!0)}});function hr(e,t){return new ur(e,t)}var dr=$n.extend({initialize:function(e,t){f(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,i=v(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)((r=i[t]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var s=fr(e,o);return s?(s.feature=br(e),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(e,s),this.addLayer(s)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function fr(e,t){var n,r,i,o,s="Feature"===e.type?e.geometry:e,a=s?s.coordinates:null,l=[],c=t&&t.pointToLayer,u=t&&t.coordsToLatLng||mr;if(!a&&!s)return null;switch(s.type){case"Point":return pr(c,e,n=u(a),t);case"MultiPoint":for(i=0,o=a.length;i<o;i++)n=u(a[i]),l.push(pr(c,e,n,t));return new $n(l);case"LineString":case"MultiLineString":return r=gr(a,"LineString"===s.type?0:1,u),new lr(r,t);case"Polygon":case"MultiPolygon":return r=gr(a,"Polygon"===s.type?1:2,u),new ur(r,t);case"GeometryCollection":for(i=0,o=s.geometries.length;i<o;i++){var h=fr({geometry:s.geometries[i],type:"Feature",properties:e.properties},t);h&&l.push(h)}return new $n(l);case"FeatureCollection":for(i=0,o=s.features.length;i<o;i++){var d=fr(s.features[i],t);d&&l.push(d)}return new $n(l);default:throw new Error("Invalid GeoJSON object.")}}function pr(e,t,n,r){return e?e(t,n):new tr(n,r&&r.markersInheritOptions&&r)}function mr(e){return new z(e[1],e[0],e[2])}function gr(e,t,n){for(var r,i=[],o=0,s=e.length;o<s;o++)r=t?gr(e[o],t-1,n):(n||mr)(e[o]),i.push(r);return i}function vr(e,t){return void 0!==(e=V(e)).alt?[u(e.lng,t),u(e.lat,t),u(e.alt,t)]:[u(e.lng,t),u(e.lat,t)]}function yr(e,t,n,r){for(var i=[],o=0,s=e.length;o<s;o++)i.push(t?yr(e[o],Dn(e[o])?0:t-1,n,r):vr(e[o],r));return!t&&n&&i.length>0&&i.push(i[0].slice()),i}function _r(e,t){return e.feature?n({},e.feature,{geometry:t}):br(t)}function br(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var wr={toGeoJSON:function(e){return _r(this,{type:"Point",coordinates:vr(this.getLatLng(),e)})}};function xr(e,t){return new dr(e,t)}tr.include(wr),sr.include(wr),ir.include(wr),lr.include({toGeoJSON:function(e){var t=!Dn(this._latlngs);return _r(this,{type:(t?"Multi":"")+"LineString",coordinates:yr(this._latlngs,t?1:0,!1,e)})}}),ur.include({toGeoJSON:function(e){var t=!Dn(this._latlngs),n=t&&!Dn(this._latlngs[0]),r=yr(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),_r(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Kn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),_r(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer((function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var o=br(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}})),n?_r(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Sr=xr,Er=Gn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=U(t),f(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_t(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&gt(this._image),this},bringToBack:function(){return this._map&&vt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=U(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:ft("img");_t(t,"leaflet-image-layer"),this._zoomAnimated&&_t(t,"leaflet-zoom-animated"),this.options.className&&_t(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Tt(this._image,n,t)},_reset:function(){var e=this._image,t=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();kt(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){St(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Cr=function(e,t,n){return new Er(e,t,n)},Tr=Er.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:ft("video");if(_t(t,"leaflet-image-layer"),this._zoomAnimated&&_t(t,"leaflet-zoom-animated"),this.options.className&&_t(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=i(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],o=0;o<n.length;o++)r.push(n[o].src);this._url=n.length>0?r:[t.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var s=0;s<this._url.length;s++){var a=ft("source");a.src=this._url[s],t.appendChild(a)}}}});function kr(e,t,n){return new Tr(e,t,n)}var Ir=Er.extend({_initImage:function(){var e=this._image=this._url;_t(e,"leaflet-image-layer"),this._zoomAnimated&&_t(e,"leaflet-zoom-animated"),this.options.className&&_t(e,this.options.className),e.onselectstart=c,e.onmousemove=c}});function Pr(e,t,n){return new Ir(e,t,n)}var Nr=Gn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof z||v(e))?(this._latlng=V(e),f(this,t)):(f(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&St(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&St(this._container,1),this.bringToFront(),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(St(this._container,0),this._removeTimeout=setTimeout(i(pt,void 0,this._container),200)):pt(this._container),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=V(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&gt(this._container),this},bringToBack:function(){return this._map&&vt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof $n){t=null;var n=this._source._layers;for(var r in n)if(n[r]._map){t=n[r];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=R(this.options.offset),n=this._getAnchor();this._zoomAnimated?kt(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(e,t,n,r){var i=t;return i instanceof e||(i=new e(r).setContent(t)),n&&i.setLatLng(n),i}}),Gn.include({_initOverlay:function(e,t,n,r){var i=n;return i instanceof e?(f(i,r),i._source=this):(i=t&&!r?t:new e(r,this)).setContent(n),i}});var jr=Nr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Nr.prototype.openOn.call(this,e)},onAdd:function(e){Nr.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof rr||this._source.on("preclick",Wt))},onRemove:function(e){Nr.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof rr||this._source.off("preclick",Wt))},getEvents:function(){var e=Nr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=ft("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ft("div",e+"-content-wrapper",t);if(this._contentNode=ft("div",e+"-content",n),Gt(t),qt(this._contentNode),Mt(t,"contextmenu",Wt),this._tipContainer=ft("div",e+"-tip-container",t),this._tip=ft("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=ft("a",e+"-close-button",t);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',Mt(r,"click",(function(e){Kt(e),this.close()}),this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,i=this.options.maxHeight,o="leaflet-popup-scrolled";i&&r>i?(t.height=i+"px",_t(e,o)):bt(e,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();kt(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(dt(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new O(this._containerLeft,-n-this._containerBottom);i._add(It(this._container));var o=e.layerPointToContainerPoint(i),s=R(this.options.autoPanPadding),a=R(this.options.autoPanPaddingTopLeft||s),l=R(this.options.autoPanPaddingBottomRight||s),c=e.getSize(),u=0,h=0;o.x+r+l.x>c.x&&(u=o.x+r-c.x+l.x),o.x-u-a.x<0&&(u=o.x-a.x),o.y+n+l.y>c.y&&(h=o.y+n-c.y+l.y),o.y-h-a.y<0&&(h=o.y-a.y),(u||h)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([u,h]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Or=function(e,t){return new jr(e,t)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(e,t,n){return this._initOverlay(jr,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Gn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(jr,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof $n||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Zt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof rr?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Ar=Nr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Nr.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Nr.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Nr.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ft("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+s(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,i=this._container,o=r.latLngToContainerPoint(r.getCenter()),s=r.layerPointToContainerPoint(e),a=this.options.direction,l=i.offsetWidth,c=i.offsetHeight,u=R(this.options.offset),h=this._getAnchor();"top"===a?(t=l/2,n=c):"bottom"===a?(t=l/2,n=0):"center"===a?(t=l/2,n=c/2):"right"===a?(t=0,n=c/2):"left"===a?(t=l,n=c/2):s.x<o.x?(a="right",t=0,n=c/2):(a="left",t=l+2*(u.x+h.x),n=c/2),e=e.subtract(R(t,n,!0)).add(u).add(h),bt(i,"leaflet-tooltip-right"),bt(i,"leaflet-tooltip-left"),bt(i,"leaflet-tooltip-top"),bt(i,"leaflet-tooltip-bottom"),_t(i,"leaflet-tooltip-"+a),kt(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&St(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Lr=function(e,t){return new Ar(e,t)};nn.include({openTooltip:function(e,t,n){return this._initOverlay(Ar,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Gn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ar,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof $n||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&(Mt(t,"focus",(function(){this._tooltip._source=e,this.openTooltip()}),this),Mt(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",(function(){t._openOnceFlag=!1,t._openTooltip(e)}))}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Rr=Yn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(mt(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=R(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Dr(e){return new Rr(e)}Yn.Default=Jn;var Mr=Gn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:De.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){f(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),pt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(gt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(vt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof O?e:new O(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,o=n.length;i<o;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!De.ielt9){St(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(e-i.loaded)/200);St(i.el,o),o<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(T(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=ft("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(pt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||((r=this._levels[e]={}).el=ft("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),c(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)pt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),o=Math.floor(t/2),s=n-1,a=new O(+i,+o);a.z=+s;var l=this._tileCoordsToKey(a),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),s>r&&this._retainParent(i,o,s,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var o=2*t;o<2*t+2;o++){var s=new O(i,o);s.z=n+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=Math.round(t);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();De.any3d?Tt(e.el,i,r):kt(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*r);return new D(i.subtract(o),i.add(o))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),o=i.getCenter(),s=[],a=this.options.keepBuffer,l=new D(i.getBottomLeft().subtract([a,-a]),i.getTopRight().add([a,-a]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new O(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var h=i.min.y;h<=i.max.y;h++)for(var d=i.min.x;d<=i.max.x;d++){var f=new O(d,h);if(f.z=this._tileZoom,this._isValidTile(f)){var p=this._tiles[this._tileCoordsToKey(f)];p?p.current=!0:s.push(f)}}if(s.sort((function(e,t){return e.distanceTo(o)-t.distanceTo(o)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return U(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new F(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new O(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(pt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){_t(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,De.ielt9&&this.options.opacity<1&&St(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&C(i(this._tileReady,this,e,null,o)),kt(o,n),this._tiles[r]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(St(n.el,0),T(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(_t(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),De.ielt9||!this._map._fadeAnimated?C(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new O(this._wrapX?l(e.x,this._wrapX):e.x,this._wrapY?l(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new D(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Fr(e){return new Mr(e)}var Ur=Mr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=f(this,t)).detectRetina&&De.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Mt(n,"load",i(this._tileOnLoad,this,t,n)),Mt(n,"error",i(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:De.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=r),t["-y"]=r}return g(this._url,n(t,this.options))},_tileOnLoad:function(e,t){De.ielt9?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,!t.complete)){t.src=_;var n=this._tiles[e].coords;pt(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",_),Mr.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==_))return Mr.prototype._tileReady.call(this,e,t,n)}});function zr(e,t){return new Ur(e,t)}var Vr=Ur.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var r=n({},this.defaultWmsParams);for(var i in t)i in this.options||(r[i]=t[i]);var o=(t=f(this,t)).detectRetina&&De.retina?2:1,s=this.getTileSize();r.width=s.x*o,r.height=s.y*o,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Ur.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=M(n.project(t[0]),n.project(t[1])),i=r.min,o=r.max,s=(this._wmsVersion>=1.3&&this._crs===Wn?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),a=Ur.prototype.getTileUrl.call(this,e);return a+p(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function Br(e,t){return new Vr(e,t)}Ur.WMS=Vr,zr.wms=Br;var Hr=Gn.extend({options:{padding:.1},initialize:function(e){f(this,e),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),_t(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,t),o=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(e,t));De.any3d?Tt(this._container,o,n):kt(this._container,o)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new D(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Wr=Hr.extend({options:{tolerance:0},getEvents:function(){var e=Hr.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Hr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Mt(e,"mousemove",this._onMouseMove,this),Mt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Mt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){T(this._redrawRequest),delete this._ctx,pt(this._container),Ut(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Hr.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=De.retina?2:1;kt(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",De.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Hr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[s(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[s(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;i.push(t)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||C(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,o,s=e._parts,a=s.length,l=this._ctx;if(a){for(l.beginPath(),n=0;n<a;n++){for(r=0,i=s[n].length;r<i;r++)o=s[n][r],l[r?"lineTo":"moveTo"](o.x,o.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)(t=i.layer).options.interactive&&t._containsPoint(r)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(bt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(_t(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function qr(e){return De.canvas?new Wr(e):null}var Gr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Kr={_initContainer:function(){this._container=ft("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Hr.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Gr("shape");_t(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Gr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[s(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;pt(t),e.removeInteractiveTarget(t),delete this._layers[s(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||(t=e._stroke=Gr("stroke")),i.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=v(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=Gr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){gt(e._container)},_bringToBack:function(e){vt(e._container)}},Zr=De.vml?Gr:Q,$r=Hr.extend({_initContainer:function(){this._container=Zr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Zr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pt(this._container),Ut(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Hr.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),kt(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Zr("path");e.options.className&&_t(t,e.options.className),e.options.interactive&&_t(t,"leaflet-interactive"),this._updateStyle(e),this._layers[s(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){pt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[s(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,Y(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",i=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,i)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){gt(e._path)},_bringToBack:function(e){vt(e._path)}});function Qr(e){return De.svg||De.vml?new $r(e):null}De.vml&&$r.include(Kr),nn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&qr(e)||Qr(e)}});var Yr=ur.extend({initialize:function(e,t){ur.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=U(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Xr(e,t){return new Yr(e,t)}$r.create=Zr,$r.pointsToPath=Y,dr.geometryToLayer=fr,dr.coordsToLatLng=mr,dr.coordsToLatLngs=gr,dr.latLngToCoords=vr,dr.latLngsToCoords=yr,dr.getFeature=_r,dr.asFeature=br,nn.mergeOptions({boxZoom:!0});var Jr=gn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),rt(),Nt(),this._startPoint=this._map.mouseEventToContainerPoint(e),Mt(document,{contextmenu:Zt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ft("div","leaflet-zoom-box",this._container),_t(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new D(this._point,this._startPoint),n=t.getSize();kt(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(pt(this._box),bt(this._container,"leaflet-crosshair")),it(),jt(),Ut(document,{contextmenu:Zt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",Jr),nn.mergeOptions({doubleClickZoom:!0});var ei=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});nn.addInitHook("addHandler","doubleClickZoom",ei),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ti=gn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new _n(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}_t(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){bt(this._map._container,"leaflet-grab"),bt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=U(this._map.options.maxBounds);this._offsetLimit=M(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,o=(r+t+n)%e-t-n,s=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=i.multiplyBy(s/o),l=a.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=a.multiplyBy(c/l),h=c/(n.inertiaDeceleration*s),d=u.multiplyBy(-h/2).round();d.x||d.y?(d=t._limitOffset(d,t.options.maxBounds),C((function(){t.panBy(d,{duration:h,easeLinearity:s,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});nn.addInitHook("addHandler","dragging",ti),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ni=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Mt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ut(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){Mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(t=this._panKeys[n],e.shiftKey&&(t=R(t).multiplyBy(3)),r.options.maxBounds&&(t=r._limitOffset(R(t),r.options.maxBounds)),r.options.worldCopyJump){var i=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(t)));r.panTo(i)}else r.panBy(t)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Zt(e)}}});nn.addInitHook("addHandler","keyboard",ni),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ri=gn.extend({addHooks:function(){Mt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Xt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),Zt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,s=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,s&&("center"===e.options.scrollWheelZoom?e.setZoom(t+s):e.setZoomAround(this._lastMousePos,t+s))}});nn.addInitHook("addHandler","scrollWheelZoom",ri);var ii=600;nn.mergeOptions({tapHold:De.touchNative&&De.safari&&De.mobile,tapTolerance:15});var oi=gn.extend({addHooks:function(){Mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new O(t.clientX,t.clientY),this._holdTimeout=setTimeout(i((function(){this._cancel(),this._isTapValid()&&(Mt(document,"touchend",Kt),Mt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))}),this),ii),Mt(document,"touchend touchcancel contextmenu",this._cancel,this),Mt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Ut(document,"touchend",Kt),Ut(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new O(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",oi),nn.mergeOptions({touchZoom:De.touch,bounceAtZoomLimits:!0});var si=gn.extend({addHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),Mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Mt(document,"touchmove",this._onTouchMove,this),Mt(document,"touchend touchcancel",this._onTouchEnd,this),Kt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),T(this._animRequest);var a=i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=C(a,this,!0),Kt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,T(this._animRequest),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",si),nn.BoxZoom=Jr,nn.DoubleClickZoom=ei,nn.Drag=ti,nn.Keyboard=ni,nn.ScrollWheelZoom=ri,nn.TapHold=oi,nn.TouchZoom=si,e.Bounds=D,e.Browser=De,e.CRS=B,e.Canvas=Wr,e.Circle=sr,e.CircleMarker=ir,e.Class=I,e.Control=on,e.DivIcon=Rr,e.DivOverlay=Nr,e.DomEvent=en,e.DomUtil=Dt,e.Draggable=_n,e.Evented=j,e.FeatureGroup=$n,e.GeoJSON=dr,e.GridLayer=Mr,e.Handler=gn,e.Icon=Yn,e.ImageOverlay=Er,e.LatLng=z,e.LatLngBounds=F,e.Layer=Gn,e.LayerGroup=Kn,e.LineUtil=Un,e.Map=nn,e.Marker=tr,e.Mixin=vn,e.Path=rr,e.Point=O,e.PolyUtil=En,e.Polygon=ur,e.Polyline=lr,e.Popup=jr,e.PosAnimation=tn,e.Projection=Bn,e.Rectangle=Yr,e.Renderer=Hr,e.SVG=$r,e.SVGOverlay=Ir,e.TileLayer=Ur,e.Tooltip=Ar,e.Transformation=G,e.Util=k,e.VideoOverlay=Tr,e.bind=i,e.bounds=M,e.canvas=qr,e.circle=ar,e.circleMarker=or,e.control=sn,e.divIcon=Dr,e.extend=n,e.featureGroup=Qn,e.geoJSON=xr,e.geoJson=Sr,e.gridLayer=Fr,e.icon=Xn,e.imageOverlay=Cr,e.latLng=V,e.latLngBounds=U,e.layerGroup=Zn,e.map=rn,e.marker=nr,e.point=R,e.polygon=hr,e.polyline=cr,e.popup=Or,e.rectangle=Xr,e.setOptions=f,e.stamp=s,e.svg=Qr,e.svgOverlay=Pr,e.tileLayer=zr,e.tooltip=Lr,e.transformation=K,e.version=t,e.videoOverlay=kr;var ai=window.L;e.noConflict=function(){return window.L=ai,this},window.L=e}(t)},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),k=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var D,M=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case C:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ee=null;function Ce(e){if(e=_i(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Te(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function ke(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ie(e,t){return e(t)}function Pe(){}var Ne=!1;function je(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==Se||null!==Ee)&&(Pe(),ke())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ae=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Ae=!1}function Re(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Me=null,Fe=!1,Ue=null,ze={onError:function(e){De=!0,Me=e}};function Ve(e,t,n,r,i,o,s,a,l){De=!1,Me=null,Re.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ze=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ht(a):0!==(o&=s)&&(r=ht(o))}else 0!==(s=n&~i)?r=ht(s):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,Et,Ct,Tt=!1,kt=[],It=null,Pt=null,Nt=null,jt=new Map,Ot=new Map,At=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Dt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function zt(){Tt=!1,null!==It&&Ft(It)&&(It=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==Nt&&Ft(Nt)&&(Nt=null),jt.forEach(Ut),Ot.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<kt.length){Vt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==Pt&&Vt(Pt,e),null!==Nt&&Vt(Nt,e),jt.forEach(t),Ot.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Mt(n),null===n.blockedOn&&At.shift()}var Ht=b.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,r){var i=_t,o=Ht.transition;Ht.transition=null;try{_t=1,Kt(e,t,n,r)}finally{_t=i,Ht.transition=o}}function Gt(e,t,n,r){var i=_t,o=Ht.transition;Ht.transition=null;try{_t=4,Kt(e,t,n,r)}finally{_t=i,Ht.transition=o}}function Kt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Zt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Dt(It,e,t,n,r,i),!0;case"dragenter":return Pt=Dt(Pt,e,t,n,r,i),!0;case"mouseover":return Nt=Dt(Nt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return jt.set(o,Dt(jt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,Dt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var o=_i(i);if(null!==o&&wt(o),null===(o=$t(e,t,n,r))&&Wr(e,t,r,Zt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Zt=null;function $t(e,t,n,r){if(Zt=null,null!==(e=yi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),hn=M({},cn,{view:0,detail:0}),dn=on(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(M({},fn,{dataTransfer:0})),gn=on(M({},hn,{relatedTarget:0})),vn=on(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=on(yn),bn=on(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return En}var Tn=M({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=on(Tn),In=on(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=on(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=on(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(jn),An=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Dn=u&&"TextEvent"in window&&!Rn,Mn=u&&(!Ln||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){Te(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Zn(e){Fr(e,0)}function $n(e){if(K(bi(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&$n(Kn)){var t=[];qn(t,Kn,e,we(e)),je(Zn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Kn)}function or(e,t){if("click"===e)return $n(t)}function sr(e,t){if("input"===e||"change"===e)return $n(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==gr||gr!==Z(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Er={};function Cr(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=Cr("animationend"),kr=Cr("animationiteration"),Ir=Cr("animationstart"),Pr=Cr("transitionend"),Nr=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),l(t,[e])}for(var Ar=0;Ar<jr.length;Ar++){var Lr=jr[Ar];Or(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Or(Tr,"onAnimationEnd"),Or(kr,"onAnimationIteration"),Or(Ir,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Ve.apply(this,arguments),De){if(!De)throw Error(o(198));var u=Me;De=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Mr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Mr(i,a,c),o=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}je((function(){var r=o,i=we(n),s=[];e:{var a=Nr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Tr:case kr:case Ir:l=vn;break;case Pr:l=Nn;break;case"scroll":l=dn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Oe(p,d))&&u.push(qr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==c?a:bi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=d;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)d=Kr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Kr(u),d=Kr(d)}u=null}else u=null;null!==l&&Zr(s,a,l,u,!1),null!==c&&null!==h&&Zr(s,h,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Qn;else if(Wn(a))if(Yn)g=sr;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?qn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?bi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(s,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Bn?zn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Bn&&(y=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(v=Gr(r,_)).length&&(_=new bn(_,e,null,n,i),s.push({event:_,listeners:v}),y?_.data=y:null!==(y=Vn(n))&&(_.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Ln&&zn(e,t)?(e=en(),Jt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Fr(s,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(qr(e,o,i)),null!=(o=Oe(e,t))&&r.push(qr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Oe(n,o))&&s.unshift(qr(n,l,a)):i||null!=(l=Oe(n,o))&&s.push(qr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var $r=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[fi]||null}var xi=[],Si=-1;function Ei(e){return{current:e}}function Ci(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function Ti(e,t){Si++,xi[Si]=e.current,e.current=t}var ki={},Ii=Ei(ki),Pi=Ei(!1),Ni=ki;function ji(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){Ci(Pi),Ci(Ii)}function Li(e,t,n){if(Ii.current!==ki)throw Error(o(168));Ti(Ii,t),Ti(Pi,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return M({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Ni=Ii.current,Ti(Ii,e),Ti(Pi,Pi.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ri(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ci(Pi),Ci(Ii),Ti(Ii,e)):Ci(Pi),Ti(Pi,n)}var Fi=null,Ui=!1,zi=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!zi&&null!==Fi){zi=!0;var e=0,t=_t;try{var n=Fi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Je,Bi),i}finally{_t=t,zi=!1}}return null}var Hi=[],Wi=0,qi=null,Gi=0,Ki=[],Zi=0,$i=null,Qi=1,Yi="";function Xi(e,t){Hi[Wi++]=Gi,Hi[Wi++]=qi,qi=e,Gi=t}function Ji(e,t,n){Ki[Zi++]=Qi,Ki[Zi++]=Yi,Ki[Zi++]=$i,$i=e;var r=Qi;e=Yi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qi=1<<32-st(t)+i|n<<i|r,Yi=o+e}else Qi=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function to(e){for(;e===qi;)qi=Hi[--Wi],Hi[Wi]=null,Gi=Hi[--Wi],Hi[Wi]=null;for(;e===$i;)$i=Ki[--Zi],Ki[Zi]=null,Yi=Ki[--Zi],Ki[Zi]=null,Qi=Ki[--Zi],Ki[Zi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=jc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Qi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=jc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _o(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&_o(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:h(e,t,n,r,null);yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return h(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(i,h),io&&Xi(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===u?c=h:u.sibling=h,u=h);return io&&Xi(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),io&&Xi(i,m),c}function g(i,a,l,c){var u=R(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var _=f(i,m,y.value,c);if(null===_){null===m&&(m=v);break}e&&m&&null===_.alternate&&t(i,m),a=s(_,a,g),null===h?u=_:h.sibling=_,h=_,m=v}if(y.done)return n(i,m),io&&Xi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(a=s(y,a,g),null===h?u=y:h.sibling=y,h=y);return io&&Xi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Xi(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&_o(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=vo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===S?((o=Rc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Lc(s.type,s.key,s.props,null,r.mode,l)).ref=vo(r,o,s),l.return=r,r=l)}return a(r);case x:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(s,r.mode,l)).return=r,r=o}return a(r);case O:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(R(s))return g(r,o,s,l);yo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Mc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var wo=bo(!0),xo=bo(!1),So=Ei(null),Eo=null,Co=null,To=null;function ko(){To=Co=Eo=null}function Io(e){var t=So.current;Ci(So),e._currentValue=t}function Po(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function No(e,t){Eo=e,To=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_a=!0),e.firstContext=null)}function jo(e){var t=e._currentValue;if(To!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===Eo)throw Error(o(308));Co=e,Eo.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Oo=null;function Ao(e){null===Oo?Oo=[e]:Oo.push(e)}function Lo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ao(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ro(e,r)}function Ro(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function Mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ro(e,n)}return null===(i=r.interleaved)?(t.next=t,Ao(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ro(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ho(e,t,n,r){var i=e.updateQueue;Do=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(s=0,u=c=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:Do=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Dl|=s,e.lanes=s,e.memoizedState=h}}function Wo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var qo={},Go=Ei(qo),Ko=Ei(qo),Zo=Ei(qo);function $o(e){if(e===qo)throw Error(o(174));return e}function Qo(e,t){switch(Ti(Zo,t),Ti(Ko,e),Ti(Go,qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Go),Ti(Go,t)}function Yo(){Ci(Go),Ci(Ko),Ci(Zo)}function Xo(e){$o(Zo.current);var t=$o(Go.current),n=le(t,e.type);t!==n&&(Ti(Ko,e),Ti(Go,n))}function Jo(e){Ko.current===e&&(Ci(Go),Ci(Ko))}var es=Ei(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=b.ReactCurrentDispatcher,os=b.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,hs=!1,ds=0,fs=0;function ps(){throw Error(o(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Js:ea,e=n(r,i),hs){s=0;do{if(hs=!1,ds=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(hs)}if(is.current=Xs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(o(300));return e}function vs(){var e=0!==ds;return ds=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function _s(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function bs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=_s(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var h=u.lane;if((ss&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,as.lanes|=h,Dl|=h}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(_a=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Dl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xs(e){var t=_s(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(_a=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ss(){}function Es(e,t){var n=as,r=_s(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,_a=!0),r=r.queue,Ds(ks.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,js(9,Ts.bind(null,n,r,i,t),void 0,null),null===Pl)throw Error(o(349));0!==(30&ss)||Cs(n,t,i)}return i}function Cs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ts(e,t,n,r){t.value=n,t.getSnapshot=r,Is(t)&&Ps(e)}function ks(e,t,n){return n((function(){Is(t)&&Ps(e)}))}function Is(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ps(e){var t=Ro(e,1);null!==t&&nc(t,e,1,-1)}function Ns(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Zs.bind(null,as,e),[t.memoizedState,e]}function js(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Os(){return _s().memoizedState}function As(e,t,n,r){var i=ys();as.flags|=e,i.memoizedState=js(1|t,n,void 0,void 0===r?null:r)}function Ls(e,t,n,r){var i=_s();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&ms(r,s.deps))return void(i.memoizedState=js(t,n,o,r))}as.flags|=e,i.memoizedState=js(1|t,n,o,r)}function Rs(e,t){return As(8390656,8,e,t)}function Ds(e,t){return Ls(2048,8,e,t)}function Ms(e,t){return Ls(4,2,e,t)}function Fs(e,t){return Ls(4,4,e,t)}function Us(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ls(4,4,Us.bind(null,t,e),n)}function Vs(){}function Bs(e,t){var n=_s();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hs(e,t){var n=_s();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,_a=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Dl|=n,e.baseState=!0),t)}function qs(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{_t=n,os.transition=r}}function Gs(){return _s().memoizedState}function Ks(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$s(e))Qs(t,n);else if(null!==(n=Lo(e,t,n,r))){nc(n,e,r,ec()),Ys(n,t,r)}}function Zs(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($s(e))Qs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Ao(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Lo(e,t,i,r))&&(nc(n,e,r,i=ec()),Ys(n,t,r))}}function $s(e){var t=e.alternate;return e===as||null!==t&&t===as}function Qs(e,t){hs=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ys(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xs={readContext:jo,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Js={readContext:jo,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:jo,useEffect:Rs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,As(4194308,4,Us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return As(4194308,4,e,t)},useInsertionEffect:function(e,t){return As(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ks.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Ns,useDebugValue:Vs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Ns(!1),t=e[0];return e=qs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=ys();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pl)throw Error(o(349));0!==(30&ss)||Cs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Rs(ks.bind(null,r,s,e),[e]),r.flags|=2048,js(9,Ts.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Pl.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=(Qi&~(1<<32-st(Qi)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:jo,useCallback:Bs,useContext:jo,useEffect:Ds,useImperativeHandle:zs,useInsertionEffect:Ms,useLayoutEffect:Fs,useMemo:Hs,useReducer:ws,useRef:Os,useState:function(){return ws(bs)},useDebugValue:Vs,useDeferredValue:function(e){return Ws(_s(),ls.memoizedState,e)},useTransition:function(){return[ws(bs)[0],_s().memoizedState]},useMutableSource:Ss,useSyncExternalStore:Es,useId:Gs,unstable_isNewReconciler:!1},ta={readContext:jo,useCallback:Bs,useContext:jo,useEffect:Ds,useImperativeHandle:zs,useInsertionEffect:Ms,useLayoutEffect:Fs,useMemo:Hs,useReducer:xs,useRef:Os,useState:function(){return xs(bs)},useDebugValue:Vs,useDeferredValue:function(e){var t=_s();return null===ls?t.memoizedState=e:Ws(t,ls.memoizedState,e)},useTransition:function(){return[xs(bs)[0],_s().memoizedState]},useMutableSource:Ss,useSyncExternalStore:Es,useId:Gs,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zo(e,i,r))&&(nc(t,e,r,n),Vo(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function sa(e,t,n){var r=!1,i=ki,o=t.contextType;return"object"===typeof o&&null!==o?o=jo(o):(i=Oi(t)?Ni:Ii.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?ji(e,i):ki),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Mo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=jo(o):(o=Oi(t)?Ni:Ii.current,i.context=ji(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Ho(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,ql=r),ha(0,t)},n}function pa(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,zo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=b.ReactCurrentOwner,_a=!1;function ba(e,t,n,r){t.child=null===e?xo(t,null,n,r):wo(t,e.child,n,r)}function wa(e,t,n,r,i){n=n.render;var o=t.ref;return No(t,i),r=gs(e,t,n,r,o,i),n=vs(),null===e||_a?(io&&n&&eo(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function xa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Oc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Sa(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,(e=Ac(o,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(_a=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Wa(e,t,i);0!==(131072&e.flags)&&(_a=!0)}}return Ta(e,t,n,r,i)}function Ea(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Al,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Al,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Al,Ol),Ol|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Al,Ol),Ol|=r;return ba(e,t,i,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,i){var o=Oi(n)?Ni:Ii.current;return o=ji(t,o),No(t,i),n=gs(e,t,n,r,o,i),r=vs(),null===e||_a?(io&&r&&eo(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function ka(e,t,n,r,i){if(Oi(n)){var o=!0;Di(t)}else o=!1;if(No(t,i),null===t.stateNode)Ha(e,t),sa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=jo(c):c=ji(t,c=Oi(n)?Ni:Ii.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Do=!1;var d=t.memoizedState;s.state=d,Ho(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Pi.current||Do?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Do||oa(t,n,a,r,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Fo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=jo(l):l=ji(t,l=Oi(n)?Ni:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,s,r,l),Do=!1,d=t.memoizedState,s.state=d,Ho(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Pi.current||Do?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Do||oa(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,o,i)}function Ia(e,t,n,r,i,o){Ca(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Mi(t,n,!1),Wa(e,t,o);r=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,a,o)):ba(e,t,a,o),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Pa(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),Qo(e,t.containerInfo)}function Na(e,t,n,r,i){return po(),mo(i),t.flags|=256,ba(e,t,n,r),t.child}var ja,Oa,Aa,La,Ra={dehydrated:null,treeContext:null,retryLane:0};function Da(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ma(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ti(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Dc(l,i,0,null),e=Rc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Da(n),t.memoizedState=Ra,e):Fa(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Dc({mode:"visible",children:r.children},i,0,null),(s=Rc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&wo(t,e.child,null,a),t.child.memoizedState=Da(a),t.memoizedState=Ra,s);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=ua(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),_a||l){if(null!==(r=Pl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ro(e,i),nc(r,e,i,-1))}return mc(),Ua(e,t,a,r=ua(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Zi++]=Qi,Ki[Zi++]=Yi,Ki[Zi++]=$i,Qi=e.id,Yi=e.overflow,$i=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Ac(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Ac(r,a):(a=Rc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Da(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ra,i}return e=(a=e.child).sibling,i=Ac(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&mo(r),wo(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Po(e.return,t,n)}function Va(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ba(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,o);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Oi(t.type)&&Ai(),Ga(t),null;case 3:return r=t.stateNode,Yo(),Ci(Pi),Ci(Ii),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Oa(e,t),Ga(t),null;case 5:Jo(t);var i=$o(Zo.current);if(n=t.type,null!==e&&null!=t.stateNode)Aa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ga(t),null}if(e=$o(Go.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":G(r),J(r,s,!0);break;case"textarea":G(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,ja(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Q(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ur("scroll",e):null!=u&&_(e,s,u,l))}switch(n){case"input":G(e),J(e,r,!1);break;case"textarea":G(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=$o(Zo.current),$o(Go.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ga(t),null;case 13:if(Ci(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Ll&&(Ll=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return Yo(),Oa(e,t),null===e&&Br(t.stateNode.containerInfo),Ga(t),null;case 10:return Io(t.type._context),Ga(t),null;case 19:if(Ci(es),null===(s=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)qa(s,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,qa(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>Bl&&(t.flags|=128,r=!0,qa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ga(t),null}else 2*Ye()-s.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,qa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=es.current,Ti(es,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Za(e,t){switch(to(t),t.tag){case 1:return Oi(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yo(),Ci(Pi),Ci(Ii),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Jo(t),null;case 13:if(Ci(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(es),null;case 4:return Yo(),null;case 10:return Io(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}ja=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Aa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$o(Go.current);var o,s=null;switch(n){case"input":i=$(e,i),r=$(e,r),s=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Qa=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Ja(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Qa||Ja(n,t);case 6:var r=ul,i=hl;ul=null,dl(e,t,n),hl=i,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Qa&&(Ja(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ec(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Qa=(r=Qa)||null!==n.memoizedState,dl(e,t,n),Qa=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ya),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(s,a,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Ec(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Ja(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Ja(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Y(i,s),_e(l,a);var u=_e(l,s);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):_(i,h,d,u)}switch(l){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){Ec(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Ec(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Ye())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Qa=(u=Qa)||h,ml(t,e),Qa=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Xa=e,h=e.child;null!==h;){for(d=Xa=h;null!==Xa;){switch(p=(f=Xa).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Ja(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:Ja(f,f.return);break;case 22:if(null!==f.memoizedState){wl(d);continue}}null!==p?(p.return=f,Xa=p):wl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Ec(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(a){Ec(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xa=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var i=Xa,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||$a;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Qa;a=$a;var c=Qa;if($a=s,(Qa=l)&&!c)for(Xa=i;null!==Xa;)l=(s=Xa).child,22===s.tag&&null!==s.memoizedState?xl(i):null!==l?(l.return=s,Xa=l):xl(i);for(;null!==o;)Xa=o,_l(o,t,n),o=o.sibling;Xa=i,$a=a,Qa=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xa=o):bl(e)}}function bl(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(o(163))}Qa||512&t.flags&&il(t)}catch(f){Ec(t,t.return,f)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function wl(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function xl(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var o=t.return;try{il(t)}catch(l){Ec(t,o,l)}break;case 5:var s=t.return;try{il(t)}catch(l){Ec(t,s,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var Sl,El=Math.ceil,Cl=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,kl=b.ReactCurrentBatchConfig,Il=0,Pl=null,Nl=null,jl=0,Ol=0,Al=Ei(0),Ll=0,Rl=null,Dl=0,Ml=0,Fl=0,Ul=null,zl=null,Vl=0,Bl=1/0,Hl=null,Wl=!1,ql=null,Gl=null,Kl=!1,Zl=null,$l=0,Ql=0,Yl=null,Xl=-1,Jl=0;function ec(){return 0!==(6&Il)?Ye():-1!==Xl?Xl:Xl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==jl?jl&-jl:null!==go.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Yl=null,Error(o(185));vt(e,n,r),0!==(2&Il)&&e===Pl||(e===Pl&&(0===(2&Il)&&(Ml|=n),4===Ll&&ac(e,jl)),rc(e,r),1===n&&0===Il&&0===(1&t.mode)&&(Bl=Ye()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===Pl?jl:0);if(0===r)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(lc.bind(null,e)):Vi(lc.bind(null,e)),si((function(){0===(6&Il)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xl=-1,Jl=0,0!==(6&Il))throw Error(o(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=dt(e,e===Pl?jl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Il;Il|=2;var s=pc();for(Pl===e&&jl===t||(Hl=null,Bl=Ye()+500,dc(e,t));;)try{yc();break}catch(l){fc(e,l)}ko(),Cl.current=s,Il=i,null!==Nl?t=0:(Pl=null,jl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Rl,dc(e,0),ac(e,r),rc(e,Ye()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(s=pt(e))&&(r=s,t=oc(e,s))),1===t))throw n=Rl,dc(e,0),ac(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,zl,Hl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Vl+500-Ye())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,zl,Hl),t);break}wc(e,zl,Hl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,zl,Hl),r);break}wc(e,zl,Hl);break;default:throw Error(o(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&sc(t)),e}function sc(e){null===zl?zl=e:zl.push.apply(zl,e)}function ac(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Il))throw Error(o(327));xc();var t=dt(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Rl,dc(e,0),ac(e,t),rc(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,zl,Hl),rc(e,Ye()),null}function cc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Bl=Ye()+500,Ui&&Bi())}}function uc(e){null!==Zl&&0===Zl.tag&&0===(6&Il)&&xc();var t=Il;Il|=1;var n=kl.transition,r=_t;try{if(kl.transition=null,_t=1,e)return e()}finally{_t=r,kl.transition=n,0===(6&(Il=t))&&Bi()}}function hc(){Ol=Al.current,Ci(Al)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:Yo(),Ci(Pi),Ci(Ii),rs();break;case 5:Jo(r);break;case 4:Yo();break;case 13:case 19:Ci(es);break;case 10:Io(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Pl=e,Nl=e=Ac(e.current,null),jl=Ol=t,Ll=0,Rl=null,Fl=Ml=Dl=0,zl=Ul=null,null!==Oo){for(t=0;t<Oo.length;t++)if(null!==(r=(n=Oo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Oo=null}return e}function fc(e,t){for(;;){var n=Nl;try{if(ko(),is.current=Xs,us){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,hs=!1,ds=0,Tl.current=null,null===n||null===n.return){Ll=1,Rl=t,Nl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=jl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ma(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mo(ca(c,l));break e}}s=c=ca(c,l),4!==Ll&&(Ll=2),null===Ul?Ul=[s]:Ul.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,fa(0,c,t));break e;case 1:l=c;var y=s.type,_=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Gl||!Gl.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,pa(s,l,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(b){t=b,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function pc(){var e=Cl.current;return Cl.current=Xs,null===e?Xs:e}function mc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Pl||0===(268435455&Dl)&&0===(268435455&Ml)||ac(Pl,jl)}function gc(e,t){var n=Il;Il|=2;var r=pc();for(Pl===e&&jl===t||(Hl=null,dc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(ko(),Il=n,Cl.current=r,null!==Nl)throw Error(o(261));return Pl=null,jl=0,Ll}function vc(){for(;null!==Nl;)_c(Nl)}function yc(){for(;null!==Nl&&!$e();)_c(Nl)}function _c(e){var t=Sl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?bc(e):Nl=t,Tl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Ol)))return void(Nl=n)}else{if(null!==(n=Za(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Ll=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Ll&&(Ll=5)}function wc(e,t,n){var r=_t,i=kl.transition;try{kl.transition=null,_t=1,function(e,t,n,r){do{xc()}while(null!==Zl);if(0!==(6&Il))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Pl&&(Nl=Pl=null,jl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Pc(tt,(function(){return xc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=kl.transition,kl.transition=null;var a=_t;_t=1;var l=Il;Il|=4,Tl.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Qe(),Il=l,_t=a,kl.transition=s}else e.current=n;if(Kl&&(Kl=!1,Zl=e,$l=i),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=ql,ql=null,e;0!==(1&$l)&&0!==e.tag&&xc(),s=e.pendingLanes,0!==(1&s)?e===Yl?Ql++:(Ql=0,Yl=e):Ql=0,Bi()}(e,t,n,r)}finally{kl.transition=i,_t=r}return null}function xc(){if(null!==Zl){var e=bt($l),t=kl.transition,n=_t;try{if(kl.transition=null,_t=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,$l=0,0!==(6&Il))throw Error(o(331));var i=Il;for(Il|=4,Xa=e.current;null!==Xa;){var s=Xa,a=s.child;if(0!==(16&Xa.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xa=u;null!==Xa;){var h=Xa;switch(h.tag){case 0:case 11:case 15:nl(8,h,s)}var d=h.child;if(null!==d)d.return=h,Xa=d;else for(;null!==Xa;){var f=(h=Xa).sibling,p=h.return;if(ol(h),h===u){Xa=null;break}if(null!==f){f.return=p,Xa=f;break}Xa=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(s=Xa).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Xa=y;break e}Xa=s.return}}var _=e.current;for(Xa=_;null!==Xa;){var b=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Xa=b;else e:for(a=_;null!==Xa;){if(0!==(2048&(l=Xa).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){Ec(l,l.return,x)}if(l===a){Xa=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xa=w;break e}Xa=l.return}}if(Il=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{_t=n,kl.transition=t}}return!1}function Sc(e,t,n){e=zo(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=zo(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(jl&n)===n&&(4===Ll||3===Ll&&(130023424&jl)===jl&&500>Ye()-Vl?dc(e,0):Fl|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ro(e,t))&&(vt(e,t,n),rc(e,n))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tc(e,n)}function Pc(e,t){return Ke(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(e,t,n,r){return new Nc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Oc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Rc(n.children,i,s,t);case E:a=8,i|=8;break;case C:return(e=jc(12,n,t,2|i)).elementType=C,e.lanes=s,e;case P:return(e=jc(13,n,t,i)).elementType=P,e.lanes=s,e;case N:return(e=jc(19,n,t,i)).elementType=N,e.lanes=s,e;case A:return Dc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case k:a=9;break e;case I:a=11;break e;case j:a=14;break e;case O:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=jc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Rc(e,t,n,r){return(e=jc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=jc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=jc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=jc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,s,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=jc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mo(o),e}function Vc(e){if(!e)return ki;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Ri(e,n,t)}return t}function Bc(e,t,n,r,i,o,s,a,l){return(e=zc(n,r,!0,e,0,o,0,a,l)).context=Vc(null),n=e.current,(o=Uo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,zo(n,o,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,o=ec(),s=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zo(i,t,s))&&(nc(e,i,s,o),Vo(e,i,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)_a=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _a=!1,function(e,t,n){switch(t.tag){case 3:Pa(t),po();break;case 5:Xo(t);break;case 1:Oi(t.type)&&Di(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(So,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ma(e,t,n):(Ti(es,1&es.current),null!==(e=Wa(e,t,n))?e.sibling:null);Ti(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Ea(e,t,n)}return Wa(e,t,n)}(e,t,n);_a=0!==(131072&e.flags)}else _a=!1,io&&0!==(1048576&t.flags)&&Ji(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=ji(t,Ii.current);No(t,n),i=gs(null,t,r,e,i,n);var s=vs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(s=!0,Di(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Mo(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ia(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===j)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=ka(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=xa(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Pa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Fo(e,t),Ho(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Na(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=Na(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Wa(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Xo(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ca(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ma(e,t,n);case 4:return Qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wo(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ti(So,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Pi.current){t=Wa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Uo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Po(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Po(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,No(t,n),r=r(i=jo(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),xa(e,t,r,i=na(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Ha(e,t),t.tag=1,Oi(r)?(e=!0,Di(t)):e=!1,No(t,n),sa(t,r,i),la(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return Ea(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Jc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Wc(s);a.call(e)}}Hc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(s);o.call(e)}}var s=Bc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(s)}$c.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hc(e,t,null,null)},$c.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ye()),0===(6&Il)&&(Bl=Ye()+500,Bi()))}break;case 13:uc((function(){var t=Ro(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Ro(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Ro(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},Et=function(){return _t},Ct=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));K(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cc,Pe=uc;var eu={usingClientEntryPoint:!1,Events:[_i,bi,wi,Te,ke,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(o(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(o(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(o(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},317:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InView:()=>m,default:()=>m,defaultFallbackInView:()=>u,observe:()=>d,useInView:()=>g});var r=n(43);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}var s=new Map,a=new WeakMap,l=0,c=void 0;function u(e){c=e}function h(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return t+"_"+("root"===t?(n=e.root)?(a.has(n)||(l+=1,a.set(n,l.toString())),a.get(n)):"0":e[t]);var n})).toString()}function d(e,t,n,r){if(void 0===n&&(n={}),void 0===r&&(r=c),"undefined"===typeof window.IntersectionObserver&&void 0!==r){var i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var o=function(e){var t=h(e),n=s.get(t);if(!n){var r,i=new Map,o=new IntersectionObserver((function(t){t.forEach((function(t){var n,o=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=o),null==(n=i.get(t.target))||n.forEach((function(e){e(o,t)}))}))}),e);r=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:o,elements:i},s.set(t,n)}return n}(n),a=o.id,l=o.observer,u=o.elements,d=u.get(e)||[];return u.has(e)||u.set(e,d),d.push(t),l.observe(e),function(){d.splice(d.indexOf(t),1),0===d.length&&(u.delete(e),l.unobserve(e)),0===u.size&&(l.disconnect(),s.delete(a))}}var f=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function p(e){return"function"!==typeof e.children}var m=function(e){var t,n;function s(t){var n;return(n=e.call(this,t)||this).node=null,n._unobserveCb=null,n.handleNode=function(e){n.node&&(n.unobserve(),e||n.props.triggerOnce||n.props.skip||n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=e||null,n.observeNode()},n.handleChange=function(e,t){e&&n.props.triggerOnce&&n.unobserve(),p(n.props)||n.setState({inView:e,entry:t}),n.props.onChange&&n.props.onChange(e,t)},n.state={inView:!!t.initialInView,entry:void 0},n}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,o(t,n);var a=s.prototype;return a.componentDidUpdate=function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},a.componentWillUnmount=function(){this.unobserve(),this.node=null},a.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin,i=e.trackVisibility,o=e.delay,s=e.fallbackInView;this._unobserveCb=d(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r,trackVisibility:i,delay:o},s)}},a.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},a.render=function(){if(!p(this.props)){var e=this.state,t=e.inView,n=e.entry;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var o=this.props,s=o.children,a=o.as,l=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(o,f);return r.createElement(a||"div",i({ref:this.handleNode},l),s)},s}(r.Component);function g(e){var t=void 0===e?{}:e,n=t.threshold,i=t.delay,o=t.trackVisibility,s=t.rootMargin,a=t.root,l=t.triggerOnce,c=t.skip,u=t.initialInView,h=t.fallbackInView,f=r.useRef(),p=r.useState({inView:!!u}),m=p[0],g=p[1],v=r.useCallback((function(e){void 0!==f.current&&(f.current(),f.current=void 0),c||e&&(f.current=d(e,(function(e,t){g({inView:e,entry:t}),t.isIntersecting&&l&&f.current&&(f.current(),f.current=void 0)}),{root:a,rootMargin:s,threshold:n,trackVisibility:o,delay:i},h))}),[Array.isArray(n)?n.toString():n,a,s,l,c,o,h,i]);(0,r.useEffect)((function(){f.current||!m.entry||l||c||g({inView:!!u})}));var y=[v,m.inView,m.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}m.displayName="InView",m.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1}},455:(e,t,n)=>{"use strict";t.A=void 0;var r=s(n(43)),i=s(n(173)),o=s(n(139));function s(e){return e&&e.__esModule?e:{default:e}}const a=e=>{let{animate:t=!0,className:n="",layout:i="2-columns",lineColor:s="#FFF",children:a}=e;return"object"===typeof window&&document.documentElement.style.setProperty("--line-color",s),r.default.createElement("div",{className:(0,o.default)(n,"vertical-timeline",{"vertical-timeline--animate":t,"vertical-timeline--two-columns":"2-columns"===i,"vertical-timeline--one-column-left":"1-column"===i||"1-column-left"===i,"vertical-timeline--one-column-right":"1-column-right"===i})},a)};a.propTypes={children:i.default.oneOfType([i.default.arrayOf(i.default.node),i.default.node]).isRequired,className:i.default.string,animate:i.default.bool,layout:i.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:i.default.string};var l=a;t.A=l},695:(e,t,n)=>{"use strict";t.A=void 0;var r=a(n(43)),i=a(n(173)),o=a(n(139)),s=n(317);function a(e){return e&&e.__esModule?e:{default:e}}const l=e=>{let{children:t="",className:n="",contentArrowStyle:i=null,contentStyle:a=null,date:l="",dateClassName:c="",icon:u=null,iconClassName:h="",iconOnClick:d=null,onTimelineElementClick:f=null,iconStyle:p=null,id:m="",position:g="",style:v=null,textClassName:y="",intersectionObserverProps:_={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:b=!1}=e;return r.default.createElement(s.InView,_,(e=>{let{inView:s,ref:_}=e;return r.default.createElement("div",{ref:_,id:m,className:(0,o.default)(n,"vertical-timeline-element",{"vertical-timeline-element--left":"left"===g,"vertical-timeline-element--right":"right"===g,"vertical-timeline-element--no-children":""===t}),style:v},r.default.createElement(r.default.Fragment,null,r.default.createElement("span",{style:p,onClick:d,className:(0,o.default)(h,"vertical-timeline-element-icon",{"bounce-in":s||b,"is-hidden":!(s||b)})},u),r.default.createElement("div",{style:a,onClick:f,className:(0,o.default)(y,"vertical-timeline-element-content",{"bounce-in":s||b,"is-hidden":!(s||b)})},r.default.createElement("div",{style:i,className:"vertical-timeline-element-content-arrow"}),t,r.default.createElement("span",{className:(0,o.default)(c,"vertical-timeline-element-date")},l))))}))};l.propTypes={children:i.default.oneOfType([i.default.arrayOf(i.default.node),i.default.node]),className:i.default.string,contentArrowStyle:i.default.shape({}),contentStyle:i.default.shape({}),date:i.default.node,dateClassName:i.default.string,icon:i.default.element,iconClassName:i.default.string,iconStyle:i.default.shape({}),iconOnClick:i.default.func,onTimelineElementClick:i.default.func,id:i.default.string,position:i.default.string,style:i.default.shape({}),textClassName:i.default.string,visible:i.default.bool,intersectionObserverProps:i.default.shape({root:i.default.object,rootMargin:i.default.string,threshold:i.default.number,triggerOnce:i.default.bool})};var c=l;t.A=c},120:(e,t,n)=>{"use strict";e.exports={VerticalTimeline:n(455).A,VerticalTimelineElement:n(695).A}},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=_.prototype=new y;b.constructor=_,m(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+I(l,0):o,w(s)?(i="",null!=e&&(i=e.replace(k,"$&/")+"/"),P(s,t,i,"",(function(e){return e}))):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(k,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+I(a=e[c],c);l+=P(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=P(a=a.value,t,i,u=o+I(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},A={transition:null},L={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:A,ReactCurrentOwner:S};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=_,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,A(x);else{var t=r(u);null!==t&&L(w,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var o=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!P());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&L(w,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,C=null,T=-1,k=5,I=-1;function P(){return!(t.unstable_now()-I<k)}function N(){if(null!==C){var e=t.unstable_now();I=e;var n=!0;try{n=C(!0,e)}finally{n?S():(E=!1,C=null)}}else E=!1}if("function"===typeof _)S=function(){_(N)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,O=j.port2;j.port1.onmessage=N,S=function(){O.postMessage(null)}}else S=function(){v(N,0)};function A(e){C=e,E||(E=!0,S())}function L(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,A(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(T),T=-1):g=!0,L(w,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,A(x))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},324:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!a(c))return!1;var u=e[c],h=t[c];if(!1===(i=n?n.call(r,u,h,c):void 0)||void 0===i&&u!==h)return!1}return!0}},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".6451237d.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="gajamyw:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/WritingsOfGajamyw/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],l=r[2],c=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkgajamyw=self.webpackChunkgajamyw||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var e,t=n(43),r=n.t(t,2),i=n(391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const s="popstate";function a(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?d(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(t,n,r,i){void 0===i&&(i={});let{window:l=document.defaultView,v5Compat:d=!1}=i,f=l.history,p=e.Pop,m=null,g=v();function v(){return(f.state||{idx:null}).idx}function y(){p=e.Pop;let t=v(),n=null==t?null:t-g;g=t,m&&m({action:p,location:b.location,delta:n})}function _(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),a(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(o({},f.state,{idx:g}),""));let b={get action(){return p},get location(){return t(l,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(s,y),m=e,()=>{l.removeEventListener(s,y),m=null}},createHref:e=>n(l,e),createURL:_,encodeLocation(e){let t=_(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let i=u(b.location,t,n);r&&r(i,t),g=v()+1;let o=c(i,g),s=b.createHref(i);try{f.pushState(o,"",s)}catch(a){if(a instanceof DOMException&&"DataCloneError"===a.name)throw a;l.location.assign(s)}d&&m&&m({action:p,location:b.location,delta:1})},replace:function(t,n){p=e.Replace;let i=u(b.location,t,n);r&&r(i,t),g=v();let o=c(i,g),s=b.createHref(i);f.replaceState(o,"",s),d&&m&&m({action:p,location:b.location,delta:0})},go:e=>f.go(e)};return b}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){void 0===n&&(n="/");let r=P(("string"===typeof t?d(t):t).pathname||"/",n);if(null==r)return null;let i=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=I(r);o=T(i[s],e)}return o}function g(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(a(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let l=L([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(a(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:C(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of v(e.path))i(e,t,r);else i(e,t)})),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=v(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const y=/^:[\w-]+$/,_=3,b=2,w=1,x=10,S=-2,E=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=S),t&&(r+=b),n.filter((e=>!E(e))).reduce(((e,t)=>e+(y.test(t)?_:""===t?w:x)),r)}function T(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=k({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:L([i,c.pathname]),pathnameBase:R(L([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=L([i,c.pathnameBase]))}return o}function k(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1),c=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:c,pathname:o,pathnameBase:s,pattern:e}}function I(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function N(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function j(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e,t){let n=j(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function A(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=d(e):(i=o({},e),a(!i.pathname||!i.pathname.includes("?"),N("?","pathname","search",i)),a(!i.pathname||!i.pathname.includes("#"),N("#","pathname","hash",i)),a(!i.search||!i.search.includes("#"),N("#","search","hash",i)));let s,l=""===e||""===i.pathname,c=l?"/":i.pathname;if(null==c)s=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?d(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:D(r),hash:M(i)}}(i,s),h=c&&"/"!==c&&c.endsWith("/"),f=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!f||(u.pathname+="/"),u}const L=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],z=(new Set(U),["get",...U]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}const B=t.createContext(null);const H=t.createContext(null);const W=t.createContext(null);const q=t.createContext(null);const G=t.createContext({outlet:null,matches:[],isDataRoute:!1});const K=t.createContext(null);function Z(){return null!=t.useContext(q)}function $(){return Z()||a(!1),t.useContext(q).location}function Q(e){t.useContext(W).static||t.useLayoutEffect(e)}function Y(){let{isDataRoute:e}=t.useContext(G);return e?function(){let{router:e}=le(se.UseNavigateStable),n=ue(ae.UseNavigateStable),r=t.useRef(!1);Q((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,V({fromRouteId:n},i)))}),[e,n]);return i}():function(){Z()||a(!1);let e=t.useContext(B),{basename:n,future:r,navigator:i}=t.useContext(W),{matches:o}=t.useContext(G),{pathname:s}=$(),l=JSON.stringify(O(o,r.v7_relativeSplatPath)),c=t.useRef(!1);Q((()=>{c.current=!0}));let u=t.useCallback((function(t,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof t)return void i.go(t);let o=A(t,JSON.parse(l),s,"path"===r.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:L([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[n,i,l,s,e]);return u}()}function X(){let{matches:e}=t.useContext(G),n=e[e.length-1];return n?n.params:{}}function J(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(W),{matches:o}=t.useContext(G),{pathname:s}=$(),a=JSON.stringify(O(o,i.v7_relativeSplatPath));return t.useMemo((()=>A(e,JSON.parse(a),s,"path"===r)),[e,a,s,r])}function ee(n,r,i,o){Z()||a(!1);let{navigator:s}=t.useContext(W),{matches:l}=t.useContext(G),c=l[l.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=$();if(r){var g;let e="string"===typeof r?d(r):r;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||a(!1),f=e}else f=p;let v=f.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=m(n,{pathname:y});let b=oe(_&&_.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:L([h,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:L([h,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,i,o);return r&&b?t.createElement(q.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:e.Pop}},b):b}function te(){let e=function(){var e;let n=t.useContext(K),r=ce(ae.UseRouteError),i=ue(ae.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=F(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const ne=t.createElement(te,null);class re extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(G.Provider,{value:this.props.routeContext},t.createElement(K.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(B);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(G.Provider,{value:n},i)}function oe(e,n,r,i){var o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var s;if(null==(s=r)||!s.errors)return null;e=r.matches}let l=e,c=null==(o=r)?void 0:o.errors;if(null!=c){let e=l.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||a(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,h=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<l.length;t++){let e=l[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,l=h>=0?l.slice(0,h+1):[l[0]];break}}}return l.reduceRight(((e,i,o)=>{let s,a=!1,d=null,f=null;var p;r&&(s=c&&i.route.id?c[i.route.id]:void 0,d=i.route.errorElement||ne,u&&(h<0&&0===o?(p="route-fallback",!1||he[p]||(he[p]=!0),a=!0,f=null):h===o&&(a=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(l.slice(0,o+1)),g=()=>{let n;return n=s?d:a?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(ie,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(re,{location:r.location,revalidation:r.revalidation,component:d,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var se=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(se||{}),ae=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ae||{});function le(e){let n=t.useContext(B);return n||a(!1),n}function ce(e){let n=t.useContext(H);return n||a(!1),n}function ue(e){let n=function(e){let n=t.useContext(G);return n||a(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||a(!1),r.route.id}const he={};r.startTransition;function de(e){a(!1)}function fe(n){let{basename:r="/",children:i=null,location:o,navigationType:s=e.Pop,navigator:l,static:c=!1,future:u}=n;Z()&&a(!1);let h=r.replace(/^\/*/,"/"),f=t.useMemo((()=>({basename:h,navigator:l,static:c,future:V({v7_relativeSplatPath:!1},u)})),[h,u,l,c]);"string"===typeof o&&(o=d(o));let{pathname:p="/",search:m="",hash:g="",state:v=null,key:y="default"}=o,_=t.useMemo((()=>{let e=P(p,h);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:s}}),[h,p,m,g,v,y,s]);return null==_?null:t.createElement(W.Provider,{value:f},t.createElement(q.Provider,{children:i,value:_}))}function pe(e){let{children:t,location:n}=e;return ee(me(t),n)}new Promise((()=>{}));t.Component;function me(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let o=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,me(e.props.children,o));e.type!==de&&a(!1),e.props.index&&e.props.children&&a(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=me(e.props.children,o)),r.push(s)})),r}var ge=n(950),ve=n.t(ge,2);function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}function _e(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(NT){}new Map;const we=r.startTransition;ve.flushSync,r.useId;function xe(e){let{basename:n,children:r,future:i,window:o}=e,s=t.useRef();null==s.current&&(s.current=function(e){return void 0===e&&(e={}),f((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:h(t)}),null,e)}({window:o,v5Compat:!0}));let a=s.current,[l,c]=t.useState({action:a.action,location:a.location}),{v7_startTransition:d}=i||{},p=t.useCallback((e=>{d&&we?we((()=>c(e))):c(e)}),[c,d]);return t.useLayoutEffect((()=>a.listen(p)),[a,p]),t.createElement(fe,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:a,future:i})}const Se="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=t.forwardRef((function(e,n){let r,{onClick:i,relative:o,reloadDocument:s,replace:l,state:c,target:u,to:d,preventScrollReset:f,unstable_viewTransition:p}=e,m=_e(e,be),{basename:g}=t.useContext(W),v=!1;if("string"===typeof d&&Ee.test(d)&&(r=d,Se))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=P(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(NT){}let y=function(e,n){let{relative:r}=void 0===n?{}:n;Z()||a(!1);let{basename:i,navigator:o}=t.useContext(W),{hash:s,pathname:l,search:c}=J(e,{relative:r}),u=l;return"/"!==i&&(u="/"===l?i:L([i,l])),o.createHref({pathname:u,search:c,hash:s})}(d,{relative:o}),_=function(e,n){let{target:r,replace:i,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:l}=void 0===n?{}:n,c=Y(),u=$(),d=J(e,{relative:a});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:h(u)===h(d);c(e,{replace:n,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:l})}}),[u,c,d,i,o,r,e,s,a,l])}(d,{replace:l,state:c,target:u,preventScrollReset:f,relative:o,unstable_viewTransition:p});return t.createElement("a",ye({},m,{href:r||y,onClick:v||s?i:function(e){i&&i(e),e.defaultPrevented||_(e)},ref:n,target:u}))}));var Te,ke;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Te||(Te={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ke||(ke={}));const Ie="HomePage_homeContainer__iHMj+",Pe="HomePage_homeHeader__An-3o",Ne="HomePage_staticContent__zwSQV",je="HomePage_quotesSection__W0WOx",Oe="HomePage_homeFooter__GIOpz";var Ae=n(579);const Le=function(){const e=Y();return(0,Ae.jsxs)("div",{className:Ie,children:[(0,Ae.jsxs)("header",{className:Pe,children:[(0,Ae.jsx)("h1",{children:"Welcome to Gajamyw"}),(0,Ae.jsx)("p",{children:"Explore the lore of the continent of Gajamyw, and find the knowledge which you seek."})]}),(0,Ae.jsxs)("section",{className:Ne,children:[(0,Ae.jsx)("h2",{children:"About the Authors"}),(0,Ae.jsx)("p",{children:"Authored by both Sam & Robyn, co-DM's"})]}),(0,Ae.jsxs)("section",{className:je,children:[(0,Ae.jsx)("h2",{children:"Quotes from Gajamyw"}),(0,Ae.jsx)("blockquote",{children:'"I am the Mountain, and I will not break." - Aimen Sesay.'}),(0,Ae.jsx)("blockquote",{children:'"I\'m have to hunt down that bastard who killed by friend." - Emily Oxford.'}),(0,Ae.jsx)("blockquote",{children:'"Erm." - Jabril Safavid.'})]}),(0,Ae.jsx)("footer",{className:Oe,children:(0,Ae.jsx)("button",{className:"btnPrimary",onClick:()=>e("/timeline"),children:"Explore More"})})]})},Re="NotFoundPage_container__M57pw",De="NotFoundPage_title__LB2MS",Me="NotFoundPage_message__mLBo+";const Fe=function(){const e=Y();return(0,Ae.jsxs)("div",{className:Re,children:[(0,Ae.jsx)("h1",{className:De,children:"404"}),(0,Ae.jsx)("p",{className:Me,children:"Oops! The page you're looking for doesn't exist."}),(0,Ae.jsx)("button",{className:"btnPrimary",onClick:()=>e("/"),children:"Go to Home"})]})},Ue=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ze={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ue(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Ve;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Be=function(e){return function(e){const t=Ue(e);return ze.encodeByteArray(t,!0)}(e).replace(/\./g,"")},He=function(e){try{return ze.decodeString(e,!0)}catch(NT){console.error("base64Decode failed: ",NT)}return null};const We=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,qe=()=>{try{return We()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/WritingsOfGajamyw",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(NT){return}const t=e&&He(e[1]);return t&&JSON.parse(t)})()}catch(NT){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(NT))}},Ge=e=>{var t,n;return null===(n=null===(t=qe())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ke=e=>{const t=Ge(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ze=()=>{var e;return null===(e=qe())||void 0===e?void 0:e.config},$e=e=>{var t;return null===(t=qe())||void 0===t?void 0:t["_".concat(e)]};class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ye(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Be(JSON.stringify({alg:"none",type:"JWT"})),Be(JSON.stringify(o)),""].join(".")}function Xe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Je(){return!function(){var e;const t=null===(e=qe())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(NT){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function et(){try{return"object"===typeof indexedDB}catch(NT){return!1}}class tt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nt.prototype.create)}}class nt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(rt,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new tt(n,o,t)}}const rt=/\{\$([^}]+)}/g;function it(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(ot(n)&&ot(o)){if(!it(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ot(e){return null!==e&&"object"===typeof e}function st(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function at(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function lt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ct{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ut),void 0===r.error&&(r.error=ut),void 0===r.complete&&(r.complete=ut);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(NT){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(NT){"undefined"!==typeof console&&console.error&&console.error(NT)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ut(){}function ht(e){return e&&e._delegate?e._delegate:e}class dt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ft="[DEFAULT]";class pt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Qe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(NT){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(NT){if(r)return null;throw NT}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ft})}catch(NT){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(NT){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mt(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft;return this.component?this.component.multipleInstances?e:ft:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function mt(e){return e===ft?void 0:e}class gt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const vt=[];var yt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(yt||(yt={}));const _t={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},bt=yt.INFO,wt={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},xt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=wt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class St{constructor(e){this.name=e,this._logLevel=bt,this._logHandler=xt,this._userLogHandler=null,vt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?_t[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...t),this._logHandler(this,yt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...t),this._logHandler(this,yt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.INFO,...t),this._logHandler(this,yt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.WARN,...t),this._logHandler(this,yt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...t),this._logHandler(this,yt.ERROR,...t)}}const Et=(e,t)=>t.some((t=>e instanceof t));let Ct,Tt;const kt=new WeakMap,It=new WeakMap,Pt=new WeakMap,Nt=new WeakMap,jt=new WeakMap;let Ot={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return It.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Pt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function At(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Tt||(Tt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Dt(this),n),Rt(kt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Rt(e.apply(Dt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Dt(this),t,...r);return Pt.set(o,t.sort?t.sort():[t]),Rt(o)}}function Lt(e){return"function"===typeof e?At(e):(e instanceof IDBTransaction&&function(e){if(It.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));It.set(e,t)}(e),Et(e,Ct||(Ct=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ot):e)}function Rt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Rt(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&kt.set(t,e)})).catch((()=>{})),jt.set(t,e),t}(e);if(Nt.has(e))return Nt.get(e);const t=Lt(e);return t!==e&&(Nt.set(e,t),jt.set(t,e)),t}const Dt=e=>jt.get(e);const Mt=["get","getKey","getAll","getAllKeys","count"],Ft=["put","add","delete","clear"],Ut=new Map;function zt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ut.get(t))return Ut.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ft.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Mt.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Ut.set(t,o),o}Ot=(e=>({...e,get:(t,n,r)=>zt(t,n)||e.get(t,n,r),has:(t,n)=>!!zt(t,n)||e.has(t,n)}))(Ot);class Vt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Bt="@firebase/app",Ht="0.10.5",Wt=new St("@firebase/app"),qt="@firebase/app-compat",Gt="@firebase/analytics-compat",Kt="@firebase/analytics",Zt="@firebase/app-check-compat",$t="@firebase/app-check",Qt="@firebase/auth",Yt="@firebase/auth-compat",Xt="@firebase/database",Jt="@firebase/database-compat",en="@firebase/functions",tn="@firebase/functions-compat",nn="@firebase/installations",rn="@firebase/installations-compat",on="@firebase/messaging",sn="@firebase/messaging-compat",an="@firebase/performance",ln="@firebase/performance-compat",cn="@firebase/remote-config",un="@firebase/remote-config-compat",hn="@firebase/storage",dn="@firebase/storage-compat",fn="@firebase/firestore",pn="@firebase/vertexai-preview",mn="@firebase/firestore-compat",gn="firebase",vn="[DEFAULT]",yn={[Bt]:"fire-core",[qt]:"fire-core-compat",[Kt]:"fire-analytics",[Gt]:"fire-analytics-compat",[$t]:"fire-app-check",[Zt]:"fire-app-check-compat",[Qt]:"fire-auth",[Yt]:"fire-auth-compat",[Xt]:"fire-rtdb",[Jt]:"fire-rtdb-compat",[en]:"fire-fn",[tn]:"fire-fn-compat",[nn]:"fire-iid",[rn]:"fire-iid-compat",[on]:"fire-fcm",[sn]:"fire-fcm-compat",[an]:"fire-perf",[ln]:"fire-perf-compat",[cn]:"fire-rc",[un]:"fire-rc-compat",[hn]:"fire-gcs",[dn]:"fire-gcs-compat",[fn]:"fire-fst",[mn]:"fire-fst-compat",[pn]:"fire-vertex","fire-js":"fire-js",[gn]:"fire-js-all"},_n=new Map,bn=new Map,wn=new Map;function xn(e,t){try{e.container.addComponent(t)}catch(NT){Wt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),NT)}}function Sn(e){const t=e.name;if(wn.has(t))return Wt.debug("There were multiple attempts to register component ".concat(t,".")),!1;wn.set(t,e);for(const n of _n.values())xn(n,e);for(const n of bn.values())xn(n,e);return!0}function En(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Cn(e){return void 0!==e.settings}const Tn=new nt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class kn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new dt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}const In="10.12.2";function Pn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:vn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Tn.create("bad-app-name",{appName:String(i)});if(n||(n=Ze()),!n)throw Tn.create("no-options");const o=_n.get(i);if(o){if(it(n,o.options)&&it(r,o.config))return o;throw Tn.create("duplicate-app",{appName:i})}const s=new gt(i);for(const l of wn.values())s.addComponent(l);const a=new kn(n,r,s);return _n.set(i,a),a}function Nn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn;const t=_n.get(e);if(!t&&e===vn&&Ze())return Pn();if(!t)throw Tn.create("no-app",{appName:e});return t}function jn(e,t,n){var r;let i=null!==(r=yn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Wt.warn(e.join(" "))}Sn(new dt("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const On="firebase-heartbeat-database",An=1,Ln="firebase-heartbeat-store";let Rn=null;function Dn(){return Rn||(Rn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Rt(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Rt(s.result),e.oldVersion,e.newVersion,Rt(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(On,An,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ln)}catch(NT){console.warn(NT)}}}).catch((e=>{throw Tn.create("idb-open",{originalErrorMessage:e.message})}))),Rn}async function Mn(e,t){try{const n=(await Dn()).transaction(Ln,"readwrite"),r=n.objectStore(Ln);await r.put(t,Fn(e)),await n.done}catch(NT){if(NT instanceof tt)Wt.warn(NT.message);else{const t=Tn.create("idb-set",{originalErrorMessage:null===NT||void 0===NT?void 0:NT.message});Wt.warn(t.message)}}}function Fn(e){return"".concat(e.name,"!").concat(e.options.appId)}class Un{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Vn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zn();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=zn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Bn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Bn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Be(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function zn(){return(new Date).toISOString().substring(0,10)}class Vn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!et()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Dn()).transaction(Ln),n=await t.objectStore(Ln).get(Fn(e));return await t.done,n}catch(NT){if(NT instanceof tt)Wt.warn(NT.message);else{const t=Tn.create("idb-get",{originalErrorMessage:null===NT||void 0===NT?void 0:NT.message});Wt.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Mn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Mn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Bn(e){return Be(JSON.stringify({version:2,heartbeats:e})).length}var Hn;Hn="",Sn(new dt("platform-logger",(e=>new Vt(e)),"PRIVATE")),Sn(new dt("heartbeat",(e=>new Un(e)),"PRIVATE")),jn(Bt,Ht,Hn),jn(Bt,Ht,"esm2017"),jn("fire-js","");jn("firebase","10.12.2","app");var Wn,qn,Gn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Kn={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,s=0;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=s(n)).j(t);h(c)||0<c.l(e);)c=(o=s(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],s=0;s<i;s++)o[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var s=i+(65535&this.i(o))+(65535&e.i(o)),a=(s>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=a>>>16,s&=65535,a&=65535,n[o]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=l*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,qn=Kn.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=a,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(c))):i=(i=i.j(r)).add(s(c))}return i},Wn=Kn.Integer=r}).apply("undefined"!==typeof Gn?Gn:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Zn,$n,Qn,Yn,Xn,Jn,er,tr,nr,rr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ir={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof rr&&rr];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function _(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function x(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout((()=>{throw e}),0)}function E(){var e=P;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let k,I=!1,P=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},N=()=>{const e=i.Promise.resolve(void 0);k=()=>{e.then(j)}};var j=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(n){S(n)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function O(){this.s=this.s,this.C=this.C}function A(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},A.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function R(e,t){if(A.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(Tv){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:D[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&R.aa.h.call(this)}}h(R,A);var D={2:"touch",3:"pen",4:"mouse"};R.prototype.h=function(){R.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=H(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new U(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),q={};function G(e,t,n,r,i){if(r&&r.once)return Z(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)G(e,t[o],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,s(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i,l=J(e);if(l||(e[W]=l=new V(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)L||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Z(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Z(e,t[o],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,s(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function $(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)$(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(o=e.g[t],n,r,i))&&(z(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=J(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,i)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=J(t))?(B(n,e),0==n.h&&(n.src=null,t[W]=null)):z(e)}}}function Y(e){return e in q?q[e]:q[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new R(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function J(e){return(e=e[W])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){O.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new A(t,e);else if(t instanceof A)t.target=t.target||e;else{var i=t;w(t=new A(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=ie(s,r,!0,t)&&i}if(i=ie(s=t.g=e,r,!0,t)&&i,i=ie(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(s=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.da&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.fa&&B(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function se(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,O),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){$(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){O.call(this),this.h=e,this.g={}}h(le,O);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Q(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){A.call(this,"d")}function _e(){A.call(this,"c")}h(ye,A),h(_e,A);var be={},we=null;function xe(){return we=we||new ne}function Se(e){A.call(this,be.La,e)}function Ee(e){const t=xe();re(t,new Se(t))}function Ce(e,t){A.call(this,be.STAT_EVENT,e),this.stat=t}function Te(e){const t=xe();re(t,new Ce(t,e))}function ke(e,t){A.call(this,be.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Pe(){this.g=!0}function Ne(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return he(n)}catch(kv){return t}}(e,n)+(r?" "+r:"")}))}be.La="serverreachability",h(Se,A),be.STAT_EVENT="statevent",h(Ce,A),be.Ma="timingevent",h(ke,A),Pe.prototype.xa=function(){this.g=!1},Pe.prototype.info=function(){};var je,Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ae={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Le(){}function Re(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}h(Le,pe),Le.prototype.g=function(){return new XMLHttpRequest},Le.prototype.i=function(){return{}},je=new Le;var Me={},Fe={};function Ue(e,t,n){e.L=1,e.v=ht(st(t)),e.m=n,e.P=!0,ze(e,null)}function ze(e,t){e.F=Date.now(),He(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Ct(n.i,"t",r),e.C=0,n=e.j.J,e.h=new De,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var s=G(n,i[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?_(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ze(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Je(n.h,e)))if(!e.K&&Je(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Qt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var a=s,l=r.L;l&&(a.I=l),a.B&&(qe(a),He(a)),r.g=s}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):$t(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}Re.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Re.prototype.Y=function(e){try{if(e==this.g)e:{const d=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Gt(this.g)))){this.J||4!=d||7==t||Ee(),qe(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Gt(this.g);e="";var o=r.length,s=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),Ge(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ke(this),Ge(this);break e}Ne(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ze(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Be(this,a),e==Fe){4==d&&(this.s=4,Te(14),n=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Te(15),Ne(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ne(this.i,this.l,e,null),Ze(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),on(h),h.M=!0,Te(11))}}else Ne(this.i,this.l,a,"[Invalid Chunked Response]"),Ke(this),Ge(this)}else Ne(this.i,this.l,a,null),Ze(this,a);4==d&&Ke(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=x(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ke(this),Ge(this)}}}catch(Ov){}},Re.prototype.cancel=function(){this.J=!0,Ke(this)},Re.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),Te(17)),Ke(this),this.s=2,Ge(this)):We(this,this.S-e)};var $e=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Je(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function st(e){return new ot(e)}function at(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),Ct(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,_t)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,_t=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function St(e,t){xt(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Et(e,t){return xt(e),t=Tt(e,t),e.g.has(t)}function Ct(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),d(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function kt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(Tv){}}function It(){this.g=new fe}function Pt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;s(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(NT){throw t.push(r+"type="+encodeURIComponent("_badmap")),NT}}function Nt(e){this.l=e.Ub||null,this.j=e.eb||!1}function jt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ot(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function At(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Lt(e)}function Lt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Rt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Dt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){xt(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)Et(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,Et(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},h(Nt,pe),Nt.prototype.g=function(){return new jt(this.l,this.j)},Nt.prototype.i=(mt={},function(){return mt}),h(jt,ne),(e=jt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Lt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,At(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Lt(this)),this.g&&(this.readyState=3,Lt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ot(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?At(this):Lt(this),3==this.readyState&&Ot(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,At(this))},e.Qa=function(e){this.g&&(this.response=e,At(this))},e.ga=function(){this.g&&At(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(jt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Mt,ne);var Ft=/^https?$/i,Ut=["POST","PUT"];function zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),Ht(e)}function Vt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var s=String(e.D).match(it)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),o=!Ft.test(s?s.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<qt(e)?e.g.statusText:""}catch(kv){a=""}e.l=a+" ["+e.Z()+"]",Vt(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){Wt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(NT){}}}function Wt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Gt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ar){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zt(e){this.Aa=0,this.i=[],this.j=new Pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function $t(e){if(Yt(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Re(e,e.j,t)).L=2,t.v=ht(st(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}hn(e)}function Qt(e){e.g&&(on(e),e.g.cancel(),e.g=null)}function Yt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;k||N(),I||(k(),I=!0),P.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Dt(r,e.m,e.o),n=new Re(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Pt(a,e,"req"+n+"_")}catch(Ov){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;k||N(),I||(k(),I=!0),P.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function on(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Re(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(st(t)),n.m=null,n.P=!0,ze(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),on(e),e.g=null;var r=2}else{if(!Je(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=xe(),new ke(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),ht(r),t?function(e,t){const n=new Pe;if(i.Image){const r=new Image;r.onload=u(kt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(kt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(kt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(kt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Pe;const n=new AbortController,r=setTimeout((()=>{n.abort(),kt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?kt(0,0,!0,t):kt(0,0,!1,t)})).catch((()=>{clearTimeout(r),kt(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),hn(e),Yt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof ot?st(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new ot(null);r&&at(s,r),t&&(s.g=t),o&&lt(s,o),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new Nt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _n(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){_e.call(this),this.status=1}function _n(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():je.g(),this.v=this.o?me(this.o):me(je),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(Tv){return void zt(this,Tv)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wt(this),this.u=!0,this.g.send(e),this.u=!1}catch(Tv){zt(this,Tv)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Zt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Re(this,this.j,e);let o=this.o;if(this.S&&(o?(o=_(o),w(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Rt(o)))+"&"+t:this.m&&Dt(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Ye(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Qt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},h(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){$t(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new $e(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,gn.aa.N.call(this)},h(vn,ye),h(yn,_e),h(_n,pn),_n.prototype.ua=function(){re(this.g,"a")},_n.prototype.ta=function(e){re(this.g,new vn(e))},_n.prototype.sa=function(e){re(this.g,new yn)},_n.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,nr=ir.createWebChannelTransport=function(){return new mn},tr=ir.getStatEventTarget=function(){return xe()},er=ir.Event=be,Jn=ir.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,Xn=ir.ErrorCode=Oe,Ae.COMPLETE="complete",Yn=ir.EventType=Ae,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Qn=ir.WebChannel=ge,$n=ir.FetchXmlHttpFactory=Nt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,Zn=ir.XhrIo=Mt}).apply("undefined"!==typeof rr?rr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const or="@firebase/firestore";class sr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sr.UNAUTHENTICATED=new sr(null),sr.GOOGLE_CREDENTIALS=new sr("google-credentials-uid"),sr.FIRST_PARTY=new sr("first-party-uid"),sr.MOCK_USER=new sr("mock-user");let ar="10.12.1";const lr=new St("@firebase/firestore");function cr(){return lr.logLevel}function ur(e){if(lr.logLevel<=yt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(fr);lr.debug("Firestore (".concat(ar,"): ").concat(e),...i)}}function hr(e){if(lr.logLevel<=yt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(fr);lr.error("Firestore (".concat(ar,"): ").concat(e),...i)}}function dr(e){if(lr.logLevel<=yt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(fr);lr.warn("Firestore (".concat(ar,"): ").concat(e),...i)}}function fr(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function pr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(ar,") INTERNAL ASSERTION FAILED: ")+e;throw hr(t),new Error(t)}function mr(e,t){e||pr()}function gr(e,t){return e}const vr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yr extends tt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class _r{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class br{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class wr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sr.UNAUTHENTICATED)))}shutdown(){}}class xr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Sr{constructor(e){this.t=e,this.currentUser=sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new _r,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{ur("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(ur("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new _r)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ur("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(mr("string"==typeof t.accessToken),new br(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mr(null===e||"string"==typeof e),new sr(e)}}class Er{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=sr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Cr{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Er(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(sr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Tr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kr{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&ur("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,ur("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ur("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):ur("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(mr("string"==typeof e.token),this.R=e.token,new Tr(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ir(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Pr{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Ir(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Nr(e,t){return e<t?-1:e>t?1:0}function jr(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Or{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new yr(vr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new yr(vr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new yr(vr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yr(vr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Or.fromMillis(Date.now())}static fromDate(e){return Or.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Or(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nr(this.nanoseconds,e.nanoseconds):Nr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ar{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ar(e)}static min(){return new Ar(new Or(0,0))}static max(){return new Ar(new Or(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Lr{constructor(e,t,n){void 0===t?t=0:t>e.length&&pr(),void 0===n?n=e.length-t:n>e.length-t&&pr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Lr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lr?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Rr extends Lr{construct(e,t,n){return new Rr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new yr(vr.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Rr(e)}static emptyPath(){return new Rr([])}}const Dr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends Lr{construct(e,t,n){return new Mr(e,t,n)}static isValidIdentifier(e){return Dr.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mr(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new yr(vr.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new yr(vr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new yr(vr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new yr(vr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mr(t)}static emptyPath(){return new Mr([])}}class Fr{constructor(e){this.path=e}static fromPath(e){return new Fr(Rr.fromString(e))}static fromName(e){return new Fr(Rr.fromString(e).popFirst(5))}static empty(){return new Fr(Rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Rr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Rr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fr(new Rr(e.slice()))}}class Ur{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Ur.UNKNOWN_ID=-1;function zr(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ar.fromTimestamp(1e9===r?new Or(n+1,0):new Or(n,r));return new Br(i,Fr.empty(),t)}function Vr(e){return new Br(e.readTime,e.key,-1)}class Br{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Br(Ar.min(),Fr.empty(),-1)}static max(){return new Br(Ar.max(),Fr.empty(),-1)}}function Hr(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Fr.comparator(e.documentKey,t.documentKey),0!==n?n:Nr(e.largestBatchId,t.largestBatchId))}const Wr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Gr(e){if(e.code!==vr.FAILED_PRECONDITION||e.message!==Wr)throw e;ur("LocalStore","Unexpectedly lost primary lease")}class Kr{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Kr(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Kr?t:Kr.resolve(t)}catch(e){return Kr.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Kr.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Kr.reject(t)}static resolve(e){return new Kr(((t,n)=>{t(e)}))}static reject(e){return new Kr(((t,n)=>{n(e)}))}static waitFor(e){return new Kr(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Kr.resolve(!1);for(const n of e)t=t.next((e=>e?Kr.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Kr(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Kr(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Zr(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $r(e){return"IndexedDbTransactionError"===e.name}class Qr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Yr(e){return null==e}function Xr(e){return 0===e&&1/e==-1/0}function Jr(e){return"number"==typeof e&&Number.isInteger(e)&&!Xr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Qr.oe=-1;const ei=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ti=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ni=ti;function ri(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ii(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function oi(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class si{constructor(e,t){this.comparator=e,this.root=t||li.EMPTY}insert(e,t){return new si(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,li.BLACK,null,null))}remove(e){return new si(this.comparator,this.root.remove(e,this.comparator).copy(null,null,li.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ai(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ai(this.root,e,this.comparator,!1)}getReverseIterator(){return new ai(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ai(this.root,e,this.comparator,!0)}}class ai{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class li{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:li.RED,this.left=null!=r?r:li.EMPTY,this.right=null!=i?i:li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new li(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return li.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pr();if(this.right.isRed())throw pr();const e=this.left.check();if(e!==this.right.check())throw pr();return e+(this.isRed()?0:1)}}li.EMPTY=null,li.RED=!0,li.BLACK=!1,li.EMPTY=new class{constructor(){this.size=0}get key(){throw pr()}get value(){throw pr()}get color(){throw pr()}get left(){throw pr()}get right(){throw pr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new li(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ci{constructor(e){this.comparator=e,this.data=new si(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ui(this.data.getIterator())}getIteratorFrom(e){return new ui(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ci))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ci(this.comparator);return t.data=e,t}}class ui{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hi{constructor(e){this.fields=e,e.sort(Mr.comparator)}static empty(){return new hi([])}unionWith(e){let t=new ci(Mr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new hi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jr(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class di extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new di("Invalid base64 string: "+e):e}}(e);return new fi(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new fi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fi.EMPTY_BYTE_STRING=new fi("");const pi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mi(e){if(mr(!!e),"string"==typeof e){let t=0;const n=pi.exec(e);if(mr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:gi(e.seconds),nanos:gi(e.nanos)}}function gi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vi(e){return"string"==typeof e?fi.fromBase64String(e):fi.fromUint8Array(e)}function yi(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _i(e){const t=e.mapValue.fields.__previous_value__;return yi(t)?_i(t):t}function bi(e){const t=mi(e.mapValue.fields.__local_write_time__.timestampValue);return new Or(t.seconds,t.nanos)}class wi{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class xi{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new xi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xi&&e.projectId===this.projectId&&e.database===this.database}}const Si={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ei(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yi(e)?4:Fi(e)?9007199254740991:10:pr()}function Ci(e,t){if(e===t)return!0;const n=Ei(e);if(n!==Ei(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bi(e).isEqual(bi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=mi(e.timestampValue),r=mi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vi(e.bytesValue).isEqual(vi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return gi(e.geoPointValue.latitude)===gi(t.geoPointValue.latitude)&&gi(e.geoPointValue.longitude)===gi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return gi(e.integerValue)===gi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=gi(e.doubleValue),r=gi(t.doubleValue);return n===r?Xr(n)===Xr(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return jr(e.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ri(n)!==ri(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ci(n[i],r[i])))return!1;return!0}(e,t);default:return pr()}}function Ti(e,t){return void 0!==(e.values||[]).find((e=>Ci(e,t)))}function ki(e,t){if(e===t)return 0;const n=Ei(e),r=Ei(t);if(n!==r)return Nr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=gi(e.integerValue||e.doubleValue),r=gi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ii(e.timestampValue,t.timestampValue);case 4:return Ii(bi(e),bi(t));case 5:return Nr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=vi(e),r=vi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Nr(n[i],r[i]);if(0!==e)return e}return Nr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Nr(gi(e.latitude),gi(t.latitude));return 0!==n?n:Nr(gi(e.longitude),gi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ki(n[i],r[i]);if(e)return e}return Nr(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Si.mapValue&&t===Si.mapValue)return 0;if(e===Si.mapValue)return 1;if(t===Si.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Nr(r[s],o[s]);if(0!==e)return e;const t=ki(n[r[s]],i[o[s]]);if(0!==t)return t}return Nr(r.length,o.length)}(e.mapValue,t.mapValue);default:throw pr()}}function Ii(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Nr(e,t);const n=mi(e),r=mi(t),i=Nr(n.seconds,r.seconds);return 0!==i?i:Nr(n.nanos,r.nanos)}function Pi(e){return Ni(e)}function Ni(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=mi(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return vi(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Fr.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ni(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Ni(e.fields[i]));return n+"}"}(e.mapValue):pr()}function ji(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Oi(e){return!!e&&"integerValue"in e}function Ai(e){return!!e&&"arrayValue"in e}function Li(e){return!!e&&"nullValue"in e}function Ri(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Di(e){return!!e&&"mapValue"in e}function Mi(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ii(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Mi(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Mi(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Fi(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ui{constructor(e){this.value=e}static empty(){return new Ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Di(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mi(t)}setAll(e){let t=Mr.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Mi(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Di(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Di(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ii(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ui(Mi(this.value))}}function zi(e){const t=[];return ii(e.fields,((e,n)=>{const r=new Mr([e]);if(Di(n)){const e=zi(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new hi(t)}class Vi{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Vi(e,0,Ar.min(),Ar.min(),Ar.min(),Ui.empty(),0)}static newFoundDocument(e,t,n,r){return new Vi(e,1,t,Ar.min(),n,r,0)}static newNoDocument(e,t){return new Vi(e,2,t,Ar.min(),Ar.min(),Ui.empty(),0)}static newUnknownDocument(e,t){return new Vi(e,3,t,Ar.min(),Ar.min(),Ui.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ar.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ar.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Bi{constructor(e,t){this.position=e,this.inclusive=t}}function Hi(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Fr.comparator(Fr.fromName(s.referenceValue),n.key):ki(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Wi(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ci(e.position[n],t.position[n]))return!1;return!0}class qi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Gi(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ki{}class Zi extends Ki{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new no(e,t,n):"array-contains"===t?new so(e,n):"in"===t?new ao(e,n):"not-in"===t?new lo(e,n):"array-contains-any"===t?new co(e,n):new Zi(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ro(e,n):new io(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ki(t,this.value)):null!==t&&Ei(this.value)===Ei(t)&&this.matchesComparison(ki(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $i extends Ki{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new $i(e,t)}matches(e){return Qi(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Qi(e){return"and"===e.op}function Yi(e){return Xi(e)&&Qi(e)}function Xi(e){for(const t of e.filters)if(t instanceof $i)return!1;return!0}function Ji(e){if(e instanceof Zi)return e.field.canonicalString()+e.op.toString()+Pi(e.value);if(Yi(e))return e.filters.map((e=>Ji(e))).join(",");{const t=e.filters.map((e=>Ji(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function eo(e,t){return e instanceof Zi?function(e,t){return t instanceof Zi&&e.op===t.op&&e.field.isEqual(t.field)&&Ci(e.value,t.value)}(e,t):e instanceof $i?function(e,t){return t instanceof $i&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&eo(n,t.filters[r])),!0)}(e,t):void pr()}function to(e){return e instanceof Zi?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Pi(e.value))}(e):e instanceof $i?function(e){return e.op.toString()+" {"+e.getFilters().map(to).join(" ,")+"}"}(e):"Filter"}class no extends Zi{constructor(e,t,n){super(e,t,n),this.key=Fr.fromName(n.referenceValue)}matches(e){const t=Fr.comparator(e.key,this.key);return this.matchesComparison(t)}}class ro extends Zi{constructor(e,t){super(e,"in",t),this.keys=oo("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class io extends Zi{constructor(e,t){super(e,"not-in",t),this.keys=oo("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function oo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Fr.fromName(e.referenceValue)))}class so extends Zi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ai(t)&&Ti(t.arrayValue,this.value)}}class ao extends Zi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ti(this.value.arrayValue,t)}}class lo extends Zi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ti(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ti(this.value.arrayValue,t)}}class co extends Zi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ai(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ti(this.value.arrayValue,e)))}}class uo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ue=null}}function ho(e){return new uo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function fo(e){const t=gr(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Ji(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Yr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Pi(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Pi(e))).join(",")),t.ue=e}return t.ue}function po(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Gi(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!eo(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wi(e.startAt,t.startAt)&&Wi(e.endAt,t.endAt)}function mo(e){return Fr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class go{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function vo(e,t,n,r,i,o,s,a){return new go(e,t,n,r,i,o,s,a)}function yo(e){return new go(e)}function _o(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function bo(e){return null!==e.collectionGroup}function wo(e){const t=gr(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ci(Mr.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new qi(r,n))})),e.has(Mr.keyField().canonicalString())||t.ce.push(new qi(Mr.keyField(),n))}return t.ce}function xo(e){const t=gr(e);return t.le||(t.le=So(t,wo(e))),t.le}function So(e,t){if("F"===e.limitType)return ho(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new qi(e.field,t)}));const n=e.endAt?new Bi(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Bi(e.startAt.position,e.startAt.inclusive):null;return ho(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Eo(e,t){const n=e.filters.concat([t]);return new go(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Co(e,t,n){return new go(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function To(e,t){return po(xo(e),xo(t))&&e.limitType===t.limitType}function ko(e){return"".concat(fo(xo(e)),"|lt:").concat(e.limitType)}function Io(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>to(e))).join(", "),"]")),Yr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Pi(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Pi(e))).join(",")),"Target(".concat(t,")")}(xo(e)),"; limitType=").concat(e.limitType,")")}function Po(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Fr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of wo(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Hi(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,wo(e),t))&&!(e.endAt&&!function(e,t,n){const r=Hi(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,wo(e),t))}(e,t)}function No(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function jo(e){return(t,n)=>{let r=!1;for(const i of wo(e)){const e=Oo(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Oo(e,t,n){const r=e.field.isKeyField()?Fr.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ki(r,i):pr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return pr()}}class Ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ii(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return oi(this.inner)}size(){return this.innerSize}}const Lo=new si(Fr.comparator);function Ro(){return Lo}const Do=new si(Fr.comparator);function Mo(){let e=Do;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Fo(e){let t=Do;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Uo(){return Vo()}function zo(){return Vo()}function Vo(){return new Ao((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Bo=new si(Fr.comparator),Ho=new ci(Fr.comparator);function Wo(){let e=Ho;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const qo=new ci(Nr);function Go(){return qo}function Ko(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xr(t)?"-0":t}}function Zo(e){return{integerValue:""+e}}function $o(e,t){return Jr(t)?Zo(t):Ko(e,t)}class Qo{constructor(){this._=void 0}}function Yo(e,t,n){return e instanceof es?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&yi(t)&&(t=_i(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ts?ns(e,t):e instanceof rs?is(e,t):function(e,t){const n=Jo(e,t),r=ss(n)+ss(e.Pe);return Oi(n)&&Oi(e.Pe)?Zo(r):Ko(e.serializer,r)}(e,t)}function Xo(e,t,n){return e instanceof ts?ns(e,t):e instanceof rs?is(e,t):n}function Jo(e,t){return e instanceof os?function(e){return Oi(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class es extends Qo{}class ts extends Qo{constructor(e){super(),this.elements=e}}function ns(e,t){const n=as(t);for(const r of e.elements)n.some((e=>Ci(e,r)))||n.push(r);return{arrayValue:{values:n}}}class rs extends Qo{constructor(e){super(),this.elements=e}}function is(e,t){let n=as(t);for(const r of e.elements)n=n.filter((e=>!Ci(e,r)));return{arrayValue:{values:n}}}class os extends Qo{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ss(e){return gi(e.integerValue||e.doubleValue)}function as(e){return Ai(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ls{constructor(e,t){this.field=e,this.transform=t}}class cs{constructor(e,t){this.version=e,this.transformResults=t}}class us{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new us}static exists(e){return new us(void 0,e)}static updateTime(e){return new us(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hs(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ds{}function fs(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ss(e.key,us.none()):new ys(e.key,e.data,us.none());{const n=e.data,r=Ui.empty();let i=new ci(Mr.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new _s(e.key,r,new hi(i.toArray()),us.none())}}function ps(e,t,n){e instanceof ys?function(e,t,n){const r=e.value.clone(),i=ws(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof _s?function(e,t,n){if(!hs(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ws(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(bs(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ms(e,t,n,r){return e instanceof ys?function(e,t,n,r){if(!hs(e.precondition,t))return n;const i=e.value.clone(),o=xs(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof _s?function(e,t,n,r){if(!hs(e.precondition,t))return n;const i=xs(e.fieldTransforms,r,t),o=t.data;return o.setAll(bs(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return hs(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function gs(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Jo(r.transform,e||null);null!=i&&(null===n&&(n=Ui.empty()),n.set(r.field,i))}return n||null}function vs(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&jr(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ts&&t instanceof ts||e instanceof rs&&t instanceof rs?jr(e.elements,t.elements,Ci):e instanceof os&&t instanceof os?Ci(e.Pe,t.Pe):e instanceof es&&t instanceof es}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ys extends ds{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class _s extends ds{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function bs(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function ws(e,t,n){const r=new Map;mr(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Xo(s,a,n[i]))}return r}function xs(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Yo(e,o,t))}return r}class Ss extends ds{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Es extends ds{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Cs{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ps(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ms(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ms(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=zo();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=fs(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Ar.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Wo())}isEqual(e){return this.batchId===e.batchId&&jr(this.mutations,e.mutations,((e,t)=>vs(e,t)))&&jr(this.baseMutations,e.baseMutations,((e,t)=>vs(e,t)))}}class Ts{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){mr(e.mutations.length===n.length);let r=Bo;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Ts(e,t,n,r)}}class ks{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Is{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ps,Ns;function js(e){switch(e){default:return pr();case vr.CANCELLED:case vr.UNKNOWN:case vr.DEADLINE_EXCEEDED:case vr.RESOURCE_EXHAUSTED:case vr.INTERNAL:case vr.UNAVAILABLE:case vr.UNAUTHENTICATED:return!1;case vr.INVALID_ARGUMENT:case vr.NOT_FOUND:case vr.ALREADY_EXISTS:case vr.PERMISSION_DENIED:case vr.FAILED_PRECONDITION:case vr.ABORTED:case vr.OUT_OF_RANGE:case vr.UNIMPLEMENTED:case vr.DATA_LOSS:return!0}}function Os(e){if(void 0===e)return hr("GRPC error has no .code"),vr.UNKNOWN;switch(e){case Ps.OK:return vr.OK;case Ps.CANCELLED:return vr.CANCELLED;case Ps.UNKNOWN:return vr.UNKNOWN;case Ps.DEADLINE_EXCEEDED:return vr.DEADLINE_EXCEEDED;case Ps.RESOURCE_EXHAUSTED:return vr.RESOURCE_EXHAUSTED;case Ps.INTERNAL:return vr.INTERNAL;case Ps.UNAVAILABLE:return vr.UNAVAILABLE;case Ps.UNAUTHENTICATED:return vr.UNAUTHENTICATED;case Ps.INVALID_ARGUMENT:return vr.INVALID_ARGUMENT;case Ps.NOT_FOUND:return vr.NOT_FOUND;case Ps.ALREADY_EXISTS:return vr.ALREADY_EXISTS;case Ps.PERMISSION_DENIED:return vr.PERMISSION_DENIED;case Ps.FAILED_PRECONDITION:return vr.FAILED_PRECONDITION;case Ps.ABORTED:return vr.ABORTED;case Ps.OUT_OF_RANGE:return vr.OUT_OF_RANGE;case Ps.UNIMPLEMENTED:return vr.UNIMPLEMENTED;case Ps.DATA_LOSS:return vr.DATA_LOSS;default:return pr()}}(Ns=Ps||(Ps={}))[Ns.OK=0]="OK",Ns[Ns.CANCELLED=1]="CANCELLED",Ns[Ns.UNKNOWN=2]="UNKNOWN",Ns[Ns.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ns[Ns.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ns[Ns.NOT_FOUND=5]="NOT_FOUND",Ns[Ns.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ns[Ns.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ns[Ns.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ns[Ns.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ns[Ns.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ns[Ns.ABORTED=10]="ABORTED",Ns[Ns.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ns[Ns.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ns[Ns.INTERNAL=13]="INTERNAL",Ns[Ns.UNAVAILABLE=14]="UNAVAILABLE",Ns[Ns.DATA_LOSS=15]="DATA_LOSS";let As=null;function Ls(){return new TextEncoder}const Rs=new Wn([4294967295,4294967295],0);function Ds(e){const t=Ls().encode(e),n=new qn;return n.update(t),new Uint8Array(n.digest())}function Ms(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Wn([n,r],0),new Wn([i,o],0)]}class Fs{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Us("Invalid padding: ".concat(t));if(n<0)throw new Us("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Us("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Us("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Wn.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Wn.fromNumber(n)));return 1===r.compare(Rs)&&(r=new Wn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Ds(e),[n,r]=Ms(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Fs(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ie)return;const t=Ds(e),[n,r]=Ms(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Us extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zs{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Vs.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new zs(Ar.min(),r,new si(Nr),Ro(),Wo())}}class Vs{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Vs(n,t,Wo(),Wo(),Wo())}}class Bs{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Hs{constructor(e,t){this.targetId=e,this.me=t}}class Ws{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fi.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class qs{constructor(){this.fe=0,this.ge=Zs(),this.pe=fi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Wo(),t=Wo(),n=Wo();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:pr()}})),new Vs(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=Zs()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,mr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Gs{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ro(),this.qe=Ks(),this.Qe=new si(Nr)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:pr()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(mo(i))if(0===n){const e=new Fr(i.path);this.Ue(t,e,Vi.newNoDocument(e,Ar.min()))}else mr(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==As||As.et(function(e,t,n,r,i){var o,s,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=vi(n).toUint8Array()}catch(e){if(e instanceof di)return dr("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Fs(o,r,i)}catch(e){return dr(e instanceof Us?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ie?null:s}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&mo(i.target)){const t=new Fr(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Vi.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=Wo();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new zs(e,t,this.Qe,this.ke,n);return this.ke=Ro(),this.qe=Ks(),this.Qe=new si(Nr),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new qs,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ci(Nr),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||ur("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new qs),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ks(){return new si(Fr.comparator)}function Zs(){return new si(Fr.comparator)}const $s={asc:"ASCENDING",desc:"DESCENDING"},Qs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ys={and:"AND",or:"OR"};class Xs{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Js(e,t){return e.useProto3Json||Yr(t)?t:{value:t}}function ea(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ta(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function na(e,t){return ea(e,t.toTimestamp())}function ra(e){return mr(!!e),Ar.fromTimestamp(function(e){const t=mi(e);return new Or(t.seconds,t.nanos)}(e))}function ia(e,t){return oa(e,t).canonicalString()}function oa(e,t){const n=function(e){return new Rr(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function sa(e){const t=Rr.fromString(e);return mr(Ta(t)),t}function aa(e,t){return ia(e.databaseId,t.path)}function la(e,t){const n=sa(t);if(n.get(1)!==e.databaseId.projectId)throw new yr(vr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new yr(vr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Fr(da(n))}function ca(e,t){return ia(e.databaseId,t)}function ua(e){const t=sa(e);return 4===t.length?Rr.emptyPath():da(t)}function ha(e){return new Rr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function da(e){return mr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function fa(e,t,n){return{name:aa(e,t),fields:n.value.mapValue.fields}}function pa(e,t){let n;if(t instanceof ys)n={update:fa(e,t.key,t.value)};else if(t instanceof Ss)n={delete:aa(e,t.key)};else if(t instanceof _s)n={update:fa(e,t.key,t.data),updateMask:Ca(t.fieldMask)};else{if(!(t instanceof Es))return pr();n={verify:aa(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof es)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ts)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof rs)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof os)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw pr()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:na(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:pr()}(e,t.precondition)),n}function ma(e,t){return{documents:[ca(e,t.path)]}}function ga(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ca(e,i);const o=function(e){if(0!==e.length)return Ea($i.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:xa(e.field),direction:_a(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Js(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function va(e){let t=ua(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mr(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=ya(e);return t instanceof $i&&Yi(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new qi(Sa(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Yr(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Bi(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Bi(n,t)}(n.endAt)),vo(t,i,s,o,a,"F",l,c)}function ya(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Sa(e.unaryFilter.field);return Zi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Sa(e.unaryFilter.field);return Zi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Sa(e.unaryFilter.field);return Zi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Sa(e.unaryFilter.field);return Zi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return pr()}}(e):void 0!==e.fieldFilter?function(e){return Zi.create(Sa(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pr()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return $i.create(e.compositeFilter.filters.map((e=>ya(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return pr()}}(e.compositeFilter.op))}(e):pr()}function _a(e){return $s[e]}function ba(e){return Qs[e]}function wa(e){return Ys[e]}function xa(e){return{fieldPath:e.canonicalString()}}function Sa(e){return Mr.fromServerFormat(e.fieldPath)}function Ea(e){return e instanceof Zi?function(e){if("=="===e.op){if(Ri(e.value))return{unaryFilter:{field:xa(e.field),op:"IS_NAN"}};if(Li(e.value))return{unaryFilter:{field:xa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ri(e.value))return{unaryFilter:{field:xa(e.field),op:"IS_NOT_NAN"}};if(Li(e.value))return{unaryFilter:{field:xa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(e.field),op:ba(e.op),value:e.value}}}(e):e instanceof $i?function(e){const t=e.getFilters().map((e=>Ea(e)));return 1===t.length?t[0]:{compositeFilter:{op:wa(e.op),filters:t}}}(e):pr()}function Ca(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Ta(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ka{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ar.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ar.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fi.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ia{constructor(e){this.ct=e}}function Pa(e){const t=va({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Co(t,t.limit,"L"):t}class Na{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(gi(e.integerValue));else if("doubleValue"in e){const n=gi(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Xr(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=mi(n)),t.At("".concat(n.seconds||"")),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(vi(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Fi(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):pr()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Fr.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}Na.bt=new Na;class ja{constructor(){this._n=new Oa}addToCollectionParentIndex(e,t){return this._n.add(t),Kr.resolve()}getCollectionParents(e,t){return Kr.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return Kr.resolve()}deleteFieldIndex(e,t){return Kr.resolve()}deleteAllFieldIndexes(e){return Kr.resolve()}createTargetIndexes(e,t){return Kr.resolve()}getDocumentsMatchingTarget(e,t){return Kr.resolve(null)}getIndexType(e,t){return Kr.resolve(0)}getFieldIndexes(e,t){return Kr.resolve([])}getNextCollectionGroupToUpdate(e){return Kr.resolve(null)}getMinOffset(e,t){return Kr.resolve(Br.min())}getMinOffsetFromCollectionGroup(e,t){return Kr.resolve(Br.min())}updateCollectionGroup(e,t,n){return Kr.resolve()}updateIndexEntries(e,t){return Kr.resolve()}}class Oa{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ci(Rr.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ci(Rr.comparator)).toArray()}}new Uint8Array(0);class Aa{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Aa(e,Aa.DEFAULT_COLLECTION_PERCENTILE,Aa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Aa.DEFAULT_COLLECTION_PERCENTILE=10,Aa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Aa.DEFAULT=new Aa(41943040,Aa.DEFAULT_COLLECTION_PERCENTILE,Aa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Aa.DISABLED=new Aa(-1,0,0);class La{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new La(0)}static Ln(){return new La(-1)}}class Ra{constructor(){this.changes=new Ao((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Kr.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Da{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ma{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&ms(n.mutation,e,hi.empty(),Or.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Wo()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wo();const r=Uo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Mo();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Uo();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Wo())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Ro();const o=Vo(),s=Vo();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof _s)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),ms(s.mutation,t,s.mutation.getFieldMask(),Or.now())):o.set(t.key,hi.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Da(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Vo();let r=new si(((e,t)=>e-t)),i=Wo();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||hi.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Wo()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=zo();l.forEach((e=>{if(!i.has(e)){const r=fs(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Kr.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Fr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Kr.resolve(Uo());let s=-1,a=i;return o.next((t=>Kr.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Kr.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Wo()))).next((e=>({batchId:s,changes:Fo(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fr(t)).next((e=>{let t=Mo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Mo();return this.indexManager.getCollectionParents(e,i).next((s=>Kr.forEach(s,(s=>{const a=function(e,t){return new go(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Vi.newInvalidDocument(r)))}));let n=Mo();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&ms(o.mutation,r,hi.empty(),Or.now()),Po(t,r)&&(n=n.insert(e,r))})),n}))}}class Fa{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return Kr.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ra(e.createTime)}}(t)),Kr.resolve()}getNamedQuery(e,t){return Kr.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Pa(e.bundledQuery),readTime:ra(e.readTime)}}(t)),Kr.resolve()}}class Ua{constructor(){this.overlays=new si(Fr.comparator),this.hr=new Map}getOverlay(e,t){return Kr.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Uo();return Kr.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Kr.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),Kr.resolve()}getOverlaysForCollection(e,t,n){const r=Uo(),i=t.length+1,o=new Fr(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Kr.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new si(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Uo(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Uo(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Kr.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ks(t,n));let i=this.hr.get(t);void 0===i&&(i=Wo(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class za{constructor(){this.Pr=new ci(Va.Ir),this.Tr=new ci(Va.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Va(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Va(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Fr(new Rr([])),n=new Va(t,e),r=new Va(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Fr(new Rr([])),n=new Va(t,e),r=new Va(t,e+1);let i=Wo();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Va(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Va{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Fr.comparator(e.key,t.key)||Nr(e.pr,t.pr)}static Er(e,t){return Nr(e.pr,t.pr)||Fr.comparator(e.key,t.key)}}class Ba{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new ci(Va.Ir)}checkEmpty(e){return Kr.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Cs(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.wr=this.wr.add(new Va(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Kr.resolve(o)}lookupMutationBatch(e,t){return Kr.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return Kr.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Kr.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Kr.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Va(t,0),r=new Va(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),Kr.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ci(Nr);return t.forEach((e=>{const t=new Va(e,0),r=new Va(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),Kr.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Fr.isDocumentKey(i)||(i=i.child(""));const o=new Va(new Fr(i),0);let s=new ci(Nr);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)}),o),Kr.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){mr(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Kr.forEach(t.mutations,(r=>{const i=new Va(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Va(t,0),r=this.wr.firstAfterOrEqual(n);return Kr.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Kr.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ha{constructor(e){this.vr=e,this.docs=new si(Fr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Kr.resolve(n?n.document.mutableCopy():Vi.newInvalidDocument(t))}getEntries(e,t){let n=Ro();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Vi.newInvalidDocument(e))})),Kr.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ro();const o=t.path,s=new Fr(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Hr(Vr(s),n)<=0||(r.has(s.key)||Po(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Kr.resolve(i)}getAllFromCollectionGroup(e,t,n,r){pr()}Fr(e,t){return Kr.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Wa(this)}getSize(e){return Kr.resolve(this.size)}}class Wa extends Ra{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),Kr.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class qa{constructor(e){this.persistence=e,this.Mr=new Ao((e=>fo(e)),po),this.lastRemoteSnapshotVersion=Ar.min(),this.highestTargetId=0,this.Or=0,this.Nr=new za,this.targetCount=0,this.Lr=La.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),Kr.resolve()}getLastRemoteSnapshotVersion(e){return Kr.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Kr.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Kr.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Kr.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new La(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,Kr.resolve()}updateTargetData(e,t){return this.qn(t),Kr.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Kr.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Kr.waitFor(i).next((()=>r))}getTargetCount(e){return Kr.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return Kr.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),Kr.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Kr.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),Kr.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return Kr.resolve(n)}containsKey(e,t){return Kr.resolve(this.Nr.containsKey(t))}}class Ga{constructor(e,t){this.Br={},this.overlays={},this.kr=new Qr(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new qa(this),this.indexManager=new ja,this.remoteDocumentCache=function(e){return new Ha(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Ia(t),this.$r=new Fa(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ua,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new Ba(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){ur("MemoryPersistence","Starting transaction:",e);const r=new Ka(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return Kr.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class Ka extends qr{constructor(e){super(),this.currentSequenceNumber=e}}class Za{constructor(e){this.persistence=e,this.zr=new za,this.jr=null}static Hr(e){return new Za(e)}get Jr(){if(this.jr)return this.jr;throw pr()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Kr.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Kr.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),Kr.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Kr.forEach(this.Jr,(n=>{const r=Fr.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Ar.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return Kr.or([()=>Kr.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class $a{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Wo(),r=Wo();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new $a(e,t.fromCache,n,r)}}class Qa{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ya{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Je()?8:Zr(Xe())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Qa;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(cr()<=yt.DEBUG&&ur("QueryEngine","SDK will not create cache indexes for query:",Io(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Kr.resolve()):(cr()<=yt.DEBUG&&ur("QueryEngine","Query:",Io(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(cr()<=yt.DEBUG&&ur("QueryEngine","The SDK decides to create cache indexes for query:",Io(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xo(t))):Kr.resolve())}ji(e,t){if(_o(t))return Kr.resolve(null);let n=xo(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Co(t,null,"F"),n=xo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Wo(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Zi(t,r);return this.Xi(t,o,i,n.readTime)?this.ji(e,Co(t,null,"F")):this.es(e,o,t,n)}))))})))))}Hi(e,t,n,r){return _o(t)||r.isEqual(Ar.min())?Kr.resolve(null):this.zi.getDocuments(e,n).next((i=>{const o=this.Zi(t,i);return this.Xi(t,o,n,r)?Kr.resolve(null):(cr()<=yt.DEBUG&&ur("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Io(t)),this.es(e,o,t,zr(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new ci(jo(e));return t.forEach(((t,r)=>{Po(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return cr()<=yt.DEBUG&&ur("QueryEngine","Using full collection scan to execute query:",Io(t)),this.zi.getDocumentsMatchingQuery(e,t,Br.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Xa{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new si(Nr),this.rs=new Ao((e=>fo(e)),po),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ma(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Ja(e,t,n,r){return new Xa(e,t,n,r)}async function el(e,t){const n=gr(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Wo();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({us:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function tl(e){const t=gr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function nl(e,t,n){let r=Wo(),i=Wo();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Ro();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Ar.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):ur("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{cs:r,ls:i}}))}function rl(e,t){const n=gr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function il(e,t){const n=gr(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,Kr.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new ka(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function ol(e,t,n){const r=gr(e),i=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!$r(e))throw e;ur("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function sl(e,t,n){const r=gr(e);let i=Ar.min(),o=Wo();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=gr(e),i=r.rs.get(n);return void 0!==i?Kr.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,xo(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Ar.min(),n?o:Wo()))).next((e=>(al(r,No(t),e),{documents:e,hs:o})))))}function al(e,t,n){let r=e.ss.get(t)||Ar.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class ll{constructor(){this.activeTargetIds=Go()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cl{constructor(){this.no=new ll,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new ll,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ul{io(e){}shutdown(){}}class hl{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ur("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ur("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let dl=null;function fl(){return null===dl?dl=268435456+Math.round(2147483648*Math.random()):dl++,"0x"+dl.toString(16)}const pl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ml{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const gl="WebChannelConnection";class vl extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.wo=t+"://"+e.host,this.So="projects/".concat(n,"/databases/").concat(r),this.bo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Do(){return!1}Co(e,t,n,r,i){const o=fl(),s=this.vo(e,t.toUriEncodedString());ur("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(a,r,i),this.Mo(e,s,a,n).then((t=>(ur("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw dr("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}xo(e,t,n,r,i,o){return this.Co(e,t,n,r,i)}Fo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ar,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}vo(e,t){const n=pl[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,n,r){const i=fl();return new Promise(((o,s)=>{const a=new Zn;a.setWithCredentials(!0),a.listenOnce(Yn.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Xn.NO_ERROR:const t=a.getResponseJson();ur(gl,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Xn.TIMEOUT:ur(gl,"RPC '".concat(e,"' ").concat(i," timed out")),s(new yr(vr.DEADLINE_EXCEEDED,"Request time out"));break;case Xn.HTTP_ERROR:const n=a.getStatus();if(ur(gl,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(vr).indexOf(t)>=0?t:vr.UNKNOWN}(t.status);s(new yr(e,t.message))}else s(new yr(vr.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new yr(vr.UNAVAILABLE,"Connection failed."));break;default:pr()}}finally{ur(gl,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);ur(gl,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Oo(e,t,n){const r=fl(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=nr(),s=tr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new $n({})),this.Fo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");ur(gl,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let h=!1,d=!1;const f=new ml({lo:t=>{d?ur(gl,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(ur(gl,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),ur(gl,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Qn.EventType.OPEN,(()=>{d||(ur(gl,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.mo())})),p(u,Qn.EventType.CLOSE,(()=>{d||(d=!0,ur(gl,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.po())})),p(u,Qn.EventType.ERROR,(t=>{d||(d=!0,dr(gl,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.po(new yr(vr.UNAVAILABLE,"The operation could not be completed")))})),p(u,Qn.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];mr(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){ur(gl,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Ps[e];if(void 0!==t)return Os(t)}(t),i=s.message;void 0===n&&(n=vr.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.po(new yr(n,i)),u.close()}else ur(gl,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.yo(i)}})),p(s,er.STAT_EVENT,(t=>{t.stat===Jn.PROXY?ur(gl,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Jn.NOPROXY&&ur(gl,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function yl(){return"undefined"!=typeof document?document:null}function _l(e){return new Xs(e,!0)}class bl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.No=n,this.Lo=r,this.Bo=i,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,t-n);r>0&&ur("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Qo=Date.now(),e()))),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class wl{constructor(e,t,n,r,i,o,s,a){this.oi=e,this.Go=n,this.zo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new bl(e,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,(()=>this.r_())))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,t){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,4!==e?this.Yo.reset():t&&t.code===vr.RESOURCE_EXHAUSTED?(hr(t.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===vr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(t)}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.jo===t&&this.u_(n,r)}),(t=>{e((()=>{const e=new yr(vr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.c_(e)}))}))}u_(e,t){const n=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po((()=>{n((()=>this.listener.Po()))})),this.stream.To((()=>{n((()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,(()=>(this.Xo()&&(this.state=3),Promise.resolve()))),this.listener.To())))})),this.stream.Ao((e=>{n((()=>this.c_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}e_(){this.state=5,this.Yo.$o((async()=>{this.state=0,this.start()}))}c_(e){return ur("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget((()=>this.jo===e?t():(ur("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xl extends wl{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:pr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(mr(void 0===t||"string"==typeof t),fi.fromBase64String(t||"")):(mr(void 0===t||t instanceof Buffer||t instanceof Uint8Array),fi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?vr.UNKNOWN:Os(e.code);return new yr(t,e.message||"")}(s);n=new Ws(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=la(e,r.document.name),o=ra(r.document.updateTime),s=r.document.createTime?ra(r.document.createTime):Ar.min(),a=new Ui({mapValue:{fields:r.document.fields}}),l=Vi.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Bs(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=la(e,r.document),o=r.readTime?ra(r.readTime):Ar.min(),s=Vi.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Bs([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=la(e,r.document),o=r.removedTargetIds||[];n=new Bs([],o,i,null)}else{if(!("filter"in t))return pr();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Is(r,i),s=e.targetId;n=new Hs(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ar.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ar.min():t.readTime?ra(t.readTime):Ar.min()}(e);return this.listener.h_(t,n)}P_(e){const t={};t.database=ha(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=mo(r)?{documents:ma(e,r)}:{query:ga(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ta(e,t.resumeToken);const r=Js(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ar.min())>0){n.readTime=ea(e,t.snapshotVersion.toTimestamp());const r=Js(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pr()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.i_(t)}I_(e){const t={};t.database=ha(this.serializer),t.removeTarget=e,this.i_(t)}}class Sl extends wl{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(mr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=function(e,t){return e&&e.length>0?(mr(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?ra(e.updateTime):ra(t);return n.isEqual(Ar.min())&&(n=ra(t)),new cs(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ra(e.commitTime);return this.listener.A_(n,t)}return mr(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=ha(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>pa(this.serializer,e)))};this.i_(t)}}class El extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new yr(vr.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Co(e,oa(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===vr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yr(vr.UNKNOWN,e.toString())}))}xo(e,t,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.xo(e,oa(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===vr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yr(vr.UNKNOWN,e.toString())}))}terminate(){this.m_=!0,this.connection.terminate()}}class Cl{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(hr(t),this.y_=!1):ur("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Tl{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.io((e=>{n.enqueueAndForget((async()=>{Rl(this)&&(ur("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=gr(e);t.M_.add(4),await Il(t),t.N_.set("Unknown"),t.M_.delete(4),await kl(t)}(this))}))})),this.N_=new Cl(n,r)}}async function kl(e){if(Rl(e))for(const t of e.x_)await t(!0)}async function Il(e){for(const t of e.x_)await t(!1)}function Pl(e,t){const n=gr(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),Ll(n)?Al(n):ec(n).Xo()&&jl(n,t))}function Nl(e,t){const n=gr(e),r=ec(n);n.F_.delete(t),r.Xo()&&Ol(n,t),0===n.F_.size&&(r.Xo()?r.n_():Rl(n)&&n.N_.set("Unknown"))}function jl(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ar.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ec(e).P_(t)}function Ol(e,t){e.L_.xe(t),ec(e).I_(t)}function Al(e){e.L_=new Gs({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),ec(e).start(),e.N_.w_()}function Ll(e){return Rl(e)&&!ec(e).Zo()&&e.F_.size>0}function Rl(e){return 0===gr(e).M_.size}function Dl(e){e.L_=void 0}async function Ml(e){e.N_.set("Online")}async function Fl(e){e.F_.forEach(((t,n)=>{jl(e,t)}))}async function Ul(e,t){Dl(e),Ll(e)?(e.N_.D_(t),Al(e)):e.N_.set("Unknown")}async function zl(e,t,n){if(e.N_.set("Online"),t instanceof Ws&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){ur("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Vl(e,n)}else if(t instanceof Bs?e.L_.Ke(t):t instanceof Hs?e.L_.He(t):e.L_.We(t),!n.isEqual(Ar.min()))try{const t=await tl(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(fi.EMPTY_BYTE_STRING,r.snapshotVersion)),Ol(e,t);const i=new ka(r.target,t,n,r.sequenceNumber);jl(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ur("RemoteStore","Failed to raise snapshot:",t),await Vl(e,t)}}async function Vl(e,t,n){if(!$r(t))throw t;e.M_.add(1),await Il(e),e.N_.set("Offline"),n||(n=()=>tl(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ur("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await kl(e)}))}function Bl(e,t){return t().catch((n=>Vl(e,n,t)))}async function Hl(e){const t=gr(e),n=tc(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;Wl(t);)try{const e=await rl(t.localStore,r);if(null===e){0===t.v_.length&&n.n_();break}r=e.batchId,ql(t,e)}catch(e){await Vl(t,e)}Gl(t)&&Kl(t)}function Wl(e){return Rl(e)&&e.v_.length<10}function ql(e,t){e.v_.push(t);const n=tc(e);n.Xo()&&n.E_&&n.d_(t.mutations)}function Gl(e){return Rl(e)&&!tc(e).Zo()&&e.v_.length>0}function Kl(e){tc(e).start()}async function Zl(e){tc(e).V_()}async function $l(e){const t=tc(e);for(const n of e.v_)t.d_(n.mutations)}async function Ql(e,t,n){const r=e.v_.shift(),i=Ts.from(r,t,n);await Bl(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Hl(e)}async function Yl(e,t){t&&tc(e).E_&&await async function(e,t){if(function(e){return js(e)&&e!==vr.ABORTED}(t.code)){const n=e.v_.shift();tc(e).t_(),await Bl(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Hl(e)}}(e,t),Gl(e)&&Kl(e)}async function Xl(e,t){const n=gr(e);n.asyncQueue.verifyOperationInProgress(),ur("RemoteStore","RemoteStore received new credentials");const r=Rl(n);n.M_.add(3),await Il(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await kl(n)}async function Jl(e,t){const n=gr(e);t?(n.M_.delete(2),await kl(n)):t||(n.M_.add(2),await Il(n),n.N_.set("Unknown"))}function ec(e){return e.B_||(e.B_=function(e,t,n){const r=gr(e);return r.f_(),new xl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Ml.bind(null,e),To:Fl.bind(null,e),Ao:Ul.bind(null,e),h_:zl.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.t_(),Ll(e)?Al(e):e.N_.set("Unknown")):(await e.B_.stop(),Dl(e))}))),e.B_}function tc(e){return e.k_||(e.k_=function(e,t,n){const r=gr(e);return r.f_(),new Sl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:Zl.bind(null,e),Ao:Yl.bind(null,e),R_:$l.bind(null,e),A_:Ql.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.t_(),await Hl(e)):(await e.k_.stop(),e.v_.length>0&&(ur("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]))}))),e.k_}class nc{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new nc(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yr(vr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rc(e,t){if(hr("AsyncQueue","".concat(t,": ").concat(e)),$r(e))return new yr(vr.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class ic{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Fr.comparator(t.key,n.key):(e,t)=>Fr.comparator(e.key,t.key),this.keyedMap=Mo(),this.sortedSet=new si(this.comparator)}static emptySet(e){return new ic(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ic))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ic;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class oc{constructor(){this.q_=new si(Fr.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):pr():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class sc{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new sc(e,t,ic.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&To(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ac{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class lc{constructor(){this.queries=new Ao((e=>ko(e)),To),this.onlineState="Unknown",this.z_=new Set}}async function cc(e,t){const n=gr(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.W_()&&t.G_()&&(r=2):(o=new ac,r=t.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=rc(e,"Initialization of query '".concat(Io(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.U_.push(t),t.j_(n.onlineState),o.K_&&t.H_(o.K_)&&fc(n)}async function uc(e,t){const n=gr(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.U_.indexOf(t);e>=0&&(o.U_.splice(e,1),0===o.U_.length?i=t.G_()?0:1:!o.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hc(e,t){const n=gr(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.U_)e.H_(i)&&(r=!0);t.K_=i}}r&&fc(n)}function dc(e,t,n){const r=gr(e),i=r.queries.get(t);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(t)}function fc(e){e.z_.forEach((e=>{e.next()}))}var pc,mc;(mc=pc||(pc={})).J_="default",mc.Cache="cache";class gc{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new sc(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==pc.Cache}}class vc{constructor(e){this.key=e}}class yc{constructor(e){this.key=e}}class _c{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Wo(),this.mutatedKeys=Wo(),this.Ia=jo(e),this.Ta=new ic(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new oc,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Po(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ra(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Ia(u,a)>0||l&&this.Ia(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:o,Aa:n,Xi:s,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pr()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const s=t&&!r?this.ma():[],a=0===this.Pa.size&&this.current&&!r?1:0,l=a!==this.ha;return this.ha=a,0!==o.length||l?{snapshot:new sc(this.query,e.Ta,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:s}:{fa:s}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new oc,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Wo(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new yc(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new vc(n))})),t}pa(e){this.la=e.hs,this.Pa=Wo();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return sc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class bc{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class wc{constructor(e){this.key=e,this.wa=!1}}class xc{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Ao((e=>ko(e)),To),this.Da=new Map,this.Ca=new Set,this.va=new si(Fr.comparator),this.Fa=new Map,this.Ma=new za,this.xa={},this.Oa=new Map,this.Na=La.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function Sc(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Wc(e);let i;const o=r.ba.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await Cc(r,t,n,!0),i}async function Ec(e,t){const n=Wc(e);await Cc(n,t,!0,!1)}async function Cc(e,t,n,r){const i=await il(e.localStore,xo(t)),o=i.targetId,s=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await Tc(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&Pl(e.remoteStore,i),a}async function Tc(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Xi&&(i=await sl(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.da(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return Fc(e,t.targetId,a.fa),a.snapshot}(e,t,n,r);const o=await sl(e.localStore,t,!0),s=new _c(t,o.hs),a=s.da(o.documents),l=Vs.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);Fc(e,n,c.fa);const u=new bc(t,n,s);return e.ba.set(t,u),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),c.snapshot}async function kc(e,t,n){const r=gr(e),i=r.ba.get(t),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter((e=>!To(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ol(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Nl(r.remoteStore,i.targetId),Dc(r,i.targetId)})).catch(Gr)):(Dc(r,i.targetId),await ol(r.localStore,i.targetId,!0))}async function Ic(e,t){const n=gr(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Nl(n.remoteStore,r.targetId))}async function Pc(e,t){const n=gr(e);try{const e=await function(e,t){const n=gr(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(fi.EMPTY_BYTE_STRING,Ar.min()).withLastLimboFreeSnapshotVersion(Ar.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.Qr.updateTargetData(e,c))}));let a=Ro(),l=Wo();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(nl(e,o,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(Ar.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Kr.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(mr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?mr(r.wa):e.removedDocuments.size>0&&(mr(r.wa),r.wa=!1))})),await Vc(n,e,t)}catch(e){await Gr(e)}}function Nc(e,t,n){const r=gr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=gr(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.U_)i.j_(t)&&(r=!0)})),r&&fc(n)}(r.eventManager,t),e.length&&r.Sa.h_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function jc(e,t,n){const r=gr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),o=i&&i.key;if(o){let e=new si(Fr.comparator);e=e.insert(o,Vi.newNoDocument(o,Ar.min()));const n=Wo().add(o),i=new zs(Ar.min(),new Map,new si(Nr),e,n);await Pc(r,i),r.va=r.va.remove(o),r.Fa.delete(t),zc(r)}else await ol(r.localStore,t,!1).then((()=>Dc(r,t,n))).catch(Gr)}async function Oc(e,t){const n=gr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=gr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Kr.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);mr(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Wo();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Rc(n,r,null),Lc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vc(n,e)}catch(e){await Gr(e)}}async function Ac(e,t,n){const r=gr(e);try{const e=await function(e,t){const n=gr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(mr(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Rc(r,t,n),Lc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Vc(r,e)}catch(n){await Gr(n)}}function Lc(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function Rc(e,t,n){const r=gr(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function Dc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach((t=>{e.Ma.containsKey(t)||Mc(e,t)}))}function Mc(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(Nl(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),zc(e))}function Fc(e,t,n){for(const r of n)r instanceof vc?(e.Ma.addReference(r.key,t),Uc(e,r)):r instanceof yc?(ur("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||Mc(e,r.key)):pr()}function Uc(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(ur("SyncEngine","New document in limbo: "+n),e.Ca.add(r),zc(e))}function zc(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new Fr(Rr.fromString(t)),r=e.Na.next();e.Fa.set(r,new wc(n)),e.va=e.va.insert(n,r),Pl(e.remoteStore,new ka(xo(yo(n.path)),r,"TargetPurposeLimboResolution",Qr.oe))}}async function Vc(e,t,n){const r=gr(e),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach(((e,a)=>{s.push(r.Ba(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){const t=e&&!e.fromCache;r.sharedClientState.updateQueryState(a.targetId,t?"current":"not-current")}if(e){i.push(e);const t=$a.Ki(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Sa.h_(i),await async function(e,t){const n=gr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Kr.forEach(t,(t=>Kr.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Kr.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!$r(e))throw e;ur("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,o))}async function Bc(e,t){const n=gr(e);if(!n.currentUser.isEqual(t)){ur("SyncEngine","User change. New user:",t.toKey());const e=await el(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new yr(vr.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Vc(n,e.us)}}function Hc(e,t){const n=gr(e),r=n.Fa.get(t);if(r&&r.wa)return Wo().add(r.key);{let e=Wo();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}function Wc(e){const t=gr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Pc.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jc.bind(null,t),t.Sa.h_=hc.bind(null,t.eventManager),t.Sa.ka=dc.bind(null,t.eventManager),t}function qc(e){const t=gr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Oc.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ac.bind(null,t),t}class Gc{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=_l(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ja(this.persistence,new Ya,e.initialUser,this.serializer)}createPersistence(e){return new Ga(Za.Hr,this.serializer)}createSharedClientState(e){return new cl}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Kc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Nc(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bc.bind(null,this.syncEngine),await Jl(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new lc}createDatastore(e){const t=_l(e.databaseInfo.databaseId),n=function(e){return new vl(e)}(e.databaseInfo);return function(e,t,n,r){return new El(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Tl(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Nc(this.syncEngine,e,0)),hl.D()?new hl:new ul)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new xc(e,t,n,r,i,o);return s&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=gr(e);ur("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await Il(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class Zc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class $c{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=sr.UNAUTHENTICATED,this.clientId=Pr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{ur("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ur("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new yr(vr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=rc(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Qc(e,t){e.asyncQueue.verifyOperationInProgress(),ur("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await el(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Yc(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Jc(e);ur("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Xl(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Xl(t.remoteStore,n))),e._onlineComponents=t}function Xc(e){return"FirebaseError"===e.name?e.code===vr.FAILED_PRECONDITION||e.code===vr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Jc(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ur("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Xc(n))throw n;dr("Error using user provided cache. Falling back to memory cache: "+n),await Qc(e,new Gc)}}else ur("FirestoreClient","Using default OfflineComponentProvider"),await Qc(e,new Gc);return e._offlineComponents}async function eu(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ur("FirestoreClient","Using user provided OnlineComponentProvider"),await Yc(e,e._uninitializedComponentsProvider._online)):(ur("FirestoreClient","Using default OnlineComponentProvider"),await Yc(e,new Kc))),e._onlineComponents}function tu(e){return eu(e).then((e=>e.syncEngine))}async function nu(e){const t=await eu(e),n=t.eventManager;return n.onListen=Sc.bind(null,t.syncEngine),n.onUnlisten=kc.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Ec.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Ic.bind(null,t.syncEngine),n}function ru(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new _r;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Zc({next:o=>{t.enqueueAndForget((()=>uc(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new yr(vr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new yr(vr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new gc(yo(n.path),o,{includeMetadataChanges:!0,ra:!0});return cc(e,s)}(await nu(e),e.asyncQueue,t,n,r))),r.promise}function iu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new _r;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Zc({next:n=>{t.enqueueAndForget((()=>uc(e,s))),n.fromCache&&"server"===r.source?i.reject(new yr(vr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new gc(n,o,{includeMetadataChanges:!0,ra:!0});return cc(e,s)}(await nu(e),e.asyncQueue,t,n,r))),r.promise}function ou(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const su=new Map;function au(e,t,n){if(!n)throw new yr(vr.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function lu(e){if(!Fr.isDocumentKey(e))throw new yr(vr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function cu(e){if(Fr.isDocumentKey(e))throw new yr(vr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function uu(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":pr()}function hu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yr(vr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uu(e);throw new yr(vr.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class du{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new yr(vr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new yr(vr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new yr(vr.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ou(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new yr(vr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new yr(vr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new yr(vr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fu{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new du({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new yr(vr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new yr(vr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new du(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new wr;switch(e.type){case"firstParty":return new Cr(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new yr(vr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=su.get(e);t&&(ur("ComponentProvider","Removing Datastore"),su.delete(e),t.terminate())}(this),Promise.resolve()}}class pu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new pu(this.firestore,e,this._query)}}class mu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mu(this.firestore,e,this._key)}}class gu extends pu{constructor(e,t,n){super(e,t,yo(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mu(this.firestore,null,new Fr(e))}withConverter(e){return new gu(this.firestore,e,this._path)}}function vu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ht(e),au("collection","path",t),e instanceof fu){const n=Rr.fromString(t,...r);return cu(n),new gu(e,null,n)}{if(!(e instanceof mu||e instanceof gu))throw new yr(vr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Rr.fromString(t,...r));return cu(n),new gu(e.firestore,null,n)}}function yu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ht(e),1===arguments.length&&(t=Pr.newId()),au("doc","path",t),e instanceof fu){const n=Rr.fromString(t,...r);return lu(n),new mu(e,null,new Fr(n))}{if(!(e instanceof mu||e instanceof gu))throw new yr(vr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Rr.fromString(t,...r));return lu(n),new mu(e.firestore,e instanceof gu?e.converter:null,new Fr(n))}}class _u{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new bl(this,"async_queue_retry"),this.hu=()=>{const e=yl();e&&ur("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const e=yl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=yl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new _r;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(NT){if(!$r(NT))throw NT;ur("AsyncQueue","Operation failed with retryable error: "+NT)}this.su.length>0&&this.Yo.$o((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw hr("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=nc.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&pr()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function bu(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class wu extends fu{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new _u,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Su(this),this._firestoreClient.terminate()}}function xu(e){return e._firestoreClient||Su(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Su(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new wi(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,ou(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new $c(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Eu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eu(fi.fromBase64String(e))}catch(e){throw new yr(vr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Eu(fi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Cu{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new yr(vr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tu{constructor(e){this._methodName=e}}class ku{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new yr(vr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yr(vr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nr(this._lat,e._lat)||Nr(this._long,e._long)}}const Iu=/^__.*__$/;class Pu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new _s(e,this.data,this.fieldMask,t,this.fieldTransforms):new ys(e,this.data,t,this.fieldTransforms)}}class Nu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new _s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ju(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pr()}}class Ou{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Ou(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Zu(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(ju(this.fu)&&Iu.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Au{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||_l(e)}Fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ou({fu:e,methodName:t,vu:n,path:Mr.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lu(e){const t=e._freezeSettings(),n=_l(e._databaseId);return new Au(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ru(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Fu(o.merge||o.mergeFields?2:0,t,n,i);Wu("Data must be an object, but it was:",s,r);const a=Bu(r,s);let l,c;if(o.merge)l=new hi(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=qu(t,r,n);if(!s.contains(i))throw new yr(vr.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));$u(e,i)||e.push(i)}l=new hi(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new Pu(new Ui(a),l,c)}class Du extends Tu{_toFieldTransform(e){if(2!==e.fu)throw 1===e.fu?e.Du("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Du}}class Mu extends Tu{_toFieldTransform(e){return new ls(e.path,new es)}isEqual(e){return e instanceof Mu}}function Fu(e,t,n,r){const i=e.Fu(1,t,n);Wu("Data must be an object, but it was:",i,r);const o=[],s=Ui.empty();ii(r,((e,r)=>{const a=Ku(t,e,n);r=ht(r);const l=i.Su(a);if(r instanceof Du)o.push(a);else{const e=Vu(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new hi(o);return new Nu(s,a,i.fieldTransforms)}function Uu(e,t,n,r,i,o){const s=e.Fu(1,t,n),a=[qu(t,r,n)],l=[i];if(o.length%2!=0)throw new yr(vr.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<o.length;d+=2)a.push(qu(t,o[d])),l.push(o[d+1]);const c=[],u=Ui.empty();for(let d=a.length-1;d>=0;--d)if(!$u(c,a[d])){const e=a[d];let t=l[d];t=ht(t);const n=s.Su(e);if(t instanceof Du)c.push(e);else{const r=Vu(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new hi(c);return new Nu(u,h,s.fieldTransforms)}function zu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Vu(n,e.Fu(r?4:3,t))}function Vu(e,t){if(Hu(e=ht(e)))return Wu("Unsupported field value:",t,e),Bu(e,t);if(e instanceof Tu)return function(e,t){if(!ju(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Vu(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ht(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return $o(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Or.fromDate(e);return{timestampValue:ea(t.serializer,n)}}if(e instanceof Or){const n=new Or(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ea(t.serializer,n)}}if(e instanceof ku)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Eu)return{bytesValue:ta(t.serializer,e._byteString)};if(e instanceof mu){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:ia(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat(uu(e)))}(e,t)}function Bu(e,t){const n={};return oi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ii(e,((e,r)=>{const i=Vu(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Hu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Or||e instanceof ku||e instanceof Eu||e instanceof mu||e instanceof Tu)}function Wu(e,t,n){if(!Hu(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=uu(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function qu(e,t,n){if((t=ht(t))instanceof Cu)return t._internalPath;if("string"==typeof t)return Ku(e,t);throw Zu("Field path arguments must be of type string or ",e,!1,void 0,n)}const Gu=new RegExp("[~\\*/\\[\\]]");function Ku(e,t,n){if(t.search(Gu)>=0)throw Zu("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Cu(...t.split("."))._internalPath}catch(r){throw Zu("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Zu(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new yr(vr.INVALID_ARGUMENT,a+e+l)}function $u(e,t){return e.some((e=>e.isEqual(t)))}class Qu{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new mu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Yu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Yu extends Qu{data(){return super.data()}}function Xu(e,t){return"string"==typeof t?Ku(e,t):t instanceof Cu?t._internalPath:t._delegate._internalPath}function Ju(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new yr(vr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eh{}class th extends eh{}function nh(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof eh&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof ih)).length,n=e.filter((e=>e instanceof rh)).length;if(t>1||t>0&&n>0)throw new yr(vr.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class rh extends th{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new rh(e,t,n)}_apply(e){const t=this._parse(e);return ch(e._query,t),new pu(e.firestore,e.converter,Eo(e._query,t))}_parse(e){const t=Lu(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new yr(vr.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){lh(s,o);const t=[];for(const n of s)t.push(ah(r,e,n));a={arrayValue:{values:t}}}else a=ah(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||lh(s,o),a=zu(n,t,s,"in"===o||"not-in"===o);return Zi.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class ih extends eh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ih(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:$i.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ch(n,i),n=Eo(n,i)}(e._query,t),new pu(e.firestore,e.converter,Eo(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class oh extends th{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new oh(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new yr(vr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new yr(vr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qi(t,n)}(e._query,this._field,this._direction);return new pu(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new go(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function sh(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Xu("orderBy",e);return oh._create(n,t)}function ah(e,t,n){if("string"==typeof(n=ht(n))){if(""===n)throw new yr(vr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bo(t)&&-1!==n.indexOf("/"))throw new yr(vr.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Rr.fromString(n));if(!Fr.isDocumentKey(r))throw new yr(vr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ji(e,new Fr(r))}if(n instanceof mu)return ji(e,n._key);throw new yr(vr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(uu(n),"."))}function lh(e,t){if(!Array.isArray(e)||0===e.length)throw new yr(vr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function ch(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new yr(vr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new yr(vr.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class uh{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ii(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new ku(gi(e.latitude),gi(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=_i(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(bi(e));default:return null}}convertTimestamp(e){const t=mi(e);return new Or(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Rr.fromString(e);mr(Ta(n));const r=new xi(n.get(1),n.get(3)),i=new Fr(n.popFirst(5));return r.isEqual(t)||hr("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function hh(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class dh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fh extends Qu{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Xu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ph extends fh{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class mh{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new dh(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new ph(this._firestore,this._userDataWriter,n.key,n,new dh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yr(vr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new ph(e._firestore,e._userDataWriter,n.doc.key,n.doc,new dh(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new ph(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:gh(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function gh(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pr()}}function vh(e){e=hu(e,mu);const t=hu(e.firestore,wu);return ru(xu(t),e._key).then((n=>Eh(t,e,n)))}class yh extends uh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mu(this.firestore,null,t)}}function _h(e){e=hu(e,pu);const t=hu(e.firestore,wu),n=xu(t),r=new yh(t);return Ju(e._query),iu(n,e._query).then((n=>new mh(t,r,e,n)))}function bh(e,t,n){e=hu(e,mu);const r=hu(e.firestore,wu),i=hh(e.converter,t,n);return Sh(r,[Ru(Lu(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,us.none())])}function wh(e,t,n){e=hu(e,mu);const r=hu(e.firestore,wu),i=Lu(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=ht(t))||t instanceof Cu?Uu(i,"updateDoc",e._key,t,n,a):Fu(i,"updateDoc",e._key,t),Sh(r,[o.toMutation(e._key,us.exists(!0))])}function xh(e,t){const n=hu(e.firestore,wu),r=yu(e),i=hh(e.converter,t);return Sh(n,[Ru(Lu(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,us.exists(!1))]).then((()=>r))}function Sh(e,t){return function(e,t){const n=new _r;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=qc(e);try{const e=await function(e,t){const n=gr(e),r=Or.now(),i=t.reduce(((e,t)=>e.add(t.key)),Wo());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Ro(),l=Wo();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=gs(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new _s(e.key,t,zi(t.value.mapValue),us.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Fo(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new si(Nr)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Vc(r,e.changes),await Hl(r.remoteStore)}catch(e){const t=rc(e,"Failed to persist write");n.reject(t)}}(await tu(e),t,n))),n.promise}(xu(e),t)}function Eh(e,t,n){const r=n.docs.get(t._key),i=new yh(e);return new fh(e,i,t._key,r,new dh(n.hasPendingWrites,n.fromCache),t.converter)}function Ch(){return new Mu("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ar=e}(In),Sn(new dt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new wu(new Sr(e.getProvider("auth-internal")),new kr(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new yr(vr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xi(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),jn(or,"4.6.3",e),jn(or,"4.6.3","esm2017")}();function Th(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function kh(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ih=kh,Ph=new nt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Nh=new St("@firebase/auth");function jh(e){if(Nh.logLevel<=yt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Nh.error("Auth (".concat(In,"): ").concat(e),...n)}}function Oh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Dh(e,...n)}function Ah(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Dh(e,...n)}function Lh(e,t,n){const r=Object.assign(Object.assign({},Ih()),{[t]:n});return new nt("auth","Firebase",r).create(t,{appName:e.name})}function Rh(e){return Lh(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Ph.create(e,...n)}function Mh(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Dh(t,...r)}}function Fh(e){const t="INTERNAL ASSERTION FAILED: "+e;throw jh(t),new Error(t)}function Uh(e,t){e||Fh(t)}function zh(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Vh(){return"http:"===Bh()||"https:"===Bh()}function Bh(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Hh(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Vh()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Wh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Uh(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Hh()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qh(e,t){Uh(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Gh{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Fh("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Fh("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Fh("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kh={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Zh=new Wh(3e4,6e4);function $h(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Qh(e,t,n,r){return Yh(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=st(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Gh.fetch()(Jh(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Yh(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Kh),t);try{const t=new td(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw nd(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw nd(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw nd(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw nd(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Lh(e,a,s);Oh(e,a)}}catch(NT){if(NT instanceof tt)throw NT;Oh(e,"network-request-failed",{message:String(NT)})}}async function Xh(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Qh(e,t,n,r,i);return"mfaPendingCredential"in o&&Oh(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Jh(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?qh(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function ed(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class td{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ah(this.auth,"network-request-failed"))),Zh.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function nd(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ah(e,t,r);return i.customData._tokenResponse=n,i}function rd(e){return void 0!==e&&void 0!==e.enterprise}class id{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ed(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function od(e,t){return Qh(e,"GET","/v2/recaptchaConfig",$h(e,t))}async function sd(e,t){return Qh(e,"POST","/v1/accounts:lookup",t)}function ad(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(NT){}}function ld(e){return 1e3*Number(e)}function cd(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return jh("JWT malformed, contained fewer than 3 sections"),null;try{const e=He(n);return e?JSON.parse(e):(jh("Failed to decode base64 JWT payload"),null)}catch(NT){return jh("Caught error parsing JWT payload as JSON",null===NT||void 0===NT?void 0:NT.toString()),null}}function ud(e){const t=cd(e);return Mh(t,"internal-error"),Mh("undefined"!==typeof t.exp,"internal-error"),Mh("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function hd(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(NT){throw NT instanceof tt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(NT)&&e.auth.currentUser===e&&await e.auth.signOut(),NT}}class dd{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(NT){return void((null===NT||void 0===NT?void 0:NT.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class fd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ad(this.lastLoginAt),this.creationTime=ad(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function pd(e){var t;const n=e.auth,r=await e.getIdToken(),i=await hd(e,sd(n,{idToken:r}));Mh(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?md(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new fd(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function md(e){return e.map((e=>{var{providerId:t}=e,n=Th(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class gd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Mh(e.idToken,"internal-error"),Mh("undefined"!==typeof e.idToken,"internal-error"),Mh("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):ud(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Mh(0!==e.length,"internal-error");const t=ud(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Mh(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Yh(e,{},(async()=>{const n=st({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Jh(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Gh.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new gd;return n&&(Mh("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Mh("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Mh("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gd,this.toJSON())}_performRefresh(){return Fh("not implemented")}}function vd(e,t){Mh("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class yd{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Th(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dd(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new fd(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await hd(this,this.stsTokenManager.getToken(this.auth,e));return Mh(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ht(e),r=await n.getIdToken(t),i=cd(r);Mh(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ad(ld(i.auth_time)),issuedAtTime:ad(ld(i.iat)),expirationTime:ad(ld(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ht(e);await pd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Mh(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new yd(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Mh(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await pd(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(Rh(this.auth));const e=await this.getIdToken();return await hd(this,async function(e,t){return Qh(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:x}=t;Mh(y&&x,e,"internal-error");const S=gd.fromJSON(this.name,x);Mh("string"===typeof y,e,"internal-error"),vd(u,e.name),vd(h,e.name),Mh("boolean"===typeof _,e,"internal-error"),Mh("boolean"===typeof b,e,"internal-error"),vd(d,e.name),vd(f,e.name),vd(p,e.name),vd(m,e.name),vd(g,e.name),vd(v,e.name);const E=new yd({uid:y,auth:e,email:h,emailVerified:_,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(E.providerData=w.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new gd;r.updateFromServerResponse(t);const i=new yd({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await pd(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Mh(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?md(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new gd;s.updateFromIdToken(n);const a=new yd({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new fd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const _d=new Map;function bd(e){Uh(e instanceof Function,"Expected a class definition");let t=_d.get(e);return t?(Uh(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_d.set(e,t),t)}class wd{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wd.type="NONE";const xd=wd;function Sd(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Ed{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Sd(this.userKey,r.apiKey,i),this.fullPersistenceKey=Sd("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yd._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Ed(bd(xd),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||bd(xd);const o=Sd(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=yd._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new Ed(i,e,n)):new Ed(i,e,n)}}function Cd(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Pd(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Td(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jd(t))return"Blackberry";if(Od(t))return"Webos";if(kd(t))return"Safari";if((t.includes("chrome/")||Id(t))&&!t.includes("edge/"))return"Chrome";if(Nd(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Td(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/firefox\//i.test(e)}function kd(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Id(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/crios\//i.test(e)}function Pd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/iemobile/i.test(e)}function Nd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/android/i.test(e)}function jd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/blackberry/i.test(e)}function Od(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/webos/i.test(e)}function Ad(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ld(){return function(){const e=Xe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Rd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return Ad(e)||Nd(e)||Od(e)||jd(e)||/windows phone/i.test(e)||Pd(e)}function Dd(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Cd(Xe());break;case"Worker":t="".concat(Cd(Xe()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(In,"/").concat(r)}class Md{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(NT){r(NT)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(NT){t.reverse();for(const n of t)try{n()}catch(Av){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===NT||void 0===NT?void 0:NT.message})}}}class Fd{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ud{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vd(this),this.idTokenSubscription=new Vd(this),this.beforeStateQueue=new Md(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ph,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=bd(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Ed.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(NT){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await sd(this,{idToken:e}),n=await yd._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Cn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(NT){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(NT)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Mh(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(NT){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pd(e)}catch(NT){if((null===NT||void 0===NT?void 0:NT.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(Rh(this));const t=e?ht(e):null;return t&&Mh(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Mh(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Cn(this.app)?Promise.reject(Rh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(Rh(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(bd(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Qh(e,"GET","/v2/passwordPolicy",$h(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Fd(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Qh(e,"POST","/v2/accounts:revokeToken",$h(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&bd(e)||this._popupRedirectResolver;Mh(t,this,"argument-error"),this.redirectPersistenceManager=await Ed.create(this,[bd(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Mh(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Mh(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dd(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Nh.logLevel<=yt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Nh.warn("Auth (".concat(In,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function zd(e){return ht(e)}class Vd{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ct(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Mh(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hd(e){return Bd.loadJS(e)}function Wd(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class qd{constructor(e){this.type="recaptcha-enterprise",this.auth=zd(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;rd(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{od(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new id(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&rd(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Bd.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Hd(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Gd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new qd(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Kd(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Gd(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Gd(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Zd(e,t,n){const r=zd(e);Mh(r._canInitEmulator,r,"emulator-config-failed"),Mh(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=$d(t),{host:s,port:a}=function(e){const t=$d(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Qd(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Qd(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function $d(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Qd(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Yd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fh("not implemented")}_getIdTokenResponse(e){return Fh("not implemented")}_linkToIdToken(e,t){return Fh("not implemented")}_getReauthenticationResolver(e){return Fh("not implemented")}}async function Xd(e,t){return Qh(e,"POST","/v1/accounts:signUp",t)}async function Jd(e,t){return Xh(e,"POST","/v1/accounts:signInWithPassword",$h(e,t))}class ef extends Yd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ef(e,t,"password")}static _fromEmailAndCode(e,t){return new ef(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Kd(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Jd);case"emailLink":return async function(e,t){return Xh(e,"POST","/v1/accounts:signInWithEmailLink",$h(e,t))}(e,{email:this._email,oobCode:this._password});default:Oh(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Kd(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xd);case"emailLink":return async function(e,t){return Xh(e,"POST","/v1/accounts:signInWithEmailLink",$h(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Oh(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function tf(e,t){return Xh(e,"POST","/v1/accounts:signInWithIdp",$h(e,t))}class nf extends Yd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new nf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Oh("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Th(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new nf(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return tf(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,tf(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,tf(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=st(t)}return e}}const rf={USER_NOT_FOUND:"user-not-found"};class of extends Yd{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new of({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new of({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Xh(e,"POST","/v1/accounts:signInWithPhoneNumber",$h(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Xh(e,"POST","/v1/accounts:signInWithPhoneNumber",$h(e,t));if(n.temporaryProof)throw nd(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Xh(e,"POST","/v1/accounts:signInWithPhoneNumber",$h(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),rf)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new of({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class sf{constructor(e){var t,n,r,i,o,s;const a=at(lt(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Mh(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=at(lt(e)).link,n=t?at(lt(t)).deep_link_id:null,r=at(lt(e)).deep_link_id;return(r?at(lt(r)).link:null)||r||n||t||e}(e);try{return new sf(t)}catch(n){return null}}}class af{constructor(){this.providerId=af.PROVIDER_ID}static credential(e,t){return ef._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=sf.parseLink(t);return Mh(n,"argument-error"),ef._fromEmailAndCode(e,n.code,n.tenantId)}}af.PROVIDER_ID="password",af.EMAIL_PASSWORD_SIGN_IN_METHOD="password",af.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class lf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class cf extends lf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class uf extends cf{constructor(){super("facebook.com")}static credential(e){return nf._fromParams({providerId:uf.PROVIDER_ID,signInMethod:uf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uf.credentialFromTaggedObject(e)}static credentialFromError(e){return uf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return uf.credential(t.oauthAccessToken)}catch(n){return null}}}uf.FACEBOOK_SIGN_IN_METHOD="facebook.com",uf.PROVIDER_ID="facebook.com";class hf extends cf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return nf._fromParams({providerId:hf.PROVIDER_ID,signInMethod:hf.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hf.credentialFromTaggedObject(e)}static credentialFromError(e){return hf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return hf.credential(n,r)}catch(i){return null}}}hf.GOOGLE_SIGN_IN_METHOD="google.com",hf.PROVIDER_ID="google.com";class df extends cf{constructor(){super("github.com")}static credential(e){return nf._fromParams({providerId:df.PROVIDER_ID,signInMethod:df.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return df.credentialFromTaggedObject(e)}static credentialFromError(e){return df.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return df.credential(t.oauthAccessToken)}catch(n){return null}}}df.GITHUB_SIGN_IN_METHOD="github.com",df.PROVIDER_ID="github.com";class ff extends cf{constructor(){super("twitter.com")}static credential(e,t){return nf._fromParams({providerId:ff.PROVIDER_ID,signInMethod:ff.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ff.credentialFromTaggedObject(e)}static credentialFromError(e){return ff.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ff.credential(n,r)}catch(i){return null}}}async function pf(e,t){return Xh(e,"POST","/v1/accounts:signUp",$h(e,t))}ff.TWITTER_SIGN_IN_METHOD="twitter.com",ff.PROVIDER_ID="twitter.com";class mf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await yd._fromIdTokenResponse(e,n,r),o=gf(n);return new mf({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=gf(n);return new mf({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function gf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class vf extends tt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,vf.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new vf(e,t,n,r)}}function yf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw vf._fromErrorAndOperation(e,n,t,r);throw n}))}async function _f(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await hd(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return mf._forOperation(e,"link",r)}async function bf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Cn(r.app))return Promise.reject(Rh(r));const i="reauthenticate";try{const o=await hd(e,yf(r,i,t,e),n);Mh(o.idToken,r,"internal-error");const s=cd(o.idToken);Mh(s,r,"internal-error");const{sub:a}=s;return Mh(e.uid===a,r,"user-mismatch"),mf._forOperation(e,i,o)}catch(NT){throw(null===NT||void 0===NT?void 0:NT.code)==="auth/".concat("user-not-found")&&Oh(r,"user-mismatch"),NT}}async function wf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Cn(e.app))return Promise.reject(Rh(e));const r="signIn",i=await yf(e,r,t),o=await mf._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function xf(e,t){return wf(zd(e),t)}async function Sf(e,t){return bf(ht(e),t)}async function Ef(e){const t=zd(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Cf(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await hd(e,async function(e,t){return Qh(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}function Tf(e,t){return ht(e).setPersistence(t)}new WeakMap;const kf="__sak";class If{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kf,"1"),this.storage.removeItem(kf),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Pf extends If{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Xe();return kd(e)||Ad(e)}()&&function(){try{return!(!window||window===window.top)}catch(NT){return!1}}(),this.fallbackToPolling=Rd(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Ld()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pf.type="LOCAL";const Nf=Pf;class jf extends If{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jf.type="SESSION";const Of=jf;class Af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Af(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Lf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Af.receivers=[];class Rf{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=Lf("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Df(){return window}function Mf(){return"undefined"!==typeof Df().WorkerGlobalScope&&"function"===typeof Df().importScripts}const Ff="firebaseLocalStorageDb",Uf="firebaseLocalStorage",zf="fbase_key";class Vf{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Bf(e,t){return e.transaction([Uf],t?"readwrite":"readonly").objectStore(Uf)}function Hf(){const e=indexedDB.open(Ff,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Uf,{keyPath:zf})}catch(NT){n(NT)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Uf)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ff);return new Vf(e).toPromise()}(),t(await Hf()))}))}))}async function Wf(e,t,n){const r=Bf(e,!0).put({[zf]:t,value:n});return new Vf(r).toPromise()}function qf(e,t){const n=Bf(e,!0).delete(t);return new Vf(n).toPromise()}class Gf{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Hf()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(NT){if(t++>3)throw NT;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mf()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Af._getInstance(Mf()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Rf(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hf();return await Wf(e,kf,"1"),await qf(e,kf),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Wf(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Bf(e,!1).get(t),r=await new Vf(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>qf(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Bf(e,!1).getAll();return new Vf(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Gf.type="LOCAL";const Kf=Gf;Wd("rcb"),new Wh(3e4,6e4);const Zf="recaptcha";async function $f(e,t,n){var r;const i=await n.verify();try{let o;if(Mh("string"===typeof i,e,"argument-error"),Mh(n.type===Zf,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Mh("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Qh(e,"POST","/v2/accounts/mfaEnrollment:start",$h(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Mh("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Mh(n,e,"missing-multi-factor-info");const s=await function(e,t){return Qh(e,"POST","/v2/accounts/mfaSignIn:start",$h(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Qh(e,"POST","/v1/accounts:sendVerificationCode",$h(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Qf{constructor(e){this.providerId=Qf.PROVIDER_ID,this.auth=zd(e)}verifyPhoneNumber(e,t){return $f(this.auth,e,ht(t))}static credential(e,t){return of._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Qf.credentialFromTaggedObject(t)}static credentialFromError(e){return Qf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?of._fromTokenResponse(n,r):null}}function Yf(e,t){return t?bd(t):(Mh(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Qf.PROVIDER_ID="phone",Qf.PHONE_SIGN_IN_METHOD="phone";class Xf extends Yd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Jf(e){return wf(e.auth,new Xf(e),e.bypassAuthState)}function ep(e){const{auth:t,user:n}=e;return Mh(n,t,"internal-error"),bf(n,new Xf(e),e.bypassAuthState)}async function tp(e){const{auth:t,user:n}=e;return Mh(n,t,"internal-error"),_f(n,new Xf(e),e.bypassAuthState)}class np{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(NT){this.reject(NT)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(NT){this.reject(NT)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Jf;case"linkViaPopup":case"linkViaRedirect":return tp;case"reauthViaPopup":case"reauthViaRedirect":return ep;default:Oh(this.auth,"internal-error")}}resolve(e){Uh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Uh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rp=new Wh(2e3,1e4);class ip extends np{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ip.currentPopupAction&&ip.currentPopupAction.cancel(),ip.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Mh(e,this.auth,"internal-error"),e}async onExecution(){Uh(1===this.filter.length,"Popup operations only handle one event");const e=Lf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ah(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ah(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ip.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ah(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,rp.get())};e()}}ip.currentPopupAction=null;const op="pendingRedirect",sp=new Map;class ap extends np{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=sp.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=up(t),r=cp(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(NT){e=()=>Promise.reject(NT)}sp.set(this.auth._key(),e)}return this.bypassAuthState||sp.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function lp(e,t){sp.set(e._key(),t)}function cp(e){return bd(e._redirectPersistence)}function up(e){return Sd(op,e.config.apiKey,e.name)}async function hp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Cn(e.app))return Promise.reject(Rh(e));const r=zd(e),i=Yf(r,t),o=new ap(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class dp{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!pp(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ah(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fp(e))}saveEventToCache(e){this.cachedEventUids.add(fp(e)),this.lastProcessedEventTime=Date.now()}}function fp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function pp(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const mp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gp=/^https?/;async function vp(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Qh(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(yp(r))return}catch(n){}Oh(e,"unauthorized-domain")}function yp(e){const t=zh(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!gp.test(n))return!1;if(mp.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const _p=new Wh(3e4,6e4);function bp(){const e=Df().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function wp(e){return new Promise(((t,n)=>{var r,i,o;function s(){bp(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bp(),n(Ah(e,"network-request-failed"))},timeout:_p.get()})}if(null===(i=null===(r=Df().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Df().gapi)||void 0===o?void 0:o.load)){const t=Wd("iframefcb");return Df()[t]=()=>{gapi.load?s():n(Ah(e,"network-request-failed"))},Hd("".concat(Bd.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw xp=null,e}))}let xp=null;const Sp=new Wh(5e3,15e3),Ep="__/auth/iframe",Cp="emulator/auth/iframe",Tp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ip(e){const t=e.config;Mh(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?qh(t,Cp):"https://".concat(e.config.authDomain,"/").concat(Ep),r={apiKey:t.apiKey,appName:e.name,v:In},i=kp.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(st(r).slice(1))}async function Pp(e){const t=await function(e){return xp=xp||wp(e),xp}(e),n=Df().gapi;return Mh(n,e,"internal-error"),t.open({where:document.body,url:Ip(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tp,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ah(e,"network-request-failed"),o=Df().setTimeout((()=>{r(i)}),Sp.get());function s(){Df().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const Np={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(NT){}}}function Op(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Np),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Xe().toLowerCase();n&&(a=Id(c)?"_blank":n),Td(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Ad(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new jp(null);const h=window.open(t||"",a,u);Mh(h,e,"popup-blocked");try{h.focus()}catch(NT){}return new jp(h)}const Ap="__/auth/handler",Lp="emulator/auth/handler",Rp=encodeURIComponent("fac");async function Dp(e,t,n,r,i,o){Mh(e.config.authDomain,e,"auth-domain-config-required"),Mh(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:In,eventId:i};if(t instanceof lf){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof cf){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Rp,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ap);return qh(t,Lp)}(e),"?").concat(st(a).slice(1)).concat(c)}const Mp="webStorageSupport";const Fp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Of,this._completeRedirectFn=hp,this._overrideRedirectResult=lp}async _openPopup(e,t,n,r){var i;Uh(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Op(e,await Dp(e,t,n,zh(),r),Lf())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Df().location.href=e}(await Dp(e,t,n,zh(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Uh(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Pp(e),n=new dp(e);return t.register("authEvent",(t=>{Mh(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Mp,{type:Mp},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Mp];void 0!==i&&t(!!i),Oh(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vp(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Rd()||kd()||Ad()}};var Up="@firebase/auth",zp="1.7.4";class Vp{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Mh(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Bp=$e("authIdTokenMaxAge")||300;let Hp=null;var Wp;Bd={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ah("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Wp="Browser",Sn(new dt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Mh(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:Wp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dd(Wp)},c=new Ud(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(bd);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Sn(new dt("auth-internal",(e=>(e=>new Vp(e))(zd(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),jn(Up,zp,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Wp)),jn(Up,zp,"esm2017");const qp="firebasestorage.googleapis.com",Gp="storageBucket";class Kp extends tt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Qp(e),"Firebase Storage: ".concat(t," (").concat(Qp(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kp.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Zp,$p;function Qp(e){return"storage/"+e}function Yp(){return new Kp(Zp.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Xp(){return new Kp(Zp.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Jp(){return new Kp(Zp.CANCELED,"User canceled the upload/download.")}function em(){return new Kp(Zp.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tm(e){return new Kp(Zp.INVALID_ARGUMENT,e)}function nm(){return new Kp(Zp.APP_DELETED,"The Firebase app was deleted.")}function rm(e,t){return new Kp(Zp.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function im(e){throw new Kp(Zp.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Zp||(Zp={}));class om{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=om.makeFromUrl(e,t)}catch(NT){return new om(e,"")}if(""===n.path)return n;throw r=e,new Kp(Zp.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===qp?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new om(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Kp(Zp.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class sm{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function am(e){return"string"===typeof e||e instanceof String}function lm(e){return cm()&&e instanceof Blob}function cm(){return"undefined"!==typeof Blob}function um(e,t,n,r){if(r<t)throw tm("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw tm("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function hm(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function dm(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function fm(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}($p||($p={}));class pm{constructor(e,t,n,r,i,o,s,a,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new mm(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===$p.NO_ERROR,i=n.getStatus();if(!t||fm(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===$p.ABORT;return void e(!1,new mm(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new mm(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(NT){r(NT)}else if(null!==i){const e=Yp();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?nm():Jp())}else{r(Xp())}};this.canceled_?t(0,new mm(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){o&&clearTimeout(o)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||s)return d(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),h(o)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class mm{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function gm(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function vm(){const e=gm();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(cm())return new Blob(n);throw new Kp(Zp.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function ym(e){if("undefined"===typeof atob)throw t="base-64",new Kp(Zp.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const _m={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bm{constructor(e,t){this.data=e,this.contentType=t||null}}function wm(e,t){switch(e){case _m.RAW:return new bm(xm(t));case _m.BASE64:case _m.BASE64URL:return new bm(Sm(e,t));case _m.DATA_URL:return new bm(function(e){const t=new Em(e);return t.base64?Sm(_m.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(NT){throw rm(_m.DATA_URL,"Malformed data URL.")}return xm(t)}(t.rest)}(t),new Em(t).contentType)}throw Yp()}function xm(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Sm(e,t){switch(e){case _m.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw rm(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case _m.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw rm(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ym(t)}catch(NT){if(NT.message.includes("polyfill"))throw NT;throw rm(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Em{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw rm(_m.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Cm{constructor(e,t){let n=0,r="";lm(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(lm(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Cm(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Cm(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(cm()){const e=t.map((e=>e instanceof Cm?e.data_:e));return new Cm(vm.apply(null,e))}{const e=t.map((e=>am(e)?wm(_m.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Cm(r,!0)}}uploadData(){return this.data_}}function Tm(e){let t;try{t=JSON.parse(e)}catch(NT){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function km(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Im(e,t){return t}class Pm{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Im}}let Nm=null;function jm(){if(Nm)return Nm;const e=[];e.push(new Pm("bucket")),e.push(new Pm("generation")),e.push(new Pm("metageneration")),e.push(new Pm("name","fullPath",!0));const t=new Pm("name");t.xform=function(e,t){return function(e){return!am(e)||e.length<2?e:km(e)}(t)},e.push(t);const n=new Pm("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Pm("timeCreated")),e.push(new Pm("updated")),e.push(new Pm("md5Hash",null,!0)),e.push(new Pm("cacheControl",null,!0)),e.push(new Pm("contentDisposition",null,!0)),e.push(new Pm("contentEncoding",null,!0)),e.push(new Pm("contentLanguage",null,!0)),e.push(new Pm("contentType",null,!0)),e.push(new Pm("metadata","customMetadata",!0)),Nm=e,Nm}function Om(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new om(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Am(e,t,n){const r=Tm(t);if(null===r)return null;return Om(e,r,n)}function Lm(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class Rm{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Dm(e){if(!e)throw Yp()}function Mm(e,t){return function(n,r){const i=Am(e,r,t);return Dm(null!==i),i}}function Fm(e,t){return function(n,r){const i=Am(e,r,t);return Dm(null!==i),function(e,t,n,r){const i=Tm(t);if(null===i)return null;if(!am(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent,a=o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return hm("/b/"+s(i)+"/o/"+s(o),n,r)+dm({alt:"media",token:t})}));return a[0]}(i,r,e.host,e._protocol)}}function Um(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Kp(Zp.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Kp(Zp.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Kp(Zp.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Kp(Zp.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function zm(e){const t=Um(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new Kp(Zp.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Vm(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Bm(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=Vm(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Lm(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=Cm.getBlob(c,r,u);if(null===h)throw em();const d={name:l.fullPath},f=hm(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new Rm(f,"POST",Mm(e,n),p);return m.urlParams=d,m.headers=s,m.body=h.uploadData(),m.errorHandler=Um(t),m}let Hm=null;class Wm{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$p.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=$p.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=$p.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw im("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw im("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw im("cannot .getStatus() before sending");try{return this.xhr_.status}catch(NT){return-1}}getResponse(){if(!this.sent_)throw im("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw im("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class qm extends Wm{initXhr(){this.xhr_.responseType="text"}}function Gm(){return Hm?Hm():new qm}class Km{constructor(e,t){this._service=e,this._location=t instanceof om?t:om.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Km(e,t)}get root(){const e=new om(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return km(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new om(this._location.bucket,e);return new Km(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Kp(Zp.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Zm(e,t,n){e._throwIfRoot("uploadBytes");const r=Bm(e.storage,e._location,jm(),new Cm(t,!0),n);return e.storage.makeRequestWithTokens(r,Gm).then((t=>({metadata:t,ref:e})))}function $m(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=hm(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new Rm(r,"GET",Fm(e,n),i);return o.errorHandler=zm(t),o}(e.storage,e._location,jm());return e.storage.makeRequestWithTokens(t,Gm).then((e=>{if(null===e)throw new Kp(Zp.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Qm(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new om(e._location.bucket,n);return new Km(e.storage,r)}function Ym(e,t){if(e instanceof eg){const n=e;if(null==n._bucket)throw new Kp(Zp.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Gp+"' property when initializing the app?");const r=new Km(n,n._bucket);return null!=t?Ym(r,t):r}return void 0!==t?Qm(e,t):e}function Xm(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof eg)return new Km(e,t);throw tm("To use ref(service, url), the first argument must be a Storage instance.")}return Ym(e,t)}function Jm(e,t){const n=null===t||void 0===t?void 0:t[Gp];return null==n?null:om.makeFromBucketSpec(n,e)}class eg{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=qp,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?om.makeFromBucketSpec(r,this._host):Jm(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=om.makeFromBucketSpec(this._url,e):this._bucket=Jm(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){um("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){um("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Km(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new sm(nm());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=dm(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new pm(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const tg="@firebase/storage",ng="0.12.5",rg="storage";function ig(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new eg(r,i,o,n,In)}Sn(new dt(rg,ig,"PUBLIC").setMultipleInstances(!0)),jn(tg,ng,""),jn(tg,ng,"esm2017");const og=Pn({apiKey:"AIzaSyCuSQA_rZKwZe-7c7E4bifF9gNKUwASfiM",authDomain:"writingsofgajamyw.firebaseapp.com",projectId:"writingsofgajamyw",storageBucket:"writingsofgajamyw.appspot.com",messagingSenderId:"700244295638",appId:"1:700244295638:web:55776a52356dfededfee77"}),sg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn();const t=En(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=En(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(it(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Oh(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Fp,persistence:[Kf,Nf,Of]}),r=$e("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Bp)return;const r=null===t||void 0===t?void 0:t.token;Hp!==r&&(Hp=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){ht(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){ht(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=Ge("auth");return o&&Zd(n,"http://".concat(o)),n}(og),ag=function(e,t){const n="string"==typeof e?e:t||"(default)",r=En("object"==typeof e?e:Nn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Ke("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=hu(e,fu))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&dr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=sr.MOCK_USER;else{t=Ye(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new yr(vr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new sr(o)}e._authCredentials=new xr(new br(t,n))}}(r,...e)}return r}(og),lg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn(),t=arguments.length>1?arguments[1]:void 0;e=ht(e);const n=En(e,rg).getImmediate({identifier:t}),r=Ke("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Ye(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(og),cg="Users",ug=async e=>{const t=yu(ag,cg,e),n=await vh(t);return n.exists()?n.data():null},hg=async(e,t)=>{const n=yu(ag,cg,e);await bh(n,t,{merge:!0})},dg=t.createContext();function fg(){return(0,t.useContext)(dg)}function pg(e){let{children:n}=e;const[r,i]=(0,t.useState)(null),[o,s]=(0,t.useState)(!0);async function a(e,t){try{await Tf(sg,Nf);const n=await function(e,t,n){return Cn(e.app)?Promise.reject(Rh(e)):xf(ht(e),af.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ef(e),t}))}(sg,e,t);return await(async e=>{const t=yu(ag,cg,e);await wh(t,{lastLoginDate:Ch()})})(n.user.uid),n.user}catch(n){throw console.error("Login Error:",n),n}}(0,t.useEffect)((()=>{const e=function(e,t,n,r){return ht(e).onAuthStateChanged(t,n,r)}(sg,(e=>{i(e),s(!1)}));return e}),[]),(0,t.useEffect)((()=>{(async()=>{try{await Tf(sg,Nf)}catch(e){console.error("Failed to set persistence:",e)}})()}),[]);const l={currentUser:r,login:a,logout:async function(){try{await function(e){return ht(e).signOut()}(sg)}catch(e){throw console.error("Logout Error:",e),e}},register:async function(e,t,n){try{const r=await async function(e,t,n){if(Cn(e.app))return Promise.reject(Rh(e));const r=zd(e),i=Kd(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pf),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ef(e),t})),s=await mf._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(sg,e,t),i=r.user;return await(async e=>{const{uid:t,email:n,username:r}=e,i=yu(ag,cg,t),o={email:n,username:r,avatar:"defaultURL",dateOfRegistration:Ch(),lastLoginDate:Ch(),role:"user",status:"active"};await bh(i,o)})({uid:i.uid,email:i.email,username:n}),await a(e,t),i}catch(r){throw console.error("AuthProvider - Registration Error:",r),r}},changeEmail:function(e){return function(e,t){const n=ht(e);return Cn(n.auth.app)?Promise.reject(Rh(n.auth)):Cf(n,t,null)}(sg.currentUser,e)},changePassword:function(e){return function(e,t){return Cf(ht(e),null,t)}(sg.currentUser,e)}};return(0,Ae.jsx)(dg.Provider,{value:l,children:!o&&n})}const mg="LoginPage_form__EIh7P",gg="LoginPage_formGroup__Fip8r";const vg=function(){const e=(0,t.useRef)(),n=(0,t.useRef)(),{login:r}=fg(),[i,o]=(0,t.useState)(""),[s,a]=(0,t.useState)(!1),l=Y();return(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("h2",{className:"TitleText",children:"Login"}),i&&(0,Ae.jsx)("p",{children:i}),(0,Ae.jsxs)("form",{className:mg,onSubmit:async t=>{t.preventDefault();try{o(""),a(!0),await r(e.current.value,n.current.value),console.log("LoginPage - Login Successful"),l("/")}catch(i){console.error("LoginPage - Login Failed:",i),o("Failed to log in")}a(!1)},children:[(0,Ae.jsxs)("div",{className:gg,children:[(0,Ae.jsx)("label",{children:"Email"}),(0,Ae.jsx)("input",{type:"email",ref:e,required:!0})]}),(0,Ae.jsxs)("div",{className:gg,children:[(0,Ae.jsx)("label",{children:"Password"}),(0,Ae.jsx)("input",{type:"password",ref:n,required:!0})]}),(0,Ae.jsx)("div",{className:gg,children:(0,Ae.jsx)("button",{className:"btnPrimary",disabled:s,type:"submit",children:"Log In"})})]})]})},yg=n.p+"static/media/Logo.597548bd0058c435efe0.jpg";const _g=function(){const{currentUser:e}=fg(),[n,r]=(0,t.useState)(!1);return(0,Ae.jsx)("nav",{className:"navbar",style:{zIndex:"9"},children:(0,Ae.jsxs)("div",{className:"navbar-content",children:[(0,Ae.jsx)("img",{src:yg,alt:"Logo",className:"navbar-logo-mobile"}),(0,Ae.jsx)("button",{className:"navbar-toggle",onClick:()=>{r(!n)},children:"\u2630"}),(0,Ae.jsxs)("ul",{className:"navbar-menu desktop-menu",children:[(0,Ae.jsxs)("li",{className:"navbar-item dropdown",children:[(0,Ae.jsx)(Ce,{to:"/",className:"dropbtn",children:"Home"}),(0,Ae.jsx)("div",{className:"dropdown-content",children:(0,Ae.jsx)(Ce,{to:"/about",children:"About"})})]}),(0,Ae.jsxs)("li",{className:"navbar-item dropdown",children:[(0,Ae.jsx)(Ce,{to:"/characters",className:"dropbtn",children:"Characters"}),(0,Ae.jsx)("div",{className:"dropdown-content",children:(0,Ae.jsx)(Ce,{to:"/bestiary",children:"Bestiary"})})]}),(0,Ae.jsxs)("li",{className:"navbar-item dropdown",children:[(0,Ae.jsx)(Ce,{to:"/timeline",className:"dropbtn",children:"Timeline"}),(0,Ae.jsxs)("div",{className:"dropdown-content",children:[(0,Ae.jsx)(Ce,{to:"/important-events",children:"Important Events"}),(0,Ae.jsx)(Ce,{to:"/locations",children:"Locations"}),(0,Ae.jsx)(Ce,{to:"/maps",children:"Maps"})]})]}),(0,Ae.jsx)("img",{src:yg,alt:"Logo",className:"navbar-logo"}),(0,Ae.jsxs)("li",{className:"navbar-item dropdown",children:[(0,Ae.jsx)(Ce,{to:"/magic",className:"dropbtn",children:"Magic"}),(0,Ae.jsxs)("div",{className:"dropdown-content",children:[(0,Ae.jsx)(Ce,{to:"/magic/schools",children:"Schools"}),(0,Ae.jsx)(Ce,{to:"/magic/classes",children:"Classes"})]})]}),(0,Ae.jsx)("li",{className:"navbar-item",children:(0,Ae.jsx)(Ce,{to:"/stories",children:"Stories"})}),e?(0,Ae.jsx)("li",{className:"navbar-item",children:(0,Ae.jsx)(Ce,{to:"/profile",children:"Profile"})}):(0,Ae.jsx)("li",{className:"navbar-item",children:(0,Ae.jsx)(Ce,{to:"/login",children:"Log In"})})]}),(0,Ae.jsxs)("ul",{className:"navbar-menu mobile-menu ".concat(n?"open":""),children:[(0,Ae.jsx)("li",{className:"navbar-item",children:(0,Ae.jsx)(Ce,{to:"/",children:"Home"})}),(0,Ae.jsx)("li",{className:"navbar-item",children:(0,Ae.jsx)(Ce,{to:"/about",children:"About"})}),(0,Ae.jsx)("li",{className:"navbar-item",children:(0,Ae.jsx)(Ce,{to:"/characters",children:"Characters"})}),(0,Ae.jsx)("li",{className:"navbar-item",children:(0,Ae.jsx)(Ce,{to:"/important-events",children:"Important Events"})}),(0,Ae.jsx)("li",{className:"navbar-item",children:(0,Ae.jsx)(Ce,{to:"/timeline",children:"Timeline"})}),(0,Ae.jsx)("li",{className:"navbar-item",children:(0,Ae.jsx)(Ce,{to:"/locations",children:"Locations"})}),(0,Ae.jsx)("li",{className:"navbar-item",children:(0,Ae.jsx)(Ce,{to:"/maps",children:"Maps"})}),(0,Ae.jsx)("li",{className:"navbar-item",children:(0,Ae.jsx)(Ce,{to:"/magic",children:"Magic"})}),(0,Ae.jsx)("li",{className:"navbar-item",children:(0,Ae.jsx)(Ce,{to:"/bestiary",children:"Bestiary"})}),(0,Ae.jsx)("li",{className:"navbar-item",children:(0,Ae.jsx)(Ce,{to:"/stories",children:"Stories"})}),(0,Ae.jsx)("li",{className:"navbar-item",children:(0,Ae.jsx)(Ce,{to:"/profile",children:"Profile"})})]})]})})};function bg(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var wg=function(){return wg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wg.apply(this,arguments)};Object.create;function xg(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Sg=n(324),Eg=n.n(Sg),Cg="-ms-",Tg="-moz-",kg="-webkit-",Ig="comm",Pg="rule",Ng="decl",jg="@import",Og="@keyframes",Ag="@layer",Lg=Math.abs,Rg=String.fromCharCode,Dg=Object.assign;function Mg(e){return e.trim()}function Fg(e,t){return(e=t.exec(e))?e[0]:e}function Ug(e,t,n){return e.replace(t,n)}function zg(e,t,n){return e.indexOf(t,n)}function Vg(e,t){return 0|e.charCodeAt(t)}function Bg(e,t,n){return e.slice(t,n)}function Hg(e){return e.length}function Wg(e){return e.length}function qg(e,t){return t.push(e),e}function Gg(e,t){return e.filter((function(e){return!Fg(e,t)}))}var Kg=1,Zg=1,$g=0,Qg=0,Yg=0,Xg="";function Jg(e,t,n,r,i,o,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Kg,column:Zg,length:s,return:"",siblings:a}}function ev(e,t){return Dg(Jg("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function tv(e){for(;e.root;)e=ev(e.root,{children:[e]});qg(e,e.siblings)}function nv(){return Yg=Qg>0?Vg(Xg,--Qg):0,Zg--,10===Yg&&(Zg=1,Kg--),Yg}function rv(){return Yg=Qg<$g?Vg(Xg,Qg++):0,Zg++,10===Yg&&(Zg=1,Kg++),Yg}function iv(){return Vg(Xg,Qg)}function ov(){return Qg}function sv(e,t){return Bg(Xg,e,t)}function av(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function lv(e){return Kg=Zg=1,$g=Hg(Xg=e),Qg=0,[]}function cv(e){return Xg="",e}function uv(e){return Mg(sv(Qg-1,fv(91===e?e+2:40===e?e+1:e)))}function hv(e){for(;(Yg=iv())&&Yg<33;)rv();return av(e)>2||av(Yg)>3?"":" "}function dv(e,t){for(;--t&&rv()&&!(Yg<48||Yg>102||Yg>57&&Yg<65||Yg>70&&Yg<97););return sv(e,ov()+(t<6&&32==iv()&&32==rv()))}function fv(e){for(;rv();)switch(Yg){case e:return Qg;case 34:case 39:34!==e&&39!==e&&fv(Yg);break;case 40:41===e&&fv(e);break;case 92:rv()}return Qg}function pv(e,t){for(;rv()&&e+Yg!==57&&(e+Yg!==84||47!==iv()););return"/*"+sv(t,Qg-1)+"*"+Rg(47===e?e:rv())}function mv(e){for(;!av(iv());)rv();return sv(e,Qg)}function gv(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function vv(e,t,n,r){switch(e.type){case Ag:if(e.children.length)break;case jg:case Ng:return e.return=e.return||e.value;case Ig:return"";case Og:return e.return=e.value+"{"+gv(e.children,r)+"}";case Pg:if(!Hg(e.value=e.props.join(",")))return""}return Hg(n=gv(e.children,r))?e.return=e.value+"{"+n+"}":""}function yv(e,t,n){switch(function(e,t){return 45^Vg(e,0)?(((t<<2^Vg(e,0))<<2^Vg(e,1))<<2^Vg(e,2))<<2^Vg(e,3):0}(e,t)){case 5103:return kg+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return kg+e+e;case 4789:return Tg+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return kg+e+Tg+e+Cg+e+e;case 5936:switch(Vg(e,t+11)){case 114:return kg+e+Cg+Ug(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return kg+e+Cg+Ug(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return kg+e+Cg+Ug(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return kg+e+Cg+e+e;case 6165:return kg+e+Cg+"flex-"+e+e;case 5187:return kg+e+Ug(e,/(\w+).+(:[^]+)/,kg+"box-$1$2"+Cg+"flex-$1$2")+e;case 5443:return kg+e+Cg+"flex-item-"+Ug(e,/flex-|-self/g,"")+(Fg(e,/flex-|baseline/)?"":Cg+"grid-row-"+Ug(e,/flex-|-self/g,""))+e;case 4675:return kg+e+Cg+"flex-line-pack"+Ug(e,/align-content|flex-|-self/g,"")+e;case 5548:return kg+e+Cg+Ug(e,"shrink","negative")+e;case 5292:return kg+e+Cg+Ug(e,"basis","preferred-size")+e;case 6060:return kg+"box-"+Ug(e,"-grow","")+kg+e+Cg+Ug(e,"grow","positive")+e;case 4554:return kg+Ug(e,/([^-])(transform)/g,"$1"+kg+"$2")+e;case 6187:return Ug(Ug(Ug(e,/(zoom-|grab)/,kg+"$1"),/(image-set)/,kg+"$1"),e,"")+e;case 5495:case 3959:return Ug(e,/(image-set\([^]*)/,kg+"$1$`$1");case 4968:return Ug(Ug(e,/(.+:)(flex-)?(.*)/,kg+"box-pack:$3"+Cg+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+kg+e+e;case 4200:if(!Fg(e,/flex-|baseline/))return Cg+"grid-column-align"+Bg(e,t)+e;break;case 2592:case 3360:return Cg+Ug(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,Fg(e.props,/grid-\w+-end/)}))?~zg(e+(n=n[t].value),"span",0)?e:Cg+Ug(e,"-start","")+e+Cg+"grid-row-span:"+(~zg(n,"span",0)?Fg(n,/\d+/):+Fg(n,/\d+/)-+Fg(e,/\d+/))+";":Cg+Ug(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return Fg(e.props,/grid-\w+-start/)}))?e:Cg+Ug(Ug(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Ug(e,/(.+)-inline(.+)/,kg+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Hg(e)-1-t>6)switch(Vg(e,t+1)){case 109:if(45!==Vg(e,t+4))break;case 102:return Ug(e,/(.+:)(.+)-([^]+)/,"$1"+kg+"$2-$3$1"+Tg+(108==Vg(e,t+3)?"$3":"$2-$3"))+e;case 115:return~zg(e,"stretch",0)?yv(Ug(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Ug(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,o,s,a){return Cg+n+":"+r+a+(i?Cg+n+"-span:"+(o?s:+s-+r)+a:"")+e}));case 4949:if(121===Vg(e,t+6))return Ug(e,":",":"+kg)+e;break;case 6444:switch(Vg(e,45===Vg(e,14)?18:11)){case 120:return Ug(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+kg+(45===Vg(e,14)?"inline-":"")+"box$3$1"+kg+"$2$3$1"+Cg+"$2box$3")+e;case 100:return Ug(e,":",":"+Cg)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ug(e,"scroll-","scroll-snap-")+e}return e}function _v(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ng:return void(e.return=yv(e.value,e.length,n));case Og:return gv([ev(e,{value:Ug(e.value,"@","@"+kg)})],r);case Pg:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(Fg(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":tv(ev(e,{props:[Ug(t,/:(read-\w+)/,":"+Tg+"$1")]})),tv(ev(e,{props:[t]})),Dg(e,{props:Gg(n,r)});break;case"::placeholder":tv(ev(e,{props:[Ug(t,/:(plac\w+)/,":"+kg+"input-$1")]})),tv(ev(e,{props:[Ug(t,/:(plac\w+)/,":"+Tg+"$1")]})),tv(ev(e,{props:[Ug(t,/:(plac\w+)/,Cg+"input-$1")]})),tv(ev(e,{props:[t]})),Dg(e,{props:Gg(n,r)})}return""}))}}function bv(e){return cv(wv("",null,null,null,[""],e=lv(e),0,[0],e))}function wv(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,h=s,d=0,f=0,p=0,m=1,g=1,v=1,y=0,_="",b=i,w=o,x=r,S=_;g;)switch(p=y,y=rv()){case 40:if(108!=p&&58==Vg(S,h-1)){-1!=zg(S+=Ug(uv(y),"&","&\f"),"&\f",Lg(c?a[c-1]:0))&&(v=-1);break}case 34:case 39:case 91:S+=uv(y);break;case 9:case 10:case 13:case 32:S+=hv(p);break;case 92:S+=dv(ov()-1,7);continue;case 47:switch(iv()){case 42:case 47:qg(Sv(pv(rv(),ov()),t,n,l),l);break;default:S+="/"}break;case 123*m:a[c++]=Hg(S)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(S=Ug(S,/\f/g,"")),f>0&&Hg(S)-h&&qg(f>32?Ev(S+";",r,n,h-1,l):Ev(Ug(S," ","")+";",r,n,h-2,l),l);break;case 59:S+=";";default:if(qg(x=xv(S,t,n,c,u,i,a,_,b=[],w=[],h,o),o),123===y)if(0===u)wv(S,t,x,x,b,o,h,a,w);else switch(99===d&&110===Vg(S,3)?100:d){case 100:case 108:case 109:case 115:wv(e,x,x,r&&qg(xv(e,x,x,0,0,i,a,_,i,b=[],h,w),w),i,w,h,a,r?b:w);break;default:wv(S,x,x,x,[""],w,0,a,w)}}c=u=f=0,m=v=1,_=S="",h=s;break;case 58:h=1+Hg(S),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==nv())continue;switch(S+=Rg(y),y*m){case 38:v=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(Hg(S)-1)*v,v=1;break;case 64:45===iv()&&(S+=uv(rv())),d=iv(),u=h=Hg(_=S+=mv(ov())),y++;break;case 45:45===p&&2==Hg(S)&&(m=0)}}return o}function xv(e,t,n,r,i,o,s,a,l,c,u,h){for(var d=i-1,f=0===i?o:[""],p=Wg(f),m=0,g=0,v=0;m<r;++m)for(var y=0,_=Bg(e,d+1,d=Lg(g=s[m])),b=e;y<p;++y)(b=Mg(g>0?f[y]+" "+_:Ug(_,/&\f/g,f[y])))&&(l[v++]=b);return Jg(e,t,n,0===i?Pg:a,l,c,u,h)}function Sv(e,t,n,r){return Jg(e,t,n,Ig,Rg(Yg),Bg(e,2,-2),0,r)}function Ev(e,t,n,r,i){return Jg(e,t,n,Ng,Bg(e,0,r),Bg(e,r+1,-1),r,i)}var Cv={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Tv="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/WritingsOfGajamyw",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/WritingsOfGajamyw",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/WritingsOfGajamyw",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",kv="active",Iv="data-styled-version",Pv="6.1.11",Nv="/*!sc*/\n",jv="undefined"!=typeof window&&"HTMLElement"in window,Ov=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/WritingsOfGajamyw",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/WritingsOfGajamyw",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/WritingsOfGajamyw",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/WritingsOfGajamyw",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/WritingsOfGajamyw",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/WritingsOfGajamyw",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/WritingsOfGajamyw",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/WritingsOfGajamyw",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/WritingsOfGajamyw",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/WritingsOfGajamyw",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),Av=(new Set,Object.freeze([])),Lv=Object.freeze({});function Rv(e,t,n){return void 0===n&&(n=Lv),e.theme!==n.theme&&e.theme||t||n.theme}var Dv=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Mv=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Fv=/(^-|-$)/g;function Uv(e){return e.replace(Mv,"-").replace(Fv,"")}var zv=/(a)(d)/gi,Vv=52,Bv=function(e){return String.fromCharCode(e+(e>25?39:97))};function Hv(e){var t,n="";for(t=Math.abs(e);t>Vv;t=t/Vv|0)n=Bv(t%Vv)+n;return(Bv(t%Vv)+n).replace(zv,"$1-$2")}var Wv,qv=5381,Gv=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Kv=function(e){return Gv(qv,e)};function Zv(e){return Hv(Kv(e)>>>0)}function $v(e){return e.displayName||e.name||"Component"}function Qv(e){return"string"==typeof e&&!0}var Yv="function"==typeof Symbol&&Symbol.for,Xv=Yv?Symbol.for("react.memo"):60115,Jv=Yv?Symbol.for("react.forward_ref"):60112,ey={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ty={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ny={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ry=((Wv={})[Jv]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Wv[Xv]=ny,Wv);function iy(e){return("type"in(t=e)&&t.type.$$typeof)===Xv?ny:"$$typeof"in e?ry[e.$$typeof]:ey;var t}var oy=Object.defineProperty,sy=Object.getOwnPropertyNames,ay=Object.getOwnPropertySymbols,ly=Object.getOwnPropertyDescriptor,cy=Object.getPrototypeOf,uy=Object.prototype;function hy(e,t,n){if("string"!=typeof t){if(uy){var r=cy(t);r&&r!==uy&&hy(e,r,n)}var i=sy(t);ay&&(i=i.concat(ay(t)));for(var o=iy(e),s=iy(t),a=0;a<i.length;++a){var l=i[a];if(!(l in ty||n&&n[l]||s&&l in s||o&&l in o)){var c=ly(t,l);try{oy(e,l,c)}catch(e){}}}}return e}function dy(e){return"function"==typeof e}function fy(e){return"object"==typeof e&&"styledComponentId"in e}function py(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function my(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function gy(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function vy(e,t,n){if(void 0===n&&(n=!1),!n&&!gy(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=vy(e[r],t[r]);else if(gy(t))for(var r in t)e[r]=vy(e[r],t[r]);return e}function yy(e,t){Object.defineProperty(e,"toString",{value:t})}function _y(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var by=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw _y(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var s=this.indexOfGroup(e+1),a=(o=0,t.length);o<a;o++)this.tag.insertRule(s,t[o])&&(this.groupSizes[e]++,s++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+="".concat(this.tag.getRule(o)).concat(Nv);return t},e}(),wy=new Map,xy=new Map,Sy=1,Ey=function(e){if(wy.has(e))return wy.get(e);for(;xy.has(Sy);)Sy++;var t=Sy++;return wy.set(e,t),xy.set(t,e),t},Cy=function(e,t){Sy=t+1,wy.set(e,t),xy.set(t,e)},Ty="style[".concat(Tv,"][").concat(Iv,'="').concat(Pv,'"]'),ky=new RegExp("^".concat(Tv,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Iy=function(e,t,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&e.registerName(t,r)},Py=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(Nv),i=[],o=0,s=r.length;o<s;o++){var a=r[o].trim();if(a){var l=a.match(ky);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(Cy(u,c),Iy(e,u,l[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function Ny(){return n.nc}var jy=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(Tv,"]")));return t[t.length-1]}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(Tv,kv),r.setAttribute(Iv,Pv);var s=Ny();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},Oy=function(){function e(e){this.element=jy(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw _y(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),Ay=function(){function e(e){this.element=jy(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Ly=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Ry=jv,Dy={isServer:!jv,useCSSOMInjection:!Ov},My=function(){function e(e,t,n){void 0===e&&(e=Lv),void 0===t&&(t={});var r=this;this.options=wg(wg({},Dy),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&jv&&Ry&&(Ry=!1,function(e){for(var t=document.querySelectorAll(Ty),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(Tv)!==kv&&(Py(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this)),yy(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return xy.get(e)}(n);if(void 0===i)return"continue";var o=e.names.get(i),s=t.getGroup(n);if(void 0===o||0===s.length)return"continue";var a="".concat(Tv,".g").concat(n,'[id="').concat(i,'"]'),l="";void 0!==o&&o.forEach((function(e){e.length>0&&(l+="".concat(e,","))})),r+="".concat(s).concat(a,'{content:"').concat(l,'"}').concat(Nv)},o=0;o<n;o++)i(o);return r}(r)}))}return e.registerId=function(e){return Ey(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(wg(wg({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new Ly(n):t?new Oy(n):new Ay(n)}(this.options),new by(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(Ey(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Ey(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(Ey(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Fy=/&/g,Uy=/^\s*\/\/.*$/gm;function zy(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=zy(e.children,t)),e}))}function Vy(e){var t,n,r,i=void 0===e?Lv:e,o=i.options,s=void 0===o?Lv:o,a=i.plugins,l=void 0===a?Av:a,c=function(e,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},u=l.slice();u.push((function(e){e.type===Pg&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(Fy,n).replace(r,c))})),s.prefix&&u.push(_v),u.push(vv);var h=function(e,i,o,a){void 0===i&&(i=""),void 0===o&&(o=""),void 0===a&&(a="&"),t=a,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var l=e.replace(Uy,""),c=bv(o||i?"".concat(o," ").concat(i," { ").concat(l," }"):l);s.namespace&&(c=zy(c,s.namespace));var h=[];return gv(c,function(e){var t=Wg(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}(u.concat(function(e){return function(t){t.root||(t=t.return)&&e(t)}}((function(e){return h.push(e)}))))),h};return h.hash=l.length?l.reduce((function(e,t){return t.name||_y(15),Gv(e,t.name)}),qv).toString():"",h}var By=new My,Hy=Vy(),Wy=t.createContext({shouldForwardProp:void 0,styleSheet:By,stylis:Hy}),qy=(Wy.Consumer,t.createContext(void 0));function Gy(){return(0,t.useContext)(Wy)}function Ky(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],o=Gy().styleSheet,s=(0,t.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,o]),a=(0,t.useMemo)((function(){return Vy({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:r})}),[e.enableVendorPrefixes,e.namespace,r]);(0,t.useEffect)((function(){Eg()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]);var l=(0,t.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:s,stylis:a}}),[e.shouldForwardProp,s,a]);return t.createElement(Wy.Provider,{value:l},t.createElement(qy.Provider,{value:a},e.children))}var Zy=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Hy);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,yy(this,(function(){throw _y(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=Hy),this.name+e.hash},e}(),$y=function(e){return e>="A"&&e<="Z"};function Qy(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;$y(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Yy=function(e){return null==e||!1===e||""===e},Xy=function(e){var t,n,r=[];for(var i in e){var o=e[i];e.hasOwnProperty(i)&&!Yy(o)&&(Array.isArray(o)&&o.isCss||dy(o)?r.push("".concat(Qy(i),":"),o,";"):gy(o)?r.push.apply(r,xg(xg(["".concat(i," {")],Xy(o),!1),["}"],!1)):r.push("".concat(Qy(i),": ").concat((t=i,null==(n=o)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in Cv||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Jy(e,t,n,r){return Yy(e)?[]:fy(e)?[".".concat(e.styledComponentId)]:dy(e)?!dy(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:Jy(e(t),t,n,r):e instanceof Zy?n?(e.inject(n,r),[e.getName(r)]):[e]:gy(e)?Xy(e):Array.isArray(e)?Array.prototype.concat.apply(Av,e.map((function(e){return Jy(e,t,n,r)}))):[e.toString()];var i}function e_(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(dy(n)&&!fy(n))return!1}return!0}var t_=Kv(Pv),n_=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&e_(e),this.componentId=t,this.baseHash=Gv(t_,t),this.baseStyle=n,My.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=py(r,this.staticRulesId);else{var i=my(Jy(this.rules,e,t,n)),o=Hv(Gv(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,o)){var s=n(i,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,s)}r=py(r,o),this.staticRulesId=o}else{for(var a=Gv(this.baseHash,n.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u;else if(u){var h=my(Jy(u,e,t,n));a=Gv(a,h+c),l+=h}}if(l){var d=Hv(a>>>0);t.hasNameForId(this.componentId,d)||t.insertRules(this.componentId,d,n(l,".".concat(d),void 0,this.componentId)),r=py(r,d)}}return r},e}(),r_=t.createContext(void 0);r_.Consumer;var i_={};new Set;function o_(e,n,r){var i=fy(e),o=e,s=!Qv(e),a=n.attrs,l=void 0===a?Av:a,c=n.componentId,u=void 0===c?function(e,t){var n="string"!=typeof e?"sc":Uv(e);i_[n]=(i_[n]||0)+1;var r="".concat(n,"-").concat(Zv(Pv+n+i_[n]));return t?"".concat(t,"-").concat(r):r}(n.displayName,n.parentComponentId):c,h=n.displayName,d=void 0===h?function(e){return Qv(e)?"styled.".concat(e):"Styled(".concat($v(e),")")}(e):h,f=n.displayName&&n.componentId?"".concat(Uv(n.displayName),"-").concat(n.componentId):n.componentId||u,p=i&&o.attrs?o.attrs.concat(l).filter(Boolean):l,m=n.shouldForwardProp;if(i&&o.shouldForwardProp){var g=o.shouldForwardProp;if(n.shouldForwardProp){var v=n.shouldForwardProp;m=function(e,t){return g(e,t)&&v(e,t)}}else m=g}var y=new n_(r,f,i?o.componentStyle:void 0);function _(e,n){return function(e,n,r){var i=e.attrs,o=e.componentStyle,s=e.defaultProps,a=e.foldedComponentIds,l=e.styledComponentId,c=e.target,u=t.useContext(r_),h=Gy(),d=e.shouldForwardProp||h.shouldForwardProp,f=Rv(n,u,s)||Lv,p=function(e,t,n){for(var r,i=wg(wg({},t),{className:void 0,theme:n}),o=0;o<e.length;o+=1){var s=dy(r=e[o])?r(i):r;for(var a in s)i[a]="className"===a?py(i[a],s[a]):"style"===a?wg(wg({},i[a]),s[a]):s[a]}return t.className&&(i.className=py(i.className,t.className)),i}(i,n,f),m=p.as||c,g={};for(var v in p)void 0===p[v]||"$"===v[0]||"as"===v||"theme"===v&&p.theme===f||("forwardedAs"===v?g.as=p.forwardedAs:d&&!d(v,m)||(g[v]=p[v]));var y=function(e,t){var n=Gy();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(o,p),_=py(a,l);return y&&(_+=" "+y),p.className&&(_+=" "+p.className),g[Qv(m)&&!Dv.has(m)?"class":"className"]=_,g.ref=r,(0,t.createElement)(m,g)}(b,e,n)}_.displayName=d;var b=t.forwardRef(_);return b.attrs=p,b.componentStyle=y,b.displayName=d,b.shouldForwardProp=m,b.foldedComponentIds=i?py(o.foldedComponentIds,o.styledComponentId):"",b.styledComponentId=f,b.target=i?o.target:e,Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)vy(e,i[r],!0);return e}({},o.defaultProps,e):e}}),yy(b,(function(){return".".concat(b.styledComponentId)})),s&&hy(b,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),b}function s_(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var a_=function(e){return Object.assign(e,{isCss:!0})};function l_(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(dy(e)||gy(e))return a_(Jy(s_(Av,xg([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?Jy(r):a_(Jy(s_(r,t)))}function c_(e,t,n){if(void 0===n&&(n=Lv),!t)throw _y(1,t);var r=function(r){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return e(t,n,l_.apply(void 0,xg([r],i,!1)))};return r.attrs=function(r){return c_(e,t,wg(wg({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return c_(e,t,wg(wg({},n),r))},r}var u_=function(e){return c_(o_,e)},h_=u_;Dv.forEach((function(e){h_[e]=u_(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=e_(e),My.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,r){var i=r(my(Jy(this.rules,t,n,r)),""),o=this.componentId+e;n.insertRules(o,o,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&My.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();function d_(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=my(l_.apply(void 0,xg([e],t,!1))),i=Zv(r);return new Zy(i,r)}var f_,p_,m_,g_,v_,y_,__,b_,w_;(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=Ny(),r=my([n&&'nonce="'.concat(n,'"'),"".concat(Tv,'="true"'),"".concat(Iv,'="').concat(Pv,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw _y(2);return e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)throw _y(2);var r=((n={})[Tv]="",n[Iv]=Pv,n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=Ny();return i&&(r.nonce=i),[t.createElement("style",wg({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new My({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw _y(2);return t.createElement(Ky,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw _y(3)}})(),"__sc-".concat(Tv,"__");const x_="#4fa94d",S_={"aria-busy":!0,role:"progressbar"},E_=h_.div(f_||(f_=bg(["\n  display: ",";\n"])),(e=>e.$visible?"flex":"none")),C_=242.776657104492,T_=d_(p_||(p_=bg(["\n12.5% {\n  stroke-dasharray: ","px, ","px;\n  stroke-dashoffset: -","px;\n}\n43.75% {\n  stroke-dasharray: ","px, ","px;\n  stroke-dashoffset: -","px;\n}\n100% {\n  stroke-dasharray: ","px, ","px;\n  stroke-dashoffset: -","px;\n}\n"])),33.98873199462888,C_,26.70543228149412,84.97182998657219,C_,84.97182998657219,2.42776657104492,C_,240.34889053344708),k_=(h_.path(m_||(m_=bg(["\n  stroke-dasharray: ","px, ",";\n  stroke-dashoffset: 0;\n  animation: "," ","s linear infinite;\n"])),2.42776657104492,C_,T_,1.6),(e,t,n)=>{const r=Math.max(e,t),i=-n-r/2+1,o=2*n+r;return[i,i,o,o].join(" ")}),I_=e=>{let{height:t=80,width:n=80,color:r=x_,secondaryColor:i=x_,ariaLabel:o="oval-loading",wrapperStyle:s,wrapperClass:a,visible:l=!0,strokeWidth:c=2,strokeWidthSecondary:u}=e;return(0,Ae.jsx)(E_,{style:s,$visible:l,className:a,"data-testid":"oval-loading","aria-label":o,...S_,children:(0,Ae.jsx)("svg",{width:n,height:t,viewBox:k_(Number(c),Number(u||c),20),xmlns:"http://www.w3.org/2000/svg",stroke:r,"data-testid":"oval-svg",children:(0,Ae.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,Ae.jsxs)("g",{transform:"translate(1 1)",strokeWidth:Number(u||c),"data-testid":"oval-secondary-group",children:[(0,Ae.jsx)("circle",{strokeOpacity:".5",cx:"0",cy:"0",r:20,stroke:i,strokeWidth:c}),(0,Ae.jsx)("path",{d:(h=20,["M"+h+" 0c0-9.94-8.06",h,h,h].join("-")),children:(0,Ae.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 0 0",to:"360 0 0",dur:"1s",repeatCount:"indefinite"})})]})})})});var h},P_=d_(g_||(g_=bg(["\nto {\n   transform: rotate(360deg);\n }\n"]))),N_=(h_.svg(v_||(v_=bg(["\n  animation: "," 0.75s steps(12, end) infinite;\n  animation-duration: 0.75s;\n"])),P_),h_.polyline(y_||(y_=bg(["\n  stroke-width: ","px;\n  stroke-linecap: round;\n\n  &:nth-child(12n + 0) {\n    stroke-opacity: 0.08;\n  }\n\n  &:nth-child(12n + 1) {\n    stroke-opacity: 0.17;\n  }\n\n  &:nth-child(12n + 2) {\n    stroke-opacity: 0.25;\n  }\n\n  &:nth-child(12n + 3) {\n    stroke-opacity: 0.33;\n  }\n\n  &:nth-child(12n + 4) {\n    stroke-opacity: 0.42;\n  }\n\n  &:nth-child(12n + 5) {\n    stroke-opacity: 0.5;\n  }\n\n  &:nth-child(12n + 6) {\n    stroke-opacity: 0.58;\n  }\n\n  &:nth-child(12n + 7) {\n    stroke-opacity: 0.66;\n  }\n\n  &:nth-child(12n + 8) {\n    stroke-opacity: 0.75;\n  }\n\n  &:nth-child(12n + 9) {\n    stroke-opacity: 0.83;\n  }\n\n  &:nth-child(12n + 11) {\n    stroke-opacity: 0.92;\n  }\n"])),(e=>e.width)),d_(__||(__=bg(["\nto {\n   stroke-dashoffset: 136;\n }\n"])))),j_=(h_.polygon(b_||(b_=bg(["\n  stroke-dasharray: 17;\n  animation: "," 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;\n"])),N_),h_.svg(w_||(w_=bg(["\n  transform-origin: 50% 65%;\n"]))),async(e,t)=>{const n=(r=t,Xm(ht(lg),r));var r;await function(e,t,n){return Zm(e=ht(e),t,n)}(n,e);const i=await function(e){return $m(e=ht(e))}(n);return i}),O_="ProfilePage_container__v8YTa",A_="ProfilePage_avatarImg__YDlG1",L_="ProfilePage_loadingContainer__giyri",R_="ProfilePage_section__205TZ",D_="ProfilePage_pointer__jeeW1",M_="ProfilePage_flexColumnCenter__xwzGX",F_="ProfilePage_fileInputLabel__T4OmD";const U_=function(){const{logout:e,currentUser:n,changePassword:r}=fg(),i=Y(),[o,s]=(0,t.useState)({}),[a,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(null),[h,d]=(0,t.useState)(!0),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!1),[_,b]=(0,t.useState)(!1),[w,x]=(0,t.useState)(""),[S,E]=(0,t.useState)(""),[C,T]=(0,t.useState)("");return(0,t.useEffect)((()=>{n&&ug(n.uid).then((e=>{s(e),l(e.username),d(!1)})).catch((e=>{console.error("Error fetching profile info:",e),d(!1)}))}),[n]),h?(0,Ae.jsx)("div",{className:L_,children:(0,Ae.jsx)(I_,{color:"#020818",height:80,width:80})}):(0,Ae.jsxs)("div",{className:O_,children:[(0,Ae.jsx)("h1",{children:o.username}),(0,Ae.jsx)("img",{className:A_,src:o.avatar,alt:"profileImage"}),f&&(0,Ae.jsx)("div",{className:L_,children:(0,Ae.jsx)(I_,{color:"#020818",height:80,width:80})}),(0,Ae.jsxs)("div",{className:R_,children:[(0,Ae.jsx)("h2",{className:D_,onClick:()=>g(!m),children:"Change Username"}),m&&(0,Ae.jsxs)("div",{className:M_,children:[(0,Ae.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value)}),(0,Ae.jsx)("button",{className:"btnPrimary",onClick:async()=>{p(!0);try{await hg(n.uid,{username:a}),s({...o,username:a}),console.log("Username updated successfully")}catch(e){console.error("Username Update Error:",e)}finally{p(!1)}},disabled:f,style:{marginTop:"10px"},children:"Update Username"})]})]}),(0,Ae.jsxs)("div",{className:R_,children:[(0,Ae.jsx)("h2",{className:D_,onClick:()=>y(!v),children:"Change Profile Icon"}),v&&(0,Ae.jsxs)("div",{className:M_,children:[(0,Ae.jsx)("input",{type:"file",id:"fileInput",onChange:e=>{u(e.target.files[0])},style:{display:"none"}}),(0,Ae.jsx)("label",{htmlFor:"fileInput",className:F_,children:"Choose File"}),(0,Ae.jsx)("button",{className:"btnPrimary",onClick:async()=>{if(c){p(!0);try{const e=await j_(c,"profileIcons/".concat(n.uid));await hg(n.uid,{avatar:e}),s({...o,avatar:e}),console.log("Profile icon updated successfully")}catch(e){console.error("Profile Icon Update Error:",e)}finally{p(!1)}}},disabled:f,style:{marginTop:"10px"},children:f?"Uploading...":"Update Icon"})]})]}),(0,Ae.jsxs)("div",{className:R_,children:[(0,Ae.jsx)("h2",{className:D_,onClick:()=>b(!_),children:"Change Password"}),_&&(0,Ae.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),S===C){p(!0);try{const e=af.credential(n.email,w);await Sf(n,e),await r(S),console.log("Password updated successfully"),b(!1)}catch(t){console.error("Password Update Error:",t)}finally{p(!1)}}else console.error("Passwords do not match")},className:M_,children:[(0,Ae.jsx)("input",{type:"password",placeholder:"Current Password",value:w,onChange:e=>x(e.target.value)}),(0,Ae.jsx)("input",{type:"password",placeholder:"New Password",value:S,onChange:e=>E(e.target.value)}),(0,Ae.jsx)("input",{type:"password",placeholder:"Confirm New Password",value:C,onChange:e=>T(e.target.value)}),(0,Ae.jsx)("button",{className:"btnPrimary",type:"submit",disabled:f,style:{marginTop:"10px"},children:"Update Password"})]})]}),(0,Ae.jsx)("button",{className:"btnSecondary",onClick:async()=>{try{await e(),console.log("Successfully logged out"),i("/login")}catch(t){console.error("Logout Error:",t)}},children:"Log Out"})]})},z_=vu(ag,"Characters"),V_=async()=>{try{const e=await _h(z_);return e.docs.map((e=>({id:e.id,...e.data()})))}catch(e){throw console.error("Error fetching characters: ",e),e}},B_="CharactersPage_cardsContainer__7s2VV",H_="CharactersPage_card__FZUwq",W_="CharactersPage_characterImageAll__Hx992",q_="CharactersPage_cardContent__V6Ch+",G_="CharactersPage_searchInput__J4Qg0";const K_=function(){const{currentUser:e}=fg(),[n,r]=(0,t.useState)([]),[i,o]=(0,t.useState)(!1),[s,a]=(0,t.useState)(""),l=Y();(0,t.useEffect)((()=>{(async()=>{try{const e=await V_();r(e)}catch(e){console.error("Error fetching characters: ",e)}})(),(async()=>{try{"admin"===(await ug(e.uid)).role&&o(!0)}catch(t){console.error("Error fetching user role: ",t)}})()}),[e]);const c=n.filter((e=>e.fullName.toLowerCase().includes(s.toLowerCase())||e.nicknames.toLowerCase().includes(s.toLowerCase())||e.species.toLowerCase().includes(s.toLowerCase())||e.gender.toLowerCase().includes(s.toLowerCase())||e.occupation.toLowerCase().includes(s.toLowerCase())));return(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("h1",{children:"Characters"}),(0,Ae.jsx)("input",{type:"search",placeholder:"Search Characters...",value:s,onChange:e=>{a(e.target.value)},className:G_}),i&&(0,Ae.jsx)("button",{className:"btnPrimary",style:{marginTop:"20px",marginBottom:"20px"},onClick:()=>l("/characters/add"),children:"Add Character"}),(0,Ae.jsx)("div",{className:B_,children:c.map((e=>(0,Ae.jsxs)("div",{className:H_,onClick:()=>{return t=e.id,console.log("Navigating to character:",t),void l("/characters/".concat(t));var t},children:[e.imageUrl&&(0,Ae.jsx)("img",{src:e.imageUrl,alt:e.fullName,className:W_}),(0,Ae.jsxs)("div",{className:q_,children:[(0,Ae.jsx)("h3",{children:e.fullName}),(0,Ae.jsx)("h4",{children:e.nicknames}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Species:"})," ",e.species]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Gender:"})," ",e.gender]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Age:"})," ",e.age]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Occupation/Role:"})," ",e.occupation]})]})]},e.id)))})]})},Z_={form:"CharacterAddPage_form__yme4S",formGroup:"CharacterAddPage_formGroup__0LEyP",fullWidth:"CharacterAddPage_fullWidth__tpjW8",largeTextarea:"CharacterAddPage_largeTextarea__WhMWJ"};const $_=function(){const e=Y(),[n,r]=(0,t.useState)(!1),[i,o]=(0,t.useState)(null),[s,a]=(0,t.useState)({fullName:"",nicknames:"",age:"",gender:"",species:"",occupation:"",physicalDescription:"",typicalClothing:"",placeOfBirth:"",family:"",educationTraining:"",significantEvents:"",traits:"",strengthsWeaknesses:"",fears:"",goals:"",motivations:"",magicAbilities:"",skills:"",allies:"",enemies:"",loveInterests:"",plotInvolvement:"",keyActions:"",characterArc:"",imageUrl:"https://firebasestorage.googleapis.com/v0/b/lorekeeper-6ffd8.appspot.com/o/Logo.jpg?alt=media&token=b3c66f08-5659-49a0-877c-1a03841ce2bd"}),l=e=>{const{name:t,value:n}=e.target;a({...s,[t]:n})};return(0,Ae.jsxs)("div",{className:"container ".concat(Z_.centeredForm),children:[(0,Ae.jsx)("h2",{className:"TitleText",children:"Add Character"}),n&&(0,Ae.jsx)("div",{className:"loading-container",children:(0,Ae.jsx)(I_,{color:"#020818",height:80,width:80})}),(0,Ae.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),r(!0);try{let t="";t=i?await j_(i,"characters/".concat(s.fullName)):"https://firebasestorage.googleapis.com/v0/b/lorekeeper-6ffd8.appspot.com/o/Logo.jpg?alt=media&token=b3c66f08-5659-49a0-877c-1a03841ce2bd",await(async e=>{try{const t=await xh(z_,e);return console.log("Document written with ID: ",t.id),t.id}catch(t){throw console.error("Error adding document: ",t),t}})({...s,imageUrl:t}),e("/characters")}catch(n){console.error("Error adding character: ",n)}r(!1)},className:Z_.form,children:[(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Full Name"}),(0,Ae.jsx)("input",{type:"text",name:"fullName",value:s.fullName,onChange:l,required:!0})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Nicknames"}),(0,Ae.jsx)("input",{type:"text",name:"nicknames",value:s.nicknames,onChange:l})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Age"}),(0,Ae.jsx)("input",{type:"text",name:"age",value:s.age,onChange:l})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Gender"}),(0,Ae.jsx)("input",{type:"text",name:"gender",value:s.gender,onChange:l})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Species"}),(0,Ae.jsx)("input",{type:"text",name:"species",value:s.species,onChange:l})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Occupation/Role"}),(0,Ae.jsx)("input",{type:"text",name:"occupation",value:s.occupation,onChange:l})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Physical Description"}),(0,Ae.jsx)("textarea",{name:"physicalDescription",value:s.physicalDescription,onChange:l,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Typical Clothing/Armor"}),(0,Ae.jsx)("textarea",{name:"typicalClothing",value:s.typicalClothing,onChange:l,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Place of Birth"}),(0,Ae.jsx)("textarea",{name:"placeOfBirth",value:s.placeOfBirth,onChange:l,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Family"}),(0,Ae.jsx)("textarea",{name:"family",value:s.family,onChange:l,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Education/Training"}),(0,Ae.jsx)("textarea",{name:"educationTraining",value:s.educationTraining,onChange:l,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Significant Events"}),(0,Ae.jsx)("textarea",{name:"significantEvents",value:s.significantEvents,onChange:l,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Traits"}),(0,Ae.jsx)("textarea",{name:"traits",value:s.traits,onChange:l,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Strengths/Weaknesses"}),(0,Ae.jsx)("textarea",{name:"strengthsWeaknesses",value:s.strengthsWeaknesses,onChange:l,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Fears"}),(0,Ae.jsx)("textarea",{name:"fears",value:s.fears,onChange:l,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Goals"}),(0,Ae.jsx)("textarea",{name:"goals",value:s.goals,onChange:l,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Motivations"}),(0,Ae.jsx)("textarea",{name:"motivations",value:s.motivations,onChange:l,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Magic/Abilities"}),(0,Ae.jsx)("textarea",{name:"magicAbilities",value:s.magicAbilities,onChange:l,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Skills"}),(0,Ae.jsx)("textarea",{name:"skills",value:s.skills,onChange:l,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Allies"}),(0,Ae.jsx)("textarea",{name:"allies",value:s.allies,onChange:l,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Enemies"}),(0,Ae.jsx)("textarea",{name:"enemies",value:s.enemies,onChange:l,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Love Interests"}),(0,Ae.jsx)("textarea",{name:"loveInterests",value:s.loveInterests,onChange:l,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Current Role in the Story"}),(0,Ae.jsx)("textarea",{name:"plotInvolvement",value:s.plotInvolvement,onChange:l,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Key Actions"}),(0,Ae.jsx)("textarea",{name:"keyActions",value:s.keyActions,onChange:l,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:Z_.formGroup,children:[(0,Ae.jsx)("label",{children:"Character Arc"}),(0,Ae.jsx)("textarea",{name:"characterArc",value:s.characterArc,onChange:l,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:"".concat(Z_.formGroup," ").concat(Z_.fullWidth),children:[(0,Ae.jsx)("label",{children:"Character Image"}),(0,Ae.jsx)("input",{type:"file",onChange:e=>{o(e.target.files[0])}})]}),(0,Ae.jsx)("div",{className:"".concat(Z_.formGroup," ").concat(Z_.fullWidth),children:(0,Ae.jsx)("button",{className:"btnPrimary",disabled:n,type:"submit",children:"Add Character"})})]})]})},Q_="SingleCharacterPage_characterInfo__V-geA",Y_="SingleCharacterPage_subDiv_1_p__ZXrxO",X_="SingleCharacterPage_subDiv_2_p__FuOT1",J_="SingleCharacterPage_subDiv_3_p__1F5Jx",eb="SingleCharacterPage_characterImage__LkbWH",tb="SingleCharacterPage_formGroup__kJCHU",nb="SingleCharacterPage_largeTextarea__OxJB-",rb="SingleCharacterPage_font22__2As8d",ib="SingleCharacterPage_characterDetails__y7vQ5",ob="SingleCharacterPage_buttonContainer__tfva9",sb="SingleCharacterPage_separator__wbDVL";const ab=function(){const{characterId:e}=X(),{currentUser:n}=fg(),[r,i]=(0,t.useState)({}),[o,s]=(0,t.useState)(null),[a,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[h,d]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{try{const t=await(async e=>{try{const t=yu(ag,"Characters",e),n=await vh(t);if(n.exists())return{id:n.id,...n.data()};throw new Error("Character not found")}catch(t){throw console.error("Error fetching character with ID ".concat(e,": "),t),t}})(e);i(t),d(!1)}catch(t){console.error("Error fetching character: ",t),d(!1)}})(),(async()=>{try{"admin"===(await ug(n.uid)).role&&l(!0)}catch(e){console.error("Error fetching user role: ",e)}})()}),[e,n]);const f=e=>{const{name:t,value:n}=e.target;i({...r,[t]:n})};return h?(0,Ae.jsx)("div",{children:"Loading..."}):(0,Ae.jsxs)("div",{className:"container",children:[r.imageUrl&&(0,Ae.jsx)("img",{src:r.imageUrl,alt:r.fullName,className:eb,style:{marginTop:"15px"}}),c?(0,Ae.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),d(!0);try{let t=r.imageUrl;o&&(t=await j_(o,"characters/".concat(r.fullName))),await(async(e,t)=>{try{const n=yu(ag,"Characters",e);await bh(n,t,{merge:!0}),console.log("Character updated with ID: ",e)}catch(n){throw console.error("Error updating character: ",n),n}})(e,{...r,imageUrl:t}),u(!1)}catch(n){console.error("Error updating character: ",n)}finally{d(!1)}},children:[(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Full Name"}),(0,Ae.jsx)("input",{type:"text",name:"fullName",value:r.fullName,onChange:f,required:!0})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Nicknames"}),(0,Ae.jsx)("input",{type:"text",name:"nicknames",value:r.nicknames,onChange:f})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Species"}),(0,Ae.jsx)("input",{type:"text",name:"species",value:r.species,onChange:f})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Gender"}),(0,Ae.jsx)("input",{type:"text",name:"gender",value:r.gender,onChange:f})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Age"}),(0,Ae.jsx)("input",{type:"text",name:"age",value:r.age,onChange:f})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Occupation/Role"}),(0,Ae.jsx)("input",{type:"text",name:"occupation",value:r.occupation,onChange:f})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Physical Description"}),(0,Ae.jsx)("textarea",{name:"physicalDescription",value:r.physicalDescription,onChange:f,className:nb})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Typical Clothing/Armor"}),(0,Ae.jsx)("textarea",{name:"typicalClothing",value:r.typicalClothing,onChange:f,className:nb})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Place of Birth"}),(0,Ae.jsx)("textarea",{name:"placeOfBirth",value:r.placeOfBirth,onChange:f,className:nb})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Family"}),(0,Ae.jsx)("textarea",{name:"family",value:r.family,onChange:f,className:nb})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Education/Training"}),(0,Ae.jsx)("textarea",{name:"educationTraining",value:r.educationTraining,onChange:f,className:nb})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Significant Events"}),(0,Ae.jsx)("textarea",{name:"significantEvents",value:r.significantEvents,onChange:f,className:nb})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Traits"}),(0,Ae.jsx)("textarea",{name:"traits",value:r.traits,onChange:f,className:nb})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Fears"}),(0,Ae.jsx)("textarea",{name:"fears",value:r.fears,onChange:f,className:nb})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Goals"}),(0,Ae.jsx)("textarea",{name:"goals",value:r.goals,onChange:f,className:nb})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Strengths/Weaknesses"}),(0,Ae.jsx)("textarea",{name:"strengthsWeaknesses",value:r.strengthsWeaknesses,onChange:f,className:nb})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Motivations"}),(0,Ae.jsx)("textarea",{name:"motivations",value:r.motivations,onChange:f,className:nb})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Magic/Abilities"}),(0,Ae.jsx)("textarea",{name:"magicAbilities",value:r.magicAbilities,onChange:f,className:nb})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Skills"}),(0,Ae.jsx)("textarea",{name:"skills",value:r.skills,onChange:f,className:nb})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Allies"}),(0,Ae.jsx)("textarea",{name:"allies",value:r.allies,onChange:f,className:nb})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Enemies"}),(0,Ae.jsx)("textarea",{name:"enemies",value:r.enemies,onChange:f,className:nb})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Love Interests"}),(0,Ae.jsx)("textarea",{name:"loveInterests",value:r.loveInterests,onChange:f,className:nb})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Current Role in the Story"}),(0,Ae.jsx)("textarea",{name:"plotInvolvement",value:r.plotInvolvement,onChange:f,className:nb})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Key Actions"}),(0,Ae.jsx)("textarea",{name:"keyActions",value:r.keyActions,onChange:f,className:nb})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Character Arc"}),(0,Ae.jsx)("textarea",{name:"characterArc",value:r.characterArc,onChange:f,className:nb})]}),(0,Ae.jsxs)("div",{className:tb,children:[(0,Ae.jsx)("label",{children:"Upload New Image"}),(0,Ae.jsx)("input",{type:"file",onChange:e=>{s(e.target.files[0])}})]}),(0,Ae.jsx)("button",{style:{marginRight:"50px"},type:"button",className:"btnPrimary",onClick:()=>u(!1),children:"Cancel"}),(0,Ae.jsx)("button",{type:"submit",className:"btnPrimary",children:"Save"})]}):(0,Ae.jsxs)("div",{className:ib,children:[(0,Ae.jsxs)("div",{className:Q_,style:{maxWidth:"900px",margin:"0 auto"},children:[(0,Ae.jsx)("h1",{children:r.fullName}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("p",{className:"".concat(rb," ").concat(Y_," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Nicknames:"}),(0,Ae.jsx)("br",{})," ",r.nicknames]}),(0,Ae.jsxs)("p",{className:"".concat(rb," ").concat(Y_," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Species:"}),(0,Ae.jsx)("br",{})," ",r.species]}),(0,Ae.jsxs)("p",{className:"".concat(rb," ").concat(Y_," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Gender:"}),(0,Ae.jsx)("br",{})," ",r.gender]}),(0,Ae.jsxs)("p",{className:"".concat(rb," ").concat(Y_," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Age:"}),(0,Ae.jsx)("br",{})," ",r.age]}),(0,Ae.jsxs)("p",{className:"".concat(rb," ").concat(Y_," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Occupation/Role:"}),(0,Ae.jsx)("br",{})," ",r.occupation]})]}),(0,Ae.jsx)("hr",{className:sb}),(0,Ae.jsx)("h2",{children:"Physical Characteristics"}),(0,Ae.jsxs)("p",{style:{marginTop:"5px"},className:"".concat(rb," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Physical Description:"}),(0,Ae.jsx)("br",{})," ",r.physicalDescription]}),(0,Ae.jsxs)("p",{style:{marginTop:"5px"},className:"".concat(rb," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Typical Clothing/Armor:"}),(0,Ae.jsx)("br",{})," ",r.typicalClothing]}),(0,Ae.jsx)("hr",{className:sb}),(0,Ae.jsx)("h2",{children:"Background"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("p",{className:"".concat(rb," ").concat(X_," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Place of Birth:"}),(0,Ae.jsx)("br",{})," ",r.placeOfBirth]}),(0,Ae.jsxs)("p",{className:"".concat(rb," ").concat(X_," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Family:"}),(0,Ae.jsx)("br",{})," ",r.family]}),(0,Ae.jsxs)("p",{className:"".concat(rb," ").concat(X_," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Education/Training:"}),(0,Ae.jsx)("br",{})," ",r.educationTraining]})]}),(0,Ae.jsx)("hr",{className:sb}),(0,Ae.jsx)("h2",{children:"Personality"}),(0,Ae.jsxs)("p",{style:{marginTop:"5px"},className:"".concat(rb," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Significant Events:"}),(0,Ae.jsx)("br",{})," ",r.significantEvents]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("p",{className:"".concat(rb," ").concat(X_," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Traits:"}),(0,Ae.jsx)("br",{})," ",r.traits]}),(0,Ae.jsxs)("p",{className:"".concat(rb," ").concat(X_," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Fears:"}),(0,Ae.jsx)("br",{})," ",r.fears]}),(0,Ae.jsxs)("p",{className:"".concat(rb," ").concat(X_," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Goals:"}),(0,Ae.jsx)("br",{})," ",r.goals]})]}),(0,Ae.jsx)("hr",{className:sb}),(0,Ae.jsx)("h2",{children:"Abilities"}),(0,Ae.jsxs)("p",{style:{marginTop:"5px"},className:"".concat(rb," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Strengths/Weaknesses:"}),(0,Ae.jsx)("br",{})," ",r.strengthsWeaknesses]}),(0,Ae.jsxs)("p",{style:{marginTop:"5px"},className:"".concat(rb," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Motivations:"}),(0,Ae.jsx)("br",{})," ",r.motivations]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("p",{className:"".concat(rb," ").concat(X_," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Magic/Abilities:"}),(0,Ae.jsx)("br",{})," ",r.magicAbilities]}),(0,Ae.jsxs)("p",{className:"".concat(rb," ").concat(X_," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Skills:"}),(0,Ae.jsx)("br",{})," ",r.skills]}),(0,Ae.jsxs)("p",{className:"".concat(rb," ").concat(X_," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Allies:"}),(0,Ae.jsx)("br",{})," ",r.allies]})]}),(0,Ae.jsx)("hr",{className:sb}),(0,Ae.jsx)("h2",{children:"Relationships"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("p",{className:"".concat(rb," ").concat(J_," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Enemies:"}),(0,Ae.jsx)("br",{})," ",r.enemies]}),(0,Ae.jsxs)("p",{className:"".concat(rb," ").concat(J_," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Love Interests:"}),(0,Ae.jsx)("br",{})," ",r.loveInterests]})]}),(0,Ae.jsx)("hr",{className:sb}),(0,Ae.jsx)("h2",{children:"Role in the Story"}),(0,Ae.jsxs)("p",{style:{marginTop:"5px"},className:"".concat(rb," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Current Role in the Story:"}),(0,Ae.jsx)("br",{})," ",r.plotInvolvement]}),(0,Ae.jsxs)("p",{style:{marginTop:"5px"},className:"".concat(rb," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Key Actions:"}),(0,Ae.jsx)("br",{})," ",r.keyActions]}),(0,Ae.jsxs)("p",{style:{marginTop:"5px"},className:"".concat(rb," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Character Arc:"}),(0,Ae.jsx)("br",{})," ",r.characterArc]}),(0,Ae.jsx)("hr",{className:sb})]}),a&&(0,Ae.jsx)("div",{className:ob,style:{marginTop:"30px"},children:(0,Ae.jsx)("button",{onClick:()=>{u(!0)},className:"btnPrimary",children:"Edit Character"})})]})]})},lb="AboutPage_aboutContainer__mP97z";const cb=function(){return(0,Ae.jsxs)("div",{className:lb,children:[(0,Ae.jsx)("h1",{children:"About Writings Of Gajamyw"}),(0,Ae.jsxs)("section",{children:[(0,Ae.jsx)("h2",{children:"Introduction"}),(0,Ae.jsx)("p",{children:"Introduction to the website"})]}),(0,Ae.jsxs)("section",{children:[(0,Ae.jsx)("h2",{children:"Project Origin"}),(0,Ae.jsx)("p",{children:"How did Gajamyw as a project begin?"})]}),(0,Ae.jsxs)("section",{children:[(0,Ae.jsx)("h2",{children:"Features"}),(0,Ae.jsxs)("ul",{children:[(0,Ae.jsxs)("li",{children:[(0,Ae.jsx)("strong",{children:"Home"}),": Stay updated with the latest and featured content."]}),(0,Ae.jsxs)("li",{children:[(0,Ae.jsx)("strong",{children:"Characters"}),": Detailed profiles of important characters."]}),(0,Ae.jsxs)("li",{children:[(0,Ae.jsx)("strong",{children:"World"}),": Explore the diverse regions, cultures, and histories of the world."]}),(0,Ae.jsxs)("li",{children:[(0,Ae.jsx)("strong",{children:"Important Events"}),": Learn about significant events that shaped the world."]}),(0,Ae.jsxs)("li",{children:[(0,Ae.jsx)("strong",{children:"Timeline"}),": Follow the chronological order of key events."]}),(0,Ae.jsxs)("li",{children:[(0,Ae.jsx)("strong",{children:"Maps"}),": Visualize the world with detailed maps."]}),(0,Ae.jsxs)("li",{children:[(0,Ae.jsx)("strong",{children:"Magic"}),": Understand the magic systems and abilities."]}),(0,Ae.jsxs)("li",{children:[(0,Ae.jsx)("strong",{children:"Bestiary"}),": Meet the creatures that inhabit the world."]})]})]}),(0,Ae.jsxs)("section",{children:[(0,Ae.jsx)("h2",{children:"Target Audience"}),(0,Ae.jsx)("p",{children:"Who is this for?"})]}),(0,Ae.jsxs)("section",{children:[(0,Ae.jsx)("h2",{children:"Technology Stack"}),(0,Ae.jsx)("p",{children:"The website is built using modern technologies:"}),(0,Ae.jsxs)("ul",{children:[(0,Ae.jsxs)("li",{children:[(0,Ae.jsx)("strong",{children:"React"}),": For a dynamic and responsive user interface."]}),(0,Ae.jsxs)("li",{children:[(0,Ae.jsx)("strong",{children:"Firebase"}),": To handle backend services including authentication and database management."]}),(0,Ae.jsxs)("li",{children:[(0,Ae.jsx)("strong",{children:"GitHub Pages"}),": For hosting the site."]})]})]}),(0,Ae.jsxs)("section",{children:[(0,Ae.jsx)("h2",{children:"Team"}),(0,Ae.jsx)("p",{children:"Meet the creator(s) behind LoreKeeper:"}),(0,Ae.jsxs)("ul",{children:[(0,Ae.jsxs)("li",{children:[(0,Ae.jsx)("strong",{children:"Sam"}),": Writer and Designer."]}),(0,Ae.jsxs)("li",{children:[(0,Ae.jsx)("strong",{children:"Robyn"}),": Writer and Developer."]})]})]}),(0,Ae.jsxs)("section",{children:[(0,Ae.jsx)("h2",{children:"Future Plans"}),(0,Ae.jsx)("p",{children:"We're excited about the future of Gajamyw! Look forward to:"}),(0,Ae.jsxs)("ul",{children:[(0,Ae.jsx)("li",{children:"Expanded content and new regions to explore."}),(0,Ae.jsx)("li",{children:"Enhanced features for better user interaction."}),(0,Ae.jsx)("li",{children:"Regular updates to keep the world fresh and exciting."})]})]})]})};function ub(e){return ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ub(e)}function hb(e){var t=function(e,t){if("object"!=ub(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ub(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ub(t)?t:t+""}function db(e,t,n){return(t=hb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fb(Object(n),!0).forEach((function(t){db(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function gb(e,t){if(e){if("string"==typeof e)return mb(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mb(e,t):void 0}}function vb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||gb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yb(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var _b=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bb.apply(null,arguments)}function wb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hb(r.key),r)}}function xb(e,t){return xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xb(e,t)}function Sb(e){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sb(e)}function Eb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Eb=function(){return!!e})()}function Cb(e,t){if(t&&("object"==ub(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Tb(e){return function(e){if(Array.isArray(e))return mb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var kb=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(NT){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Ib=Math.abs,Pb=String.fromCharCode,Nb=Object.assign;function jb(e){return e.trim()}function Ob(e,t,n){return e.replace(t,n)}function Ab(e,t){return e.indexOf(t)}function Lb(e,t){return 0|e.charCodeAt(t)}function Rb(e,t,n){return e.slice(t,n)}function Db(e){return e.length}function Mb(e){return e.length}function Fb(e,t){return t.push(e),e}var Ub=1,zb=1,Vb=0,Bb=0,Hb=0,Wb="";function qb(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Ub,column:zb,length:s,return:""}}function Gb(e,t){return Nb(qb("",null,null,"",null,null,0),e,{length:-e.length},t)}function Kb(){return Hb=Bb<Vb?Lb(Wb,Bb++):0,zb++,10===Hb&&(zb=1,Ub++),Hb}function Zb(){return Lb(Wb,Bb)}function $b(){return Bb}function Qb(e,t){return Rb(Wb,e,t)}function Yb(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Xb(e){return Ub=zb=1,Vb=Db(Wb=e),Bb=0,[]}function Jb(e){return Wb="",e}function ew(e){return jb(Qb(Bb-1,rw(91===e?e+2:40===e?e+1:e)))}function tw(e){for(;(Hb=Zb())&&Hb<33;)Kb();return Yb(e)>2||Yb(Hb)>3?"":" "}function nw(e,t){for(;--t&&Kb()&&!(Hb<48||Hb>102||Hb>57&&Hb<65||Hb>70&&Hb<97););return Qb(e,$b()+(t<6&&32==Zb()&&32==Kb()))}function rw(e){for(;Kb();)switch(Hb){case e:return Bb;case 34:case 39:34!==e&&39!==e&&rw(Hb);break;case 40:41===e&&rw(e);break;case 92:Kb()}return Bb}function iw(e,t){for(;Kb()&&e+Hb!==57&&(e+Hb!==84||47!==Zb()););return"/*"+Qb(t,Bb-1)+"*"+Pb(47===e?e:Kb())}function ow(e){for(;!Yb(Zb());)Kb();return Qb(e,Bb)}var sw="-ms-",aw="-moz-",lw="-webkit-",cw="comm",uw="rule",hw="decl",dw="@keyframes";function fw(e,t){for(var n="",r=Mb(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function pw(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case hw:return e.return=e.return||e.value;case cw:return"";case dw:return e.return=e.value+"{"+fw(e.children,r)+"}";case uw:e.value=e.props.join(",")}return Db(n=fw(e.children,r))?e.return=e.value+"{"+n+"}":""}function mw(e){return function(t){t.root||(t=t.return)&&e(t)}}function gw(e){return Jb(vw("",null,null,null,[""],e=Xb(e),0,[0],e))}function vw(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,h=s,d=0,f=0,p=0,m=1,g=1,v=1,y=0,_="",b=i,w=o,x=r,S=_;g;)switch(p=y,y=Kb()){case 40:if(108!=p&&58==Lb(S,h-1)){-1!=Ab(S+=Ob(ew(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:S+=ew(y);break;case 9:case 10:case 13:case 32:S+=tw(p);break;case 92:S+=nw($b()-1,7);continue;case 47:switch(Zb()){case 42:case 47:Fb(_w(iw(Kb(),$b()),t,n),l);break;default:S+="/"}break;case 123*m:a[c++]=Db(S)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(S=Ob(S,/\f/g,"")),f>0&&Db(S)-h&&Fb(f>32?bw(S+";",r,n,h-1):bw(Ob(S," ","")+";",r,n,h-2),l);break;case 59:S+=";";default:if(Fb(x=yw(S,t,n,c,u,i,a,_,b=[],w=[],h),o),123===y)if(0===u)vw(S,t,x,x,b,o,h,a,w);else switch(99===d&&110===Lb(S,3)?100:d){case 100:case 108:case 109:case 115:vw(e,x,x,r&&Fb(yw(e,x,x,0,0,i,a,_,i,b=[],h),w),i,w,h,a,r?b:w);break;default:vw(S,x,x,x,[""],w,0,a,w)}}c=u=f=0,m=v=1,_=S="",h=s;break;case 58:h=1+Db(S),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==(Hb=Bb>0?Lb(Wb,--Bb):0,zb--,10===Hb&&(zb=1,Ub--),Hb))continue;switch(S+=Pb(y),y*m){case 38:v=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(Db(S)-1)*v,v=1;break;case 64:45===Zb()&&(S+=ew(Kb())),d=Zb(),u=h=Db(_=S+=ow($b())),y++;break;case 45:45===p&&2==Db(S)&&(m=0)}}return o}function yw(e,t,n,r,i,o,s,a,l,c,u){for(var h=i-1,d=0===i?o:[""],f=Mb(d),p=0,m=0,g=0;p<r;++p)for(var v=0,y=Rb(e,h+1,h=Ib(m=s[p])),_=e;v<f;++v)(_=jb(m>0?d[v]+" "+y:Ob(y,/&\f/g,d[v])))&&(l[g++]=_);return qb(e,t,n,0===i?uw:a,l,c,u)}function _w(e,t,n){return qb(e,t,n,cw,Pb(Hb),Rb(e,2,-2),0)}function bw(e,t,n,r){return qb(e,t,n,hw,Rb(e,0,r),Rb(e,r+1,-1),r)}var ww=function(e,t,n){for(var r=0,i=0;r=i,i=Zb(),38===r&&12===i&&(t[n]=1),!Yb(i);)Kb();return Qb(e,Bb)},xw=function(e,t){return Jb(function(e,t){var n=-1,r=44;do{switch(Yb(r)){case 0:38===r&&12===Zb()&&(t[n]=1),e[n]+=ww(Bb-1,t,n);break;case 2:e[n]+=ew(r);break;case 4:if(44===r){e[++n]=58===Zb()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Pb(r)}}while(r=Kb());return e}(Xb(e),t))},Sw=new WeakMap,Ew=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Sw.get(n))&&!r){Sw.set(e,!0);for(var i=[],o=xw(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},Cw=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Tw(e,t){switch(function(e,t){return 45^Lb(e,0)?(((t<<2^Lb(e,0))<<2^Lb(e,1))<<2^Lb(e,2))<<2^Lb(e,3):0}(e,t)){case 5103:return lw+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return lw+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return lw+e+aw+e+sw+e+e;case 6828:case 4268:return lw+e+sw+e+e;case 6165:return lw+e+sw+"flex-"+e+e;case 5187:return lw+e+Ob(e,/(\w+).+(:[^]+)/,lw+"box-$1$2"+sw+"flex-$1$2")+e;case 5443:return lw+e+sw+"flex-item-"+Ob(e,/flex-|-self/,"")+e;case 4675:return lw+e+sw+"flex-line-pack"+Ob(e,/align-content|flex-|-self/,"")+e;case 5548:return lw+e+sw+Ob(e,"shrink","negative")+e;case 5292:return lw+e+sw+Ob(e,"basis","preferred-size")+e;case 6060:return lw+"box-"+Ob(e,"-grow","")+lw+e+sw+Ob(e,"grow","positive")+e;case 4554:return lw+Ob(e,/([^-])(transform)/g,"$1"+lw+"$2")+e;case 6187:return Ob(Ob(Ob(e,/(zoom-|grab)/,lw+"$1"),/(image-set)/,lw+"$1"),e,"")+e;case 5495:case 3959:return Ob(e,/(image-set\([^]*)/,lw+"$1$`$1");case 4968:return Ob(Ob(e,/(.+:)(flex-)?(.*)/,lw+"box-pack:$3"+sw+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+lw+e+e;case 4095:case 3583:case 4068:case 2532:return Ob(e,/(.+)-inline(.+)/,lw+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Db(e)-1-t>6)switch(Lb(e,t+1)){case 109:if(45!==Lb(e,t+4))break;case 102:return Ob(e,/(.+:)(.+)-([^]+)/,"$1"+lw+"$2-$3$1"+aw+(108==Lb(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Ab(e,"stretch")?Tw(Ob(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Lb(e,t+1))break;case 6444:switch(Lb(e,Db(e)-3-(~Ab(e,"!important")&&10))){case 107:return Ob(e,":",":"+lw)+e;case 101:return Ob(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+lw+(45===Lb(e,14)?"inline-":"")+"box$3$1"+lw+"$2$3$1"+sw+"$2box$3")+e}break;case 5936:switch(Lb(e,t+11)){case 114:return lw+e+sw+Ob(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return lw+e+sw+Ob(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return lw+e+sw+Ob(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return lw+e+sw+e+e}return e}var kw=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case hw:e.return=Tw(e.value,e.length);break;case dw:return fw([Gb(e,{value:Ob(e.value,"@","@"+lw)})],r);case uw:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return fw([Gb(e,{props:[Ob(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return fw([Gb(e,{props:[Ob(t,/:(plac\w+)/,":"+lw+"input-$1")]}),Gb(e,{props:[Ob(t,/:(plac\w+)/,":-moz-$1")]}),Gb(e,{props:[Ob(t,/:(plac\w+)/,sw+"input-$1")]})],r)}return""}))}}],Iw=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||kw;var i,o,s={},a=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var l=[Ew,Cw];var c,u=[pw,mw((function(e){c.insert(e)}))],h=function(e){var t=Mb(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}(l.concat(r,u));o=function(e,t,n,r){c=n,function(e){fw(gw(e),h)}(e?e+"{"+t.styles+"}":t.styles),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new kb({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:o};return d.sheet.hydrate(a),d};var Pw=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)};function Nw(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var jw=/[A-Z]|^ms/g,Ow=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Aw=function(e){return 45===e.charCodeAt(1)},Lw=function(e){return null!=e&&"boolean"!==typeof e},Rw=Nw((function(e){return Aw(e)?e:e.replace(jw,"-$&").toLowerCase()})),Dw=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Ow,(function(e,t,n){return Fw={name:t,styles:n,next:Fw},t}))}return 1===Cv[e]||Aw(e)||"number"!==typeof t||0===t?t:t+"px"};function Mw(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Fw={name:n.name,styles:n.styles,next:Fw},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Fw={name:r.name,styles:r.styles,next:Fw},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Mw(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":Lw(s)&&(r+=Rw(o)+":"+Dw(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=Mw(e,t,s);switch(o){case"animation":case"animationName":r+=Rw(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var l=0;l<s.length;l++)Lw(s[l])&&(r+=Rw(o)+":"+Dw(o,s[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Fw,o=n(e);return Fw=i,Mw(e,t,o)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var Fw,Uw=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var zw=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Fw=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=Mw(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=Mw(n,t,e[s]),r&&(i+=o[s]);Uw.lastIndex=0;for(var a,l="";null!==(a=Uw.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:Fw}},Vw=!!r.useInsertionEffect&&r.useInsertionEffect,Bw=Vw||function(e){return e()},Hw=(Vw||t.useLayoutEffect,{}.hasOwnProperty),Ww=t.createContext("undefined"!==typeof HTMLElement?Iw({key:"css"}):null);Ww.Provider;var qw=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Ww);return e(n,i,r)}))};var Gw=t.createContext({});var Kw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Zw=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Pw(t,n,r),Bw((function(){return function(e,t,n){Pw(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},$w=qw((function(e,n,r){var i=e.css;"string"===typeof i&&void 0!==n.registered[i]&&(i=n.registered[i]);var o=e[Kw],s=[i],a="";"string"===typeof e.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(n.registered,s,e.className):null!=e.className&&(a=e.className+" ");var l=zw(s,void 0,t.useContext(Gw));a+=n.key+"-"+l.name;var c={};for(var u in e)Hw.call(e,u)&&"css"!==u&&u!==Kw&&(c[u]=e[u]);return c.ref=r,c.className=a,t.createElement(t.Fragment,null,t.createElement(Zw,{cache:n,serialized:l,isStringTag:"string"===typeof o}),t.createElement(o,c))}));var Qw=$w,Yw=(n(219),function(e,n){var r=arguments;if(null==n||!Hw.call(n,"css"))return t.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=Qw,o[1]=function(e,t){var n={};for(var r in t)Hw.call(t,r)&&(n[r]=t[r]);return n[Kw]=e,n}(e,n);for(var s=2;s<i;s++)o[s]=r[s];return t.createElement.apply(null,o)});function Xw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return zw(t)}const Jw=Math.min,ex=Math.max,tx=Math.round,nx=Math.floor,rx=e=>({x:e,y:e});function ix(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function ox(e){return lx(e)?(e.nodeName||"").toLowerCase():"#document"}function sx(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function ax(e){var t;return null==(t=(lx(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function lx(e){return e instanceof Node||e instanceof sx(e).Node}function cx(e){return e instanceof Element||e instanceof sx(e).Element}function ux(e){return e instanceof HTMLElement||e instanceof sx(e).HTMLElement}function hx(e){return"undefined"!==typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof sx(e).ShadowRoot)}function dx(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=mx(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function fx(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function px(e){return["html","body","#document"].includes(ox(e))}function mx(e){return sx(e).getComputedStyle(e)}function gx(e){if("html"===ox(e))return e;const t=e.assignedSlot||e.parentNode||hx(e)&&e.host||ax(e);return hx(t)?t.host:t}function vx(e){const t=gx(e);return px(t)?e.ownerDocument?e.ownerDocument.body:e.body:ux(t)&&dx(t)?t:vx(t)}function yx(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=vx(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),s=sx(i);return o?t.concat(s,s.visualViewport||[],dx(i)?i:[],s.frameElement&&n?yx(s.frameElement):[]):t.concat(i,yx(i,[],n))}function _x(e){const t=mx(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ux(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=tx(n)!==o||tx(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function bx(e){return cx(e)?e:e.contextElement}function wx(e){const t=bx(e);if(!ux(t))return rx(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=_x(t);let s=(o?tx(n.width):n.width)/r,a=(o?tx(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const xx=rx(0);function Sx(e){const t=sx(e);return fx()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:xx}function Ex(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=bx(e);let s=rx(1);t&&(r?cx(r)&&(s=wx(r)):s=wx(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==sx(e))&&t}(o,n,r)?Sx(o):rx(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,h=i.height/s.y;if(o){const e=sx(o),t=r&&cx(r)?sx(r):r;let n=e,i=n.frameElement;for(;i&&r&&t!==n;){const e=wx(i),t=i.getBoundingClientRect(),r=mx(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,h*=e.y,l+=o,c+=s,n=sx(i),i=n.frameElement}}return ix({width:u,height:h,x:l,y:c})}function Cx(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s="function"===typeof ResizeObserver,layoutShift:a="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,c=bx(e),u=i||o?[...c?yx(c):[],...yx(t)]:[];u.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)}));const h=c&&a?function(e,t){let n,r=null;const i=ax(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),o();const{left:c,top:u,width:h,height:d}=e.getBoundingClientRect();if(a||t(),!h||!d)return;const f={rootMargin:-nx(u)+"px "+-nx(i.clientWidth-(c+h))+"px "+-nx(i.clientHeight-(u+d))+"px "+-nx(c)+"px",threshold:ex(0,Jw(1,l))||1};let p=!0;function m(e){const t=e[0].intersectionRatio;if(t!==l){if(!p)return s();t?s(!1,t):n=setTimeout((()=>{s(!1,1e-7)}),1e3)}p=!1}try{r=new IntersectionObserver(m,{...f,root:i.ownerDocument})}catch(NT){r=new IntersectionObserver(m,f)}r.observe(e)}(!0),o}(c,n):null;let d,f=-1,p=null;s&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),c&&!l&&p.observe(c),p.observe(t));let m=l?Ex(e):null;return l&&function t(){const r=Ex(e);!m||r.x===m.x&&r.y===m.y&&r.width===m.width&&r.height===m.height||n();m=r,d=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)})),null==h||h(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(d)}}const Tx=t.useLayoutEffect;var kx=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Ix=function(){};function Px(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function Nx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(t&&e)for(var s in t)t.hasOwnProperty(s)&&t[s]&&o.push("".concat(Px(e,s)));return o.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var jx=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===ub(e)&&null!==e?[e]:[];var t},Ox=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,pb({},yb(e,kx))},Ax=function(e,t,n){var r=e.cx,i=e.getStyles,o=e.getClassNames,s=e.className;return{css:i(t,e),className:r(null!==n&&void 0!==n?n:{},o(t,e),s)}};function Lx(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Rx(e){return Lx(e)?window.pageYOffset:e.scrollTop}function Dx(e,t){Lx(e)?window.scrollTo(0,t):e.scrollTop=t}function Mx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ix,i=Rx(e),o=t-i,s=0;!function t(){var a=function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}(s+=10,i,o,n);Dx(e,a),s<n?window.requestAnimationFrame(t):r(e)}()}function Fx(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?Dx(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&Dx(e,Math.max(t.offsetTop-i,0))}function Ux(){try{return document.createEvent("TouchEvent"),!0}catch(NT){return!1}}var zx=!1,Vx={get passive(){return zx=!0}},Bx="undefined"!==typeof window?window:{};Bx.addEventListener&&Bx.removeEventListener&&(Bx.addEventListener("p",Ix,Vx),Bx.removeEventListener("p",Ix,!1));var Hx=zx;function Wx(e){return null!=e}function qx(e,t,n){return e?t:n}var Gx=["children","innerProps"],Kx=["children","innerProps"];function Zx(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,s=e.isFixedPosition,a=e.controlHeight,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var u,h=l.getBoundingClientRect().height,d=n.getBoundingClientRect(),f=d.bottom,p=d.height,m=d.top,g=n.offsetParent.getBoundingClientRect().top,v=s?window.innerHeight:Lx(u=l)?window.innerHeight:u.clientHeight,y=Rx(l),_=parseInt(getComputedStyle(n).marginBottom,10),b=parseInt(getComputedStyle(n).marginTop,10),w=g-b,x=v-m,S=w+y,E=h-y-m,C=f-v+y+_,T=y+m-b,k=160;switch(i){case"auto":case"bottom":if(x>=p)return{placement:"bottom",maxHeight:t};if(E>=p&&!s)return o&&Mx(l,C,k),{placement:"bottom",maxHeight:t};if(!s&&E>=r||s&&x>=r)return o&&Mx(l,C,k),{placement:"bottom",maxHeight:s?x-_:E-_};if("auto"===i||s){var I=t,P=s?w:S;return P>=r&&(I=Math.min(P-_-a,t)),{placement:"top",maxHeight:I}}if("bottom"===i)return o&&Dx(l,C),{placement:"bottom",maxHeight:t};break;case"top":if(w>=p)return{placement:"top",maxHeight:t};if(S>=p&&!s)return o&&Mx(l,T,k),{placement:"top",maxHeight:t};if(!s&&S>=r||s&&w>=r){var N=t;return(!s&&S>=r||s&&w>=r)&&(N=s?w-b:S-b),o&&Mx(l,T,k),{placement:"top",maxHeight:N}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}var $x,Qx=function(e){return"auto"===e?"bottom":e},Yx=(0,t.createContext)(null),Xx=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,o=e.menuPlacement,s=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,c=((0,t.useContext)(Yx)||{}).setPortalPlacement,u=(0,t.useRef)(null),h=vb((0,t.useState)(i),2),d=h[0],f=h[1],p=vb((0,t.useState)(null),2),m=p[0],g=p[1],v=l.spacing.controlHeight;return Tx((function(){var e=u.current;if(e){var t="fixed"===s,n=Zx({maxHeight:i,menuEl:e,minHeight:r,placement:o,shouldScroll:a&&!t,isFixedPosition:t,controlHeight:v});f(n.maxHeight),g(n.placement),null===c||void 0===c||c(n.placement)}}),[i,o,s,a,r,c,v]),n({ref:u,placerProps:pb(pb({},e),{},{placement:m||Qx(o),maxHeight:d})})},Jx=function(e){var t=e.children,n=e.innerRef,r=e.innerProps;return Yw("div",bb({},Ax(e,"menu",{menu:!0}),{ref:n},r),t)},eS=function(e,t){var n=e.theme,r=n.spacing.baseUnit,i=n.colors;return pb({textAlign:"center"},t?{}:{color:i.neutral40,padding:"".concat(2*r,"px ").concat(3*r,"px")})},tS=eS,nS=eS,rS=["size"],iS=["innerProps","isRtl","size"];var oS={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},sS=function(e){var t=e.size,n=yb(e,rS);return Yw("svg",bb({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:oS},n))},aS=function(e){return Yw(sS,bb({size:20},e),Yw("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},lS=function(e){return Yw(sS,bb({size:20},e),Yw("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},cS=function(e,t){var n=e.isFocused,r=e.theme,i=r.spacing.baseUnit,o=r.colors;return pb({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*i,":hover":{color:n?o.neutral80:o.neutral40}})},uS=cS,hS=cS,dS=function(){var e=Xw.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}($x||($x=bg(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),fS=function(e){var t=e.delay,n=e.offset;return Yw("span",{css:Xw({animation:"".concat(dS," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},pS=function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.innerRef,o=e.innerProps,s=e.menuIsOpen;return Yw("div",bb({ref:i},Ax(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":s}),o,{"aria-disabled":n||void 0}),t)},mS=["data"],gS=function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.getClassNames,o=e.Heading,s=e.headingProps,a=e.innerProps,l=e.label,c=e.theme,u=e.selectProps;return Yw("div",bb({},Ax(e,"group",{group:!0}),a),Yw(o,bb({},s,{selectProps:u,theme:c,getStyles:r,getClassNames:i,cx:n}),l),Yw("div",null,t))},vS=["innerRef","isDisabled","isHidden","inputClassName"],yS={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},_S={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":pb({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},yS)},bS=function(e){return pb({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},yS)},wS=function(e){var t=e.children,n=e.innerProps;return Yw("div",n,t)};var xS=function(e){var t=e.children,n=e.components,r=e.data,i=e.innerProps,o=e.isDisabled,s=e.removeProps,a=e.selectProps,l=n.Container,c=n.Label,u=n.Remove;return Yw(l,{data:r,innerProps:pb(pb({},Ax(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:a},Yw(c,{data:r,innerProps:pb({},Ax(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:a},t),Yw(u,{data:r,innerProps:pb(pb({},Ax(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},s),selectProps:a}))},SS={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return Yw("div",bb({},Ax(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||Yw(aS,null))},Control:pS,DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return Yw("div",bb({},Ax(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||Yw(lS,null))},DownChevron:lS,CrossIcon:aS,Group:gS,GroupHeading:function(e){var t=Ox(e);t.data;var n=yb(t,mS);return Yw("div",bb({},Ax(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return Yw("div",bb({},Ax(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return Yw("span",bb({},t,Ax(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,r=Ox(e),i=r.innerRef,o=r.isDisabled,s=r.isHidden,a=r.inputClassName,l=yb(r,vS);return Yw("div",bb({},Ax(e,"input",{"input-container":!0}),{"data-value":n||""}),Yw("input",bb({className:t({input:!0},a),ref:i,style:bS(s),disabled:o},l)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,r=e.size,i=void 0===r?4:r,o=yb(e,iS);return Yw("div",bb({},Ax(pb(pb({},o),{},{innerProps:t,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Yw(fS,{delay:0,offset:n}),Yw(fS,{delay:160,offset:!0}),Yw(fS,{delay:320,offset:!n}))},Menu:Jx,MenuList:function(e){var t=e.children,n=e.innerProps,r=e.innerRef,i=e.isMulti;return Yw("div",bb({},Ax(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:r},n),t)},MenuPortal:function(e){var n=e.appendTo,r=e.children,i=e.controlElement,o=e.innerProps,s=e.menuPlacement,a=e.menuPosition,l=(0,t.useRef)(null),c=(0,t.useRef)(null),u=vb((0,t.useState)(Qx(s)),2),h=u[0],d=u[1],f=(0,t.useMemo)((function(){return{setPortalPlacement:d}}),[]),p=vb((0,t.useState)(null),2),m=p[0],g=p[1],v=(0,t.useCallback)((function(){if(i){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(i),t="fixed"===a?0:window.pageYOffset,n=e[h]+t;n===(null===m||void 0===m?void 0:m.offset)&&e.left===(null===m||void 0===m?void 0:m.rect.left)&&e.width===(null===m||void 0===m?void 0:m.rect.width)||g({offset:n,rect:e})}}),[i,a,h,null===m||void 0===m?void 0:m.offset,null===m||void 0===m?void 0:m.rect.left,null===m||void 0===m?void 0:m.rect.width]);Tx((function(){v()}),[v]);var y=(0,t.useCallback)((function(){"function"===typeof c.current&&(c.current(),c.current=null),i&&l.current&&(c.current=Cx(i,l.current,v,{elementResize:"ResizeObserver"in window}))}),[i,v]);Tx((function(){y()}),[y]);var _=(0,t.useCallback)((function(e){l.current=e,y()}),[y]);if(!n&&"fixed"!==a||!m)return null;var b=Yw("div",bb({ref:_},Ax(pb(pb({},e),{},{offset:m.offset,position:a,rect:m.rect}),"menuPortal",{"menu-portal":!0}),o),r);return Yw(Yx.Provider,{value:f},n?(0,ge.createPortal)(b,n):b)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,r=e.innerProps,i=yb(e,Kx);return Yw("div",bb({},Ax(pb(pb({},i),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,r=e.innerProps,i=yb(e,Gx);return Yw("div",bb({},Ax(pb(pb({},i),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},MultiValue:xS,MultiValueContainer:wS,MultiValueLabel:wS,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return Yw("div",bb({role:"button"},n),t||Yw(aS,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.isSelected,o=e.innerRef,s=e.innerProps;return Yw("div",bb({},Ax(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":i}),{ref:o,"aria-disabled":n},s),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return Yw("div",bb({},Ax(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,r=e.isDisabled,i=e.isRtl;return Yw("div",bb({},Ax(e,"container",{"--is-disabled":r,"--is-rtl":i}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,r=e.innerProps;return Yw("div",bb({},Ax(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,r=e.isMulti,i=e.hasValue;return Yw("div",bb({},Ax(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":i}),n),t)}},ES=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function CS(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||ES(r)&&ES(i)))return!1;var r,i;return!0}for(var TS={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},kS=function(e){return Yw("span",bb({css:TS},e))},IS={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,i=e.context,o=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,i=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return"option ".concat(r,o?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,i=e.label,o=void 0===i?"":i,s=e.selectValue,a=e.isDisabled,l=e.isSelected,c=e.isAppleDevice,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&s)return"value ".concat(o," focused, ").concat(u(s,n),".");if("menu"===t&&c){var h=a?" disabled":"",d="".concat(l?" selected":"").concat(h);return"".concat(o).concat(d,", ").concat(u(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},PS=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,o=e.focusableOptions,s=e.isFocused,a=e.selectValue,l=e.selectProps,c=e.id,u=e.isAppleDevice,h=l.ariaLiveMessages,d=l.getOptionLabel,f=l.inputValue,p=l.isMulti,m=l.isOptionDisabled,g=l.isSearchable,v=l.menuIsOpen,y=l.options,_=l.screenReaderStatus,b=l.tabSelectsValue,w=l.isLoading,x=l["aria-label"],S=l["aria-live"],E=(0,t.useMemo)((function(){return pb(pb({},IS),h||{})}),[h]),C=(0,t.useMemo)((function(){var e,t="";if(n&&E.onChange){var r=n.option,i=n.options,o=n.removedValue,s=n.removedValues,l=n.value,c=o||r||(e=l,Array.isArray(e)?null:e),u=c?d(c):"",h=i||s||void 0,f=h?h.map(d):[],p=pb({isDisabled:c&&m(c,a),label:u,labels:f},n);t=E.onChange(p)}return t}),[n,E,m,a,d]),T=(0,t.useMemo)((function(){var e="",t=r||i,n=!!(r&&a&&a.includes(r));if(t&&E.onFocus){var s={focused:t,label:d(t),isDisabled:m(t,a),isSelected:n,options:o,context:t===r?"menu":"value",selectValue:a,isAppleDevice:u};e=E.onFocus(s)}return e}),[r,i,d,m,E,o,a,u]),k=(0,t.useMemo)((function(){var e="";if(v&&y.length&&!w&&E.onFilter){var t=_({count:o.length});e=E.onFilter({inputValue:f,resultsMessage:t})}return e}),[o,f,v,E,y,_,w]),I="initial-input-focus"===(null===n||void 0===n?void 0:n.action),P=(0,t.useMemo)((function(){var e="";if(E.guidance){var t=i?"value":v?"menu":"input";e=E.guidance({"aria-label":x,context:t,isDisabled:r&&m(r,a),isMulti:p,isSearchable:g,tabSelectsValue:b,isInitialFocus:I})}return e}),[x,r,i,p,m,g,v,E,a,b,I]),N=Yw(t.Fragment,null,Yw("span",{id:"aria-selection"},C),Yw("span",{id:"aria-focused"},T),Yw("span",{id:"aria-results"},k),Yw("span",{id:"aria-guidance"},P));return Yw(t.Fragment,null,Yw(kS,{id:c},I&&N),Yw(kS,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},s&&!I&&N))},NS=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],jS=new RegExp("["+NS.map((function(e){return e.letters})).join("")+"]","g"),OS={},AS=0;AS<NS.length;AS++)for(var LS=NS[AS],RS=0;RS<LS.letters.length;RS++)OS[LS.letters[RS]]=LS.base;var DS=function(e){return e.replace(jS,(function(e){return OS[e]}))},MS=function(e,t){void 0===t&&(t=CS);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}(DS),FS=function(e){return e.replace(/^\s+|\s+$/g,"")},US=function(e){return"".concat(e.label," ").concat(e.value)},zS=["innerRef"];function VS(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Object.entries(e).filter((function(e){var t=vb(e,1)[0];return!n.includes(t)}));return i.reduce((function(e,t){var n=vb(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}(yb(e,zS),"onExited","in","enter","exit","appear");return Yw("input",bb({ref:t},n,{css:Xw({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var BS=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};var HS=["boxSizing","height","overflow","paddingRight","position"],WS={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function qS(e){e.preventDefault()}function GS(e){e.stopPropagation()}function KS(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function ZS(){return"ontouchstart"in window||navigator.maxTouchPoints}var $S=!("undefined"===typeof window||!window.document||!window.document.createElement),QS=0,YS={capture:!1,passive:!1};var XS=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},JS={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function eE(e){var n=e.children,r=e.lockEnabled,i=e.captureEnabled,o=function(e){var n=e.isEnabled,r=e.onBottomArrive,i=e.onBottomLeave,o=e.onTopArrive,s=e.onTopLeave,a=(0,t.useRef)(!1),l=(0,t.useRef)(!1),c=(0,t.useRef)(0),u=(0,t.useRef)(null),h=(0,t.useCallback)((function(e,t){if(null!==u.current){var n=u.current,c=n.scrollTop,h=n.scrollHeight,d=n.clientHeight,f=u.current,p=t>0,m=h-d-c,g=!1;m>t&&a.current&&(i&&i(e),a.current=!1),p&&l.current&&(s&&s(e),l.current=!1),p&&t>m?(r&&!a.current&&r(e),f.scrollTop=h,g=!0,a.current=!0):!p&&-t>c&&(o&&!l.current&&o(e),f.scrollTop=0,g=!0,l.current=!0),g&&BS(e)}}),[r,i,o,s]),d=(0,t.useCallback)((function(e){h(e,e.deltaY)}),[h]),f=(0,t.useCallback)((function(e){c.current=e.changedTouches[0].clientY}),[]),p=(0,t.useCallback)((function(e){var t=c.current-e.changedTouches[0].clientY;h(e,t)}),[h]),m=(0,t.useCallback)((function(e){if(e){var t=!!Hx&&{passive:!1};e.addEventListener("wheel",d,t),e.addEventListener("touchstart",f,t),e.addEventListener("touchmove",p,t)}}),[p,f,d]),g=(0,t.useCallback)((function(e){e&&(e.removeEventListener("wheel",d,!1),e.removeEventListener("touchstart",f,!1),e.removeEventListener("touchmove",p,!1))}),[p,f,d]);return(0,t.useEffect)((function(){if(n){var e=u.current;return m(e),function(){g(e)}}}),[n,m,g]),function(e){u.current=e}}({isEnabled:void 0===i||i,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),s=function(e){var n=e.isEnabled,r=e.accountForScrollbars,i=void 0===r||r,o=(0,t.useRef)({}),s=(0,t.useRef)(null),a=(0,t.useCallback)((function(e){if($S){var t=document.body,n=t&&t.style;if(i&&HS.forEach((function(e){var t=n&&n[e];o.current[e]=t})),i&&QS<1){var r=parseInt(o.current.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,a=window.innerWidth-s+r||0;Object.keys(WS).forEach((function(e){var t=WS[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(a,"px"))}t&&ZS()&&(t.addEventListener("touchmove",qS,YS),e&&(e.addEventListener("touchstart",KS,YS),e.addEventListener("touchmove",GS,YS))),QS+=1}}),[i]),l=(0,t.useCallback)((function(e){if($S){var t=document.body,n=t&&t.style;QS=Math.max(QS-1,0),i&&QS<1&&HS.forEach((function(e){var t=o.current[e];n&&(n[e]=t)})),t&&ZS()&&(t.removeEventListener("touchmove",qS,YS),e&&(e.removeEventListener("touchstart",KS,YS),e.removeEventListener("touchmove",GS,YS)))}}),[i]);return(0,t.useEffect)((function(){if(n){var e=s.current;return a(e),function(){l(e)}}}),[n,a,l]),function(e){s.current=e}}({isEnabled:r});return Yw(t.Fragment,null,r&&Yw("div",{onClick:XS,css:JS}),n((function(e){o(e),s(e)})))}var tE={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},nE=function(e){var t=e.name,n=e.onFocus;return Yw("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:tE,value:"",onChange:function(){}})};function rE(e){var t;return"undefined"!==typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function iE(){return rE(/^Mac/i)}function oE(){return rE(/^iPhone/i)||rE(/^iPad/i)||iE()&&navigator.maxTouchPoints>1}var sE={clearIndicator:hS,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.theme,o=i.colors,s=i.borderRadius;return pb({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:i.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:r?o.primary:o.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:r?o.primary:o.neutral30}})},dropdownIndicator:uS,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,r=n.colors,i=n.spacing;return pb({label:"group",cursor:"default",display:"block"},t?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*i.baseUnit,paddingRight:3*i.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing.baseUnit,o=r.colors;return pb({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:2*i,marginTop:2*i})},input:function(e,t){var n=e.isDisabled,r=e.value,i=e.theme,o=i.spacing,s=i.colors;return pb(pb({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},_S),t?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:s.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,r=e.size,i=e.theme,o=i.colors,s=i.spacing.baseUnit;return pb({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*s})},loadingMessage:nS,menu:function(e,t){var n,r=e.placement,i=e.theme,o=i.borderRadius,s=i.spacing,a=i.colors;return pb((db(n={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(r),"100%"),db(n,"position","absolute"),db(n,"width","100%"),db(n,"zIndex",1),n),t?{}:{backgroundColor:a.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},menuList:function(e,t){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return pb({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:r,paddingTop:r})},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,o=n.colors;return pb({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:r.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,r=n.borderRadius,i=n.colors,o=e.cropWithEllipsis;return pb({overflow:"hidden",textOverflow:o||void 0===o?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:r/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,o=n.colors,s=e.isFocused;return pb({alignItems:"center",display:"flex"},t?{}:{borderRadius:i/2,backgroundColor:s?o.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},noOptionsMessage:tS,option:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.isSelected,o=e.theme,s=o.spacing,a=o.colors;return pb({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:i?a.primary:r?a.primary25:"transparent",color:n?a.neutral20:i?a.neutral0:"inherit",padding:"".concat(2*s.baseUnit,"px ").concat(3*s.baseUnit,"px"),":active":{backgroundColor:n?void 0:i?a.primary:a.primary50}})},placeholder:function(e,t){var n=e.theme,r=n.spacing,i=n.colors;return pb({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:i.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing,o=r.colors;return pb({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,r=e.isMulti,i=e.hasValue,o=e.selectProps.controlShouldRenderValue;return pb({alignItems:"center",display:r&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}};var aE,lE={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},cE={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Ux(),captureMenuScroll:!Ux(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=pb({ignoreCase:!0,ignoreAccents:!0,stringify:US,trim:!0,matchFrom:"any"},aE),r=n.ignoreCase,i=n.ignoreAccents,o=n.stringify,s=n.trim,a=n.matchFrom,l=s?FS(t):t,c=s?FS(o(e)):o(e);return r&&(l=l.toLowerCase(),c=c.toLowerCase()),i&&(l=MS(l),c=DS(c)),"start"===a?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(NT){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function uE(e,t,n,r){return{type:"option",data:t,isDisabled:yE(e,t,n),isSelected:_E(e,t,n),label:gE(e,t),value:vE(e,t),index:r}}function hE(e,t){return e.options.map((function(n,r){if("options"in n){var i=n.options.map((function(n,r){return uE(e,n,t,r)})).filter((function(t){return pE(e,t)}));return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=uE(e,n,t,r);return pE(e,o)?o:void 0})).filter(Wx)}function dE(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,Tb(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function fE(e,t){return e.reduce((function(e,n){return"group"===n.type?e.push.apply(e,Tb(n.options.map((function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}})))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e}),[])}function pE(e,t){var n=e.inputValue,r=void 0===n?"":n,i=t.data,o=t.isSelected,s=t.label,a=t.value;return(!wE(e)||!o)&&bE(e,{label:s,value:a,data:i},r)}var mE=function(e,t){var n;return(null===(n=e.find((function(e){return e.data===t})))||void 0===n?void 0:n.id)||null},gE=function(e,t){return e.getOptionLabel(t)},vE=function(e,t){return e.getOptionValue(t)};function yE(e,t,n){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function _E(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=vE(e,t);return n.some((function(t){return vE(e,t)===r}))}function bE(e,t,n){return!e.filterOption||e.filterOption(t,n)}var wE=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},xE=1,SE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xb(e,t)}(r,e);var n=function(e){var t=Eb();return function(){var n,r=Sb(e);if(t){var i=Sb(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Cb(this,n)}}(r);function r(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.isAppleDevice=iE()||oE(),t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var r=t.props,i=r.onChange,o=r.name;n.name=o,t.ariaOnChange(e,n),i(e,n)},t.setValue=function(e,n,r){var i=t.props,o=i.closeMenuOnSelect,s=i.isMulti,a=i.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:a}),o&&(t.setState({inputIsHiddenAfterUpdate:!s}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:r})},t.selectOption=function(e){var n=t.props,r=n.blurInputOnSelect,i=n.isMulti,o=n.name,s=t.state.selectValue,a=i&&t.isOptionSelected(e,s),l=t.isOptionDisabled(e,s);if(a){var c=t.getOptionValue(e);t.setValue(s.filter((function(e){return t.getOptionValue(e)!==c})),"deselect-option",e)}else{if(l)return void t.ariaOnChange(e,{action:"select-option",option:e,name:o});i?t.setValue([].concat(Tb(s),[e]),"select-option",e):t.setValue(e,"select-option")}r&&t.blurInput()},t.removeValue=function(e){var n=t.props.isMulti,r=t.state.selectValue,i=t.getOptionValue(e),o=r.filter((function(e){return t.getOptionValue(e)!==i})),s=qx(n,o,o[0]||null);t.onChange(s,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(qx(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,n=t.state.selectValue,r=n[n.length-1],i=n.slice(0,n.length-1),o=qx(e,i,i[0]||null);t.onChange(o,{action:"pop-value",removedValue:r})},t.getFocusedOptionId=function(e){return mE(t.state.focusableOptionsWithIds,e)},t.getFocusableOptionsWithIds=function(){return fE(hE(t.props,t.state.selectValue),t.getElementId("option"))},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Nx.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return gE(t.props,e)},t.getOptionValue=function(e){return vE(t.props,e)},t.getStyles=function(e,n){var r=t.props.unstyled,i=sE[e](n,r);i.boxSizing="border-box";var o=t.props.styles[e];return o?o(i,n):i},t.getClassNames=function(e,n){var r,i;return null===(r=(i=t.props.classNames)[e])||void 0===r?void 0:r.call(i,n)},t.getElementId=function(e){return"".concat(t.state.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,pb(pb({},SS),e.components);var e},t.buildCategorizedOptions=function(){return hE(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return dE(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:pb({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!t.props.isDisabled){var n=t.props,r=n.isMulti,i=n.menuIsOpen;t.focusInput(),i?(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"===typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Lx(e.target)&&t.props.onMenuClose():"function"===typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,r=n&&n.item(0);r&&(t.initialTouchX=r.clientX,t.initialTouchY=r.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,r=n&&n.item(0);if(r){var i=Math.abs(r.clientX-t.initialTouchX),o=Math.abs(r.clientY-t.initialTouchY);t.userIsDragging=i>5||o>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,r=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(r,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){if(!t.blockOptionHover&&t.state.focusedOption!==e){var n=t.getFocusableOptions().indexOf(e);t.setState({focusedOption:e,focusedOptionId:n>-1?t.getFocusedOptionId(e):null})}},t.shouldHideSelectedOptions=function(){return wE(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,r=n.isMulti,i=n.backspaceRemovesValue,o=n.escapeClearsValue,s=n.inputValue,a=n.isClearable,l=n.isDisabled,c=n.menuIsOpen,u=n.onKeyDown,h=n.tabSelectsValue,d=n.openMenuOnFocus,f=t.state,p=f.focusedOption,m=f.focusedValue,g=f.selectValue;if(!l&&("function"!==typeof u||(u(e),!e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||s)return;t.focusValue("previous");break;case"ArrowRight":if(!r||s)return;t.focusValue("next");break;case"Delete":case"Backspace":if(s)return;if(m)t.removeValue(m);else{if(!i)return;r?t.popValue():a&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!c||!h||!p||d&&t.isOptionSelected(p,g))return;t.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(c){if(!p)return;if(t.isComposing)return;t.selectOption(p);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:s}),t.onMenuClose()):a&&o&&t.clearValue();break;case" ":if(s)return;if(!c){t.openMenu("first");break}if(!p)return;t.selectOption(p);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.state.instancePrefix="react-select-"+(t.props.instanceId||++xE),t.state.selectValue=jx(e.value),e.menuIsOpen&&t.state.selectValue.length){var i=t.getFocusableOptionsWithIds(),o=t.buildFocusableOptions(),s=o.indexOf(t.state.selectValue[0]);t.state.focusableOptionsWithIds=i,t.state.focusedOption=o[s],t.state.focusedOptionId=mE(i,o[s])}return t}return function(e,t,n){t&&wb(e.prototype,t),n&&wb(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Fx(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):i||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Fx(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,i=n.isFocused,o=this.buildFocusableOptions(),s="first"===e?0:o.length-1;if(!this.props.isMulti){var a=o.indexOf(r[0]);a>-1&&(s=a)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[s],focusedOptionId:this.getFocusedOptionId(o[s])},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var o=n.length-1,s=-1;if(n.length){switch(e){case"previous":s=0===i?0:-1===i?o:i-1;break;case"next":i>-1&&i<o&&(s=i+1)}this.setState({inputIsHidden:-1!==s,focusedValue:n[s]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,o=r.indexOf(n);n||(o=-1),"up"===e?i=o>0?o-1:r.length-1:"down"===e?i=(o+1)%r.length:"pageup"===e?(i=o-t)<0&&(i=0):"pagedown"===e?(i=o+t)>r.length-1&&(i=r.length-1):"last"===e&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null,focusedOptionId:this.getFocusedOptionId(r[i])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(lE):pb(pb({},lE),this.props.theme):lE}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getClassNames,i=this.getValue,o=this.selectOption,s=this.setValue,a=this.props,l=a.isMulti,c=a.isRtl,u=a.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:r,getValue:i,hasValue:this.hasValue(),isMulti:l,isRtl:c,options:u,selectOption:o,selectProps:a,setValue:s,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return yE(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return _E(this.props,e,t)}},{key:"filterOption",value:function(e,t){return bE(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,n=e.isDisabled,r=e.isSearchable,i=e.inputId,o=e.inputValue,s=e.tabIndex,a=e.form,l=e.menuIsOpen,c=e.required,u=this.getComponents().Input,h=this.state,d=h.inputIsHidden,f=h.ariaSelection,p=this.commonProps,m=i||this.getElementId("input"),g=pb(pb(pb({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},l&&{"aria-controls":this.getElementId("listbox")}),!r&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null===f||void 0===f?void 0:f.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return r?t.createElement(u,bb({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:n,isHidden:d,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:s,form:a,type:"text",value:o},g)):t.createElement(VS,bb({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ix,onFocus:this.onInputFocus,disabled:n,tabIndex:s,inputMode:"none",form:a,value:""},g))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,n=this.getComponents(),r=n.MultiValue,i=n.MultiValueContainer,o=n.MultiValueLabel,s=n.MultiValueRemove,a=n.SingleValue,l=n.Placeholder,c=this.commonProps,u=this.props,h=u.controlShouldRenderValue,d=u.isDisabled,f=u.isMulti,p=u.inputValue,m=u.placeholder,g=this.state,v=g.selectValue,y=g.focusedValue,_=g.isFocused;if(!this.hasValue()||!h)return p?null:t.createElement(l,bb({},c,{key:"placeholder",isDisabled:d,isFocused:_,innerProps:{id:this.getElementId("placeholder")}}),m);if(f)return v.map((function(n,a){var l=n===y,u="".concat(e.getOptionLabel(n),"-").concat(e.getOptionValue(n));return t.createElement(r,bb({},c,{components:{Container:i,Label:o,Remove:s},isFocused:l,isDisabled:d,key:u,index:a,removeProps:{onClick:function(){return e.removeValue(n)},onTouchEnd:function(){return e.removeValue(n)},onMouseDown:function(e){e.preventDefault()}},data:n}),e.formatOptionLabel(n,"value"))}));if(p)return null;var b=v[0];return t.createElement(a,bb({},c,{data:b,isDisabled:d}),this.formatOptionLabel(b,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,n=this.commonProps,r=this.props,i=r.isDisabled,o=r.isLoading,s=this.state.isFocused;if(!this.isClearable()||!e||i||!this.hasValue()||o)return null;var a={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return t.createElement(e,bb({},n,{innerProps:a,isFocused:s}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,n=this.commonProps,r=this.props,i=r.isDisabled,o=r.isLoading,s=this.state.isFocused;if(!e||!o)return null;return t.createElement(e,bb({},n,{innerProps:{"aria-hidden":"true"},isDisabled:i,isFocused:s}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),n=e.DropdownIndicator,r=e.IndicatorSeparator;if(!n||!r)return null;var i=this.commonProps,o=this.props.isDisabled,s=this.state.isFocused;return t.createElement(r,bb({},i,{isDisabled:o,isFocused:s}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var n=this.commonProps,r=this.props.isDisabled,i=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return t.createElement(e,bb({},n,{innerProps:o,isDisabled:r,isFocused:i}))}},{key:"renderMenu",value:function(){var e=this,n=this.getComponents(),r=n.Group,i=n.GroupHeading,o=n.Menu,s=n.MenuList,a=n.MenuPortal,l=n.LoadingMessage,c=n.NoOptionsMessage,u=n.Option,h=this.commonProps,d=this.state.focusedOption,f=this.props,p=f.captureMenuScroll,m=f.inputValue,g=f.isLoading,v=f.loadingMessage,y=f.minMenuHeight,_=f.maxMenuHeight,b=f.menuIsOpen,w=f.menuPlacement,x=f.menuPosition,S=f.menuPortalTarget,E=f.menuShouldBlockScroll,C=f.menuShouldScrollIntoView,T=f.noOptionsMessage,k=f.onMenuScrollToTop,I=f.onMenuScrollToBottom;if(!b)return null;var P,N=function(n,r){var i=n.type,o=n.data,s=n.isDisabled,a=n.isSelected,l=n.label,c=n.value,f=d===o,p=s?void 0:function(){return e.onOptionHover(o)},m=s?void 0:function(){return e.selectOption(o)},g="".concat(e.getElementId("option"),"-").concat(r),v={id:g,onClick:m,onMouseMove:p,onMouseOver:p,tabIndex:-1,role:"option","aria-selected":e.isAppleDevice?void 0:a};return t.createElement(u,bb({},h,{innerProps:v,data:o,isDisabled:s,isSelected:a,key:g,label:l,type:i,value:c,isFocused:f,innerRef:f?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(n.data,"menu"))};if(this.hasOptions())P=this.getCategorizedOptions().map((function(n){if("group"===n.type){var o=n.data,s=n.options,a=n.index,l="".concat(e.getElementId("group"),"-").concat(a),c="".concat(l,"-heading");return t.createElement(r,bb({},h,{key:l,data:o,options:s,Heading:i,headingProps:{id:c,data:n.data},label:e.formatGroupLabel(n.data)}),n.options.map((function(e){return N(e,"".concat(a,"-").concat(e.index))})))}if("option"===n.type)return N(n,"".concat(n.index))}));else if(g){var j=v({inputValue:m});if(null===j)return null;P=t.createElement(l,h,j)}else{var O=T({inputValue:m});if(null===O)return null;P=t.createElement(c,h,O)}var A={minMenuHeight:y,maxMenuHeight:_,menuPlacement:w,menuPosition:x,menuShouldScrollIntoView:C},L=t.createElement(Xx,bb({},h,A),(function(n){var r=n.ref,i=n.placerProps,a=i.placement,l=i.maxHeight;return t.createElement(o,bb({},h,A,{innerRef:r,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:g,placement:a}),t.createElement(eE,{captureEnabled:p,onTopArrive:k,onBottomArrive:I,lockEnabled:E},(function(n){return t.createElement(s,bb({},h,{innerRef:function(t){e.getMenuListRef(t),n(t)},innerProps:{role:"listbox","aria-multiselectable":h.isMulti,id:e.getElementId("listbox")},isLoading:g,maxHeight:l,focusedOption:d}),P)})))}));return S||"fixed"===x?t.createElement(a,bb({},h,{appendTo:S,controlElement:this.controlRef,menuPlacement:w,menuPosition:x}),L):L}},{key:"renderFormField",value:function(){var e=this,n=this.props,r=n.delimiter,i=n.isDisabled,o=n.isMulti,s=n.name,a=n.required,l=this.state.selectValue;if(a&&!this.hasValue()&&!i)return t.createElement(nE,{name:s,onFocus:this.onValueInputFocus});if(s&&!i){if(o){if(r){var c=l.map((function(t){return e.getOptionValue(t)})).join(r);return t.createElement("input",{name:s,type:"hidden",value:c})}var u=l.length>0?l.map((function(n,r){return t.createElement("input",{key:"i-".concat(r),name:s,type:"hidden",value:e.getOptionValue(n)})})):t.createElement("input",{name:s,type:"hidden",value:""});return t.createElement("div",null,u)}var h=l[0]?this.getOptionValue(l[0]):"";return t.createElement("input",{name:s,type:"hidden",value:h})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,n=this.state,r=n.ariaSelection,i=n.focusedOption,o=n.focusedValue,s=n.isFocused,a=n.selectValue,l=this.getFocusableOptions();return t.createElement(PS,bb({},e,{id:this.getElementId("live-region"),ariaSelection:r,focusedOption:i,focusedValue:o,isFocused:s,selectValue:a,focusableOptions:l,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),n=e.Control,r=e.IndicatorsContainer,i=e.SelectContainer,o=e.ValueContainer,s=this.props,a=s.className,l=s.id,c=s.isDisabled,u=s.menuIsOpen,h=this.state.isFocused,d=this.commonProps=this.getCommonProps();return t.createElement(i,bb({},d,{className:a,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:h}),this.renderLiveRegion(),t.createElement(n,bb({},d,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:h,menuIsOpen:u}),t.createElement(o,bb({},d,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),t.createElement(r,bb({},d,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,o=t.ariaSelection,s=t.isFocused,a=t.prevWasFocused,l=t.instancePrefix,c=e.options,u=e.value,h=e.menuIsOpen,d=e.inputValue,f=e.isMulti,p=jx(u),m={};if(n&&(u!==n.value||c!==n.options||h!==n.menuIsOpen||d!==n.inputValue)){var g=h?function(e,t){return dE(hE(e,t))}(e,p):[],v=h?fE(hE(e,p),"".concat(l,"-option")):[],y=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,p):null,_=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,g);m={selectValue:p,focusedOption:_,focusedOptionId:mE(v,_),focusableOptionsWithIds:v,focusedValue:y,clearFocusValueOnUpdate:!1}}var b=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{},w=o,x=s&&a;return s&&!x&&(w={value:qx(f,p,p[0]||null),options:p,action:"initial-input-focus"},x=!a),"initial-input-focus"===(null===o||void 0===o?void 0:o.action)&&(w=null),pb(pb(pb({},m),b),{},{prevProps:e,ariaSelection:w,prevWasFocused:x})}}]),r}(t.Component);SE.defaultProps=cE;var EE=(0,t.forwardRef)((function(e,n){var r=function(e){var n=e.defaultInputValue,r=void 0===n?"":n,i=e.defaultMenuIsOpen,o=void 0!==i&&i,s=e.defaultValue,a=void 0===s?null:s,l=e.inputValue,c=e.menuIsOpen,u=e.onChange,h=e.onInputChange,d=e.onMenuClose,f=e.onMenuOpen,p=e.value,m=yb(e,_b),g=vb((0,t.useState)(void 0!==l?l:r),2),v=g[0],y=g[1],_=vb((0,t.useState)(void 0!==c?c:o),2),b=_[0],w=_[1],x=vb((0,t.useState)(void 0!==p?p:a),2),S=x[0],E=x[1],C=(0,t.useCallback)((function(e,t){"function"===typeof u&&u(e,t),E(e)}),[u]),T=(0,t.useCallback)((function(e,t){var n;"function"===typeof h&&(n=h(e,t)),y(void 0!==n?n:e)}),[h]),k=(0,t.useCallback)((function(){"function"===typeof f&&f(),w(!0)}),[f]),I=(0,t.useCallback)((function(){"function"===typeof d&&d(),w(!1)}),[d]),P=void 0!==l?l:v,N=void 0!==c?c:b,j=void 0!==p?p:S;return pb(pb({},m),{},{inputValue:P,menuIsOpen:N,onChange:C,onInputChange:T,onMenuClose:I,onMenuOpen:k,value:j})}(e);return t.createElement(SE,bb({ref:n},r))})),CE=EE;const TE=vu(ag,"Stories"),kE=async e=>{try{const t=yu(ag,"Stories",e),n=await vh(t);if(n.exists()){const t={id:n.id,...n.data()},r=nh(vu(ag,"Stories/".concat(e,"/Chapters")),sh("order","asc")),i=(await _h(r)).docs.map((e=>({id:e.id,...e.data()})));return t.chapters=i,t}throw new Error("Story not found")}catch(t){throw console.error("Error fetching story: ",t),t}},IE="AddStoryPage_container__80AkI",PE="AddStoryPage_loadingContainer__jP6Kr",NE="AddStoryPage_form__ymLyj",jE="AddStoryPage_formGroup__1Hycc",OE="AddStoryPage_largeTextarea__Y8f8s",AE="AddStoryPage_fullWidth__09KeU";const LE=function(){const e=Y(),{currentUser:n}=fg(),[r,i]=(0,t.useState)(!1),[o,s]=(0,t.useState)(null),[a,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!1),[h,d]=(0,t.useState)({title:"",description:"",charactersInvolved:[],publicationDate:"",coverImageUrl:""});(0,t.useEffect)((()=>{(async()=>{try{const e=(await V_()).map((e=>({value:e.id,label:e.fullName})));l(e)}catch(e){console.error("Error fetching characters: ",e)}})(),(async()=>{try{"admin"===(await ug(n.uid)).role?u(!0):e("/")}catch(t){console.error("Error fetching user role: ",t)}})()}),[n,e]);const f=e=>{const{name:t,value:n}=e.target;d({...h,[t]:n})};return c?(0,Ae.jsxs)("div",{className:IE,children:[(0,Ae.jsx)("h2",{className:"TitleText",children:"Add Story"}),r&&(0,Ae.jsx)("div",{className:PE,children:(0,Ae.jsx)(I_,{color:"#020818",height:80,width:80})}),(0,Ae.jsxs)("form",{className:NE,onSubmit:async t=>{t.preventDefault(),i(!0);try{let t="";o&&(t=await j_(o,"stories/".concat(h.title))),await(async e=>{try{const{chapters:t,...n}=e,r=await xh(TE,n);if(console.log("Story written with ID: ",r.id),t&&t.length>0){const e=vu(ag,"Stories/".concat(r.id,"/Chapters"));for(const n of t)await xh(e,n)}return r.id}catch(t){throw console.error("Error adding story: ",t),t}})({...h,coverImageUrl:t}),e("/stories")}catch(n){console.error("Error adding story: ",n)}i(!1)},children:[(0,Ae.jsxs)("div",{className:jE,children:[(0,Ae.jsx)("label",{children:"Title"}),(0,Ae.jsx)("input",{type:"text",name:"title",value:h.title,onChange:f,required:!0})]}),(0,Ae.jsxs)("div",{className:jE,children:[(0,Ae.jsx)("label",{children:"Description"}),(0,Ae.jsx)("textarea",{name:"description",value:h.description,onChange:f,className:OE})]}),(0,Ae.jsxs)("div",{className:jE,children:[(0,Ae.jsx)("label",{children:"Characters Involved"}),(0,Ae.jsx)(CE,{isMulti:!0,options:a,onChange:e=>{d({...h,charactersInvolved:e.map((e=>e.value))})},className:"selectDropdown"})]}),(0,Ae.jsxs)("div",{className:jE,children:[(0,Ae.jsx)("label",{children:"Publication Date"}),(0,Ae.jsx)("input",{type:"date",name:"publicationDate",value:h.publicationDate,onChange:f})]}),(0,Ae.jsxs)("div",{className:"".concat(jE," ").concat(AE),children:[(0,Ae.jsx)("label",{children:"Cover Image"}),(0,Ae.jsx)("input",{type:"file",onChange:e=>{s(e.target.files[0])}})]}),(0,Ae.jsx)("div",{className:"".concat(jE," ").concat(AE),children:(0,Ae.jsx)("button",{className:"btnPrimary",disabled:r,type:"submit",children:"Add Story"})})]})]}):(0,Ae.jsx)("div",{children:"You do not have permission to add stories."})},RE="StoriesPage_cardsContainer__kXrN2",DE="StoriesPage_card__exGMl",ME="StoriesPage_storyImage__9fbgV",FE="StoriesPage_cardContent__jykRE";const UE=function(){const{currentUser:e}=fg(),[n,r]=(0,t.useState)([]),[i,o]=(0,t.useState)(!1),s=Y();(0,t.useEffect)((()=>{(async()=>{try{const e=await(async()=>{try{const e=nh(TE,sh("publicationDate","asc"));return(await _h(e)).docs.map((e=>({id:e.id,...e.data()})))}catch(e){throw console.error("Error fetching stories: ",e),e}})();r(a(e))}catch(e){console.error("Error fetching stories: ",e)}})(),(async()=>{try{"admin"===(await ug(e.uid)).role&&o(!0)}catch(t){console.error("Error fetching user role: ",t)}})()}),[e]);const a=e=>e.map((e=>{if(e.description.length>150){const t=e.description.substring(0,150);e.description=t.substring(0,t.lastIndexOf(" "))+"..."}return e}));return(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("h1",{children:"Stories"}),i&&(0,Ae.jsx)("button",{className:"btnPrimary",onClick:()=>s("/stories/add"),children:"Add Story"}),(0,Ae.jsx)("div",{className:RE,children:n.map((e=>(0,Ae.jsxs)("div",{className:DE,onClick:()=>{return t=e.id,void s("/stories/".concat(t));var t},children:[e.coverImageUrl&&(0,Ae.jsx)("img",{src:e.coverImageUrl,alt:e.title,className:ME}),(0,Ae.jsxs)("div",{className:FE,children:[(0,Ae.jsx)("h2",{children:e.title}),(0,Ae.jsx)("p",{children:e.description})]})]},e.id)))})]})},zE="ChapterPage_container__-YrtU",VE="ChapterPage_content__cegZI",BE="ChapterPage_form__6B1gw",HE="ChapterPage_formGroup__d0vXV",WE="ChapterPage_largeTextarea__34LSG",qE="ChapterPage_fullWidth__JhKh2",GE="ChapterPage_navigationButtons__BSYol";const KE=function(){const{storyId:e,chapterId:n}=X(),{currentUser:r}=fg(),[i,o]=(0,t.useState)({}),[s,a]=(0,t.useState)({}),[l,c]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[d,f]=(0,t.useState)(!0),p=Y();(0,t.useEffect)((()=>{(async()=>{try{const t=await(async(e,t)=>{try{const n=yu(ag,"Stories/".concat(e,"/Chapters"),t),r=await vh(n);if(r.exists())return{id:r.id,...r.data()};throw new Error("Chapter not found")}catch(n){throw console.error("Error fetching chapter: ",n),n}})(e,n),r=await kE(e);o(t),a(r),f(!1)}catch(t){console.error("Error fetching chapter or story: ",t),f(!1)}})(),(async()=>{try{"admin"===(await ug(r.uid)).role&&c(!0)}catch(e){console.error("Error fetching user role: ",e)}})()}),[e,n,r]);const m=e=>{const{name:t,value:n}=e.target;o({...i,[t]:n})},g=(()=>{if(!s.chapters)return null;const e=s.chapters.findIndex((e=>e.id===n));return window.scrollTo(0,0),e<s.chapters.length-1?s.chapters[e+1]:null})(),v=(()=>{if(!s.chapters)return null;const e=s.chapters.findIndex((e=>e.id===n));return window.scrollTo(0,0),e>0?s.chapters[e-1]:null})();return d?(0,Ae.jsx)("div",{children:"Loading..."}):(0,Ae.jsxs)("div",{className:zE,children:[(0,Ae.jsx)("h1",{children:s.title}),u?(0,Ae.jsxs)("form",{className:BE,onSubmit:async t=>{t.preventDefault();try{await(async(e,t,n)=>{try{const r=yu(ag,"Stories/".concat(e,"/Chapters"),t);await wh(r,n),console.log("Chapter updated with ID: ",t)}catch(r){throw console.error("Error updating chapter: ",r),r}})(e,n,i),h(!1)}catch(r){console.error("Error updating chapter: ",r)}},children:[(0,Ae.jsxs)("div",{className:HE,children:[(0,Ae.jsx)("label",{children:"Title"}),(0,Ae.jsx)("input",{type:"text",name:"title",value:i.title,onChange:m,required:!0})]}),(0,Ae.jsxs)("div",{className:HE,children:[(0,Ae.jsx)("label",{children:"Content"}),(0,Ae.jsx)("textarea",{name:"content",value:i.content,onChange:m,className:WE})]}),(0,Ae.jsxs)("div",{className:qE,children:[(0,Ae.jsx)("button",{className:"btnPrimary",type:"submit",children:"Save"}),(0,Ae.jsx)("button",{className:"btnSecondary",type:"button",onClick:()=>{h(!1)},children:"Cancel"})]})]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("h2",{children:i.title}),(0,Ae.jsx)("div",{className:VE,children:i.content.split("\n").map(((e,t)=>(0,Ae.jsx)("p",{children:e},t)))})]}),l&&!u&&(0,Ae.jsx)("button",{className:"btnSecondary",onClick:()=>{h(!0)},children:"Edit Chapter"}),(0,Ae.jsxs)("div",{className:GE,children:[v&&(0,Ae.jsx)("button",{className:"btnPrimary",onClick:()=>p("/stories/".concat(e,"/chapters/").concat(v.id)),children:"Previous Chapter"}),g&&(0,Ae.jsx)("button",{className:"btnPrimary",onClick:()=>p("/stories/".concat(e,"/chapters/").concat(g.id)),children:"Next Chapter"})]})]})},ZE={container:"SingleStoryPage_container__57d-S",storyImage:"SingleStoryPage_storyImage__FjWQ1",cardsContainer:"SingleStoryPage_cardsContainer__fp0ZK",card:"SingleStoryPage_card__J7N0S",form:"SingleStoryPage_form__Ulhxe",formGroup:"SingleStoryPage_formGroup__RjGSO"};const $E=function(){var e,n;const{storyId:r}=X(),{currentUser:i}=fg(),[o,s]=(0,t.useState)({}),[a,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!1),[h,d]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!0),m=Y();(0,t.useEffect)((()=>{(async()=>{try{const e=await kE(r);s(e),p(!1)}catch(e){console.error("Error fetching story: ",e),p(!1)}})(),(async()=>{try{const e=(await V_()).map((e=>({value:e.id,label:e.fullName})));l(e)}catch(e){console.error("Error fetching characters: ",e)}})(),(async()=>{try{"admin"===(await ug(i.uid)).role&&u(!0)}catch(e){console.error("Error fetching user role: ",e)}})()}),[r,i]);const g=e=>{const{name:t,value:n}=e.target;s({...o,[t]:n})};return f?(0,Ae.jsx)("div",{children:"Loading..."}):(0,Ae.jsxs)("div",{className:ZE.container,children:[o.coverImageUrl&&(0,Ae.jsx)("img",{src:o.coverImageUrl,alt:o.title,className:ZE.storyImage}),h?(0,Ae.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await(async(e,t)=>{try{const n=yu(ag,"Stories",e);await wh(n,t),console.log("Story updated with ID: ",e)}catch(n){throw console.error("Error updating story: ",n),n}})(r,o),d(!1)}catch(t){console.error("Error updating story: ",t)}},className:ZE.form,children:[(0,Ae.jsxs)("div",{className:ZE.formGroup,children:[(0,Ae.jsx)("label",{children:"Title"}),(0,Ae.jsx)("input",{type:"text",name:"title",value:o.title,onChange:g,required:!0})]}),(0,Ae.jsxs)("div",{className:ZE.formGroup,children:[(0,Ae.jsx)("label",{children:"Description"}),(0,Ae.jsx)("textarea",{name:"description",value:o.description,onChange:g,className:ZE.largeTextarea})]}),(0,Ae.jsxs)("div",{className:ZE.formGroup,children:[(0,Ae.jsx)("label",{children:"Characters Involved"}),(0,Ae.jsx)(CE,{isMulti:!0,options:a,value:a.filter((e=>{var t;return null===(t=o.charactersInvolved)||void 0===t?void 0:t.includes(e.value)})),onChange:e=>{s({...o,charactersInvolved:e.map((e=>e.value))})},className:"selectDropdown"})]}),(0,Ae.jsx)("button",{className:"btnPrimary",type:"submit",children:"Save"}),(0,Ae.jsx)("button",{className:"btnSecondary",type:"button",onClick:()=>{d(!1)},children:"Cancel"})]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("h1",{style:{marginBottom:"0px"},children:o.title}),(0,Ae.jsx)("p",{style:{fontSize:"20px",maxWidth:"800px"},children:o.description}),(0,Ae.jsx)("h2",{style:{marginBottom:"0px"},children:"Characters Involved"}),(null===(e=o.charactersInvolved)||void 0===e?void 0:e.length)>0?(0,Ae.jsx)("ul",{style:{fontSize:"18px"},children:o.charactersInvolved.map((e=>{const t=a.find((t=>t.value===e));return t?(0,Ae.jsx)("li",{style:{marginBottom:"5px"},children:(0,Ae.jsx)(Ce,{to:"/characters/".concat(e),style:{color:"black",fontSize:"22px"},children:t.label})},e):null}))}):(0,Ae.jsx)("p",{style:{fontSize:"22px"},children:"No characters involved."})]}),(0,Ae.jsx)("h2",{children:"Chapters"}),(null===(n=o.chapters)||void 0===n?void 0:n.length)>0?(0,Ae.jsx)("div",{className:ZE.cardsContainer,children:o.chapters.map((e=>(0,Ae.jsxs)("div",{className:ZE.card,onClick:()=>{return t=e.id,void m("/stories/".concat(r,"/chapters/").concat(t));var t},children:[(0,Ae.jsx)("h3",{style:{fontSize:"24px"},children:e.title}),(0,Ae.jsxs)("p",{style:{fontSize:"20px"},children:[e.content.substring(0,100),"..."]})]},e.id)))}):(0,Ae.jsx)("p",{children:"No chapters available."}),c&&!h&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("button",{className:"btnPrimary",onClick:()=>{m("/stories/".concat(r,"/add-chapter"))},children:"Add Chapter"}),(0,Ae.jsx)("button",{className:"btnSecondary",onClick:()=>{d(!0)},children:"Edit Story"})]})]})},QE="AddChapterPage_form__TRA4d",YE="AddChapterPage_formGroup__BchBl";const XE=function(){const e=Y(),{storyId:n}=X(),{currentUser:r}=fg(),[i,o]=(0,t.useState)(!1),[s,a]=(0,t.useState)(!1),[l,c]=(0,t.useState)({title:"",content:""});(0,t.useEffect)((()=>{(async()=>{try{"admin"===(await ug(r.uid)).role?a(!0):e("/")}catch(t){console.error("Error fetching user role: ",t)}})()}),[r,e]);const u=e=>{const{name:t,value:n}=e.target;c({...l,[t]:n})};return s?(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("h2",{className:"TitleText",children:"Add Chapter"}),i&&(0,Ae.jsx)("div",{className:"loadingContainer",children:(0,Ae.jsx)(I_,{color:"#020818",height:80,width:80})}),(0,Ae.jsxs)("form",{className:QE,onSubmit:async t=>{t.preventDefault(),o(!0);try{await(async(e,t)=>{try{const n=vu(ag,"Stories/".concat(e,"/Chapters")),r=nh(n,sh("order","desc")),i=(await _h(r)).docs[0],o=i?i.data().order+1:1,s={...t,order:o};await xh(n,s),console.log("Chapter added to story ID: ",e)}catch(n){throw console.error("Error adding chapter: ",n),n}})(n,l),e("/stories/".concat(n))}catch(r){console.error("Error adding chapter: ",r)}o(!1)},children:[(0,Ae.jsxs)("div",{className:YE,children:[(0,Ae.jsx)("label",{children:"Title"}),(0,Ae.jsx)("input",{type:"text",name:"title",value:l.title,onChange:u,required:!0})]}),(0,Ae.jsxs)("div",{className:YE,children:[(0,Ae.jsx)("label",{children:"Content"}),(0,Ae.jsx)("textarea",{name:"content",value:l.content,onChange:u,className:"largeTextarea",required:!0})]}),(0,Ae.jsx)("div",{className:YE,children:(0,Ae.jsx)("button",{className:"btnPrimary",disabled:i,type:"submit",children:"Add Chapter"})})]})]}):(0,Ae.jsx)("div",{children:"You do not have permission to add chapters."})},JE=vu(ag,"Timeline"),eC=e=>function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=ht(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||bu(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(bu(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,h,d;if(e instanceof mu)h=hu(e.firestore,wu),d=yo(e._key.path),u={next:t=>{n[l]&&n[l](Eh(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=hu(e,pu);h=hu(t.firestore,wu),d=t._query;const r=new yh(h);u={next:e=>{n[l]&&n[l](new mh(h,r,t,e))},error:n[l+1],complete:n[l+2]},Ju(e._query)}return function(e,t,n,r){const i=new Zc(r),o=new gc(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>cc(await nu(e),o))),()=>{i.$a(),e.asyncQueue.enqueueAndForget((async()=>uc(await nu(e),o)))}}(xu(h),d,c,u)}(nh(JE),(t=>{if(t.empty)e([]);else{const n=t.docs.map((e=>({id:e.id,...e.data()})));console.log("Firestore Query Result:",n);const r=n.filter((e=>1===e.era)).sort(((e,t)=>t.year-e.year)),i=n.filter((e=>2===e.era)).sort(((e,t)=>e.year-t.year)),o=[...r,...i];e(o)}})),tC=async e=>{const t=yu(ag,"Timeline",e);return await function(e){return Sh(hu(e.firestore,wu),[new Ss(e._key,us.none())])}(t)};var nC=n(120);const rC={loadingContainer:"TimelinePage_loadingContainer__U4wD7","vertical-timeline":"TimelinePage_vertical-timeline__jsT5N","vertical-timeline-element-content":"TimelinePage_vertical-timeline-element-content__jjBwt","vertical-timeline-element-date":"TimelinePage_vertical-timeline-element-date__kLPQJ","vertical-timeline--animate":"TimelinePage_vertical-timeline--animate__L6H0a"};var iC;const oC="#84A185",sC="#020818",aC=h_(nC.VerticalTimelineElement)(iC||(iC=bg(["\n  .vertical-timeline-element-content {\n    background-color: white !important;\n    border: 2.5px solid #84A185 !important;\n    color: black !important;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23) !important;\n  }\n  .vertical-timeline-element-date {\n    color: black !important;\n    font-size: 22px !important;\n    margin-top: -15px !important;\n    margin-right: 30px !important;\n  }\n"]))),lC=()=>{const{currentUser:e}=fg(),[n,r]=(0,t.useState)([]),[i,o]=(0,t.useState)({title:"",content:"",era:"",year:""}),[s,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!0),[d,f]=(0,t.useState)(!1);(0,t.useEffect)((()=>{if(e){const t=async()=>{try{const e=eC((e=>{r(e),h(!1)}));return()=>e()}catch(e){console.error("Error fetching timeline events: ",e),h(!1)}},n=async()=>{try{"admin"===(await ug(e.uid)).role&&c(!0)}catch(t){console.error("Error fetching user role: ",t)}};t(),n()}}),[e]);return u?(0,Ae.jsx)("div",{className:rC.loadingContainer,children:(0,Ae.jsx)(I_,{color:sC,height:80,width:80})}):(0,Ae.jsxs)("div",{className:"container",style:{backgroundColor:"rgb(233, 233, 233)"},children:[d&&(0,Ae.jsx)("div",{className:rC.loadingContainer,children:(0,Ae.jsx)(I_,{color:sC,height:80,width:80})}),l&&!s&&(0,Ae.jsxs)("form",{className:"section",onSubmit:async e=>{e.preventDefault(),f(!0);const t={...i,era:parseInt(i.era,10),year:parseInt(i.year,10)};try{await(async e=>await xh(JE,e))(t),o({title:"",content:"",era:"",year:""})}catch(n){console.error("Error adding timeline event: ",n)}finally{f(!1)}},children:[(0,Ae.jsx)("label",{htmlFor:"title",children:"Title"}),(0,Ae.jsx)("input",{id:"title",type:"text",placeholder:"Title",value:i.title,onChange:e=>o({...i,title:e.target.value}),required:!0}),(0,Ae.jsx)("label",{htmlFor:"content",children:"Content"}),(0,Ae.jsx)("textarea",{id:"content",className:rC.textarea,placeholder:"Content",value:i.content,onChange:e=>o({...i,content:e.target.value}),required:!0}),(0,Ae.jsx)("label",{htmlFor:"era",children:"Era (Before Calamity [1]/After Calamity [2])"}),(0,Ae.jsx)("input",{id:"era",type:"number",placeholder:"Era (1-2)",value:i.era,onChange:e=>o({...i,era:e.target.value}),required:!0}),(0,Ae.jsx)("label",{htmlFor:"year",children:"Year"}),(0,Ae.jsx)("input",{id:"year",type:"number",placeholder:"Year",value:i.year,onChange:e=>o({...i,year:e.target.value}),required:!0}),(0,Ae.jsx)("button",{className:"btnPrimary",type:"submit",disabled:d,children:"Add Event"})]}),l&&s&&(0,Ae.jsxs)("form",{className:"section",onSubmit:async e=>{e.preventDefault(),f(!0);const{id:t,...n}={...s,era:parseInt(s.era,10),year:parseInt(s.year,10)};try{await(async(e,t)=>{const n=yu(ag,"Timeline",e);return await wh(n,t)})(t,n),a(null)}catch(r){console.error("Error updating timeline event: ",r)}finally{f(!1)}},children:[(0,Ae.jsx)("label",{htmlFor:"title",children:"Title"}),(0,Ae.jsx)("input",{id:"title",type:"text",placeholder:"Title",value:s.title,onChange:e=>a({...s,title:e.target.value}),required:!0}),(0,Ae.jsx)("label",{htmlFor:"content",children:"Content"}),(0,Ae.jsx)("textarea",{id:"content",className:rC.textarea,placeholder:"Content",value:s.content,onChange:e=>a({...s,content:e.target.value}),required:!0}),(0,Ae.jsx)("label",{htmlFor:"era",children:"Era (1-5)"}),(0,Ae.jsx)("input",{id:"era",type:"number",placeholder:"Era (1-5)",value:s.era,onChange:e=>a({...s,era:e.target.value}),required:!0}),(0,Ae.jsx)("label",{htmlFor:"year",children:"Year"}),(0,Ae.jsx)("input",{id:"year",type:"number",placeholder:"Year",value:s.year,onChange:e=>a({...s,year:e.target.value}),required:!0}),(0,Ae.jsx)("button",{className:"btnPrimary",type:"submit",disabled:d,children:"Update Event"}),(0,Ae.jsx)("button",{className:"btnSecondary",onClick:()=>a(null),disabled:d,children:"Cancel"})]}),(0,Ae.jsx)(nC.VerticalTimeline,{className:"".concat(rC.verticalTimeline," vertical-timeline vertical-timeline--animate"),children:n.map((e=>{return(0,Ae.jsxs)(aC,{date:"".concat((t=e.era,1===t?"Before Calamity":2===t?"After Calamity":void 0),", Year ").concat(e.year),iconStyle:{background:oC,color:sC},contentArrowStyle:{borderRight:"7px solid #84A185"},children:[(0,Ae.jsx)("h1",{children:e.title}),(0,Ae.jsx)("p",{style:{fontSize:"18px"},className:"preserve-whitespace",children:e.content}),l&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("button",{className:"btnPrimary",onClick:()=>{a(e),window.scrollTo({top:0,behavior:"smooth"})},disabled:d,children:"Edit"}),(0,Ae.jsx)("button",{className:"btnSecondary",onClick:()=>(async e=>{f(!0);try{await tC(e)}catch(t){console.error("Error deleting timeline event: ",t)}finally{f(!1)}})(e.id),disabled:d,children:"Delete"})]})]},e.id);var t}))})]})},cC=vu(ag,"Events"),uC=async e=>{try{await xh(cC,e)}catch(t){throw console.error("Error adding event: ",t),t}},hC=async()=>{try{const e=await _h(cC);return e.docs.map((e=>({id:e.id,...e.data()})))}catch(e){throw console.error("Error getting events: ",e),e}},dC="ImportantEventsPage_container__dE+rh",fC="ImportantEventsPage_eventsContainer__cCRcq",pC="ImportantEventsPage_eventCard__DuaAX",mC="AddEventForm_container__cauEG",gC="AddEventForm_formGroup__pe2hD",vC="AddEventForm_selectDropdown__tfa1q",yC="AddEventForm_btnPrimary__uiSob",_C=vu(ag,"Locations"),bC=async()=>(await _h(_C)).docs.map((e=>({id:e.id,...e.data()}))),wC=async e=>{const t=yu(_C,e),n=await vh(t);if(n.exists())return console.log(n.data()),{id:n.id,...n.data()};throw new Error("Location not found")},xC=()=>{const[e,n]=(0,t.useState)({era:"",year:"",title:"",description:"",content:"",locations:[],eventType:"",charactersInvolved:[],significance:"",visuals:"",source:"",relatedEvents:[],status:"",notes:""}),[r,i]=(0,t.useState)([]),[o,s]=(0,t.useState)([]),[a,l]=(0,t.useState)([]);(0,t.useEffect)((()=>{(async()=>{try{const e=await V_(),t=await bC(),n=await hC(),r=e.map((e=>({value:e.id,label:e.fullName}))),o=t.map((e=>({value:e.id,label:e.name}))),a=n.map((e=>({value:e.id,label:e.title})));i(r),s(o),l(a)}catch(e){console.error("Error fetching options: ",e)}})()}),[]);const c=t=>{const{name:r,value:i}=t.target;n({...e,[r]:i})};return(0,Ae.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),await uC(e),n({era:"",year:"",title:"",description:"",content:"",locations:[],eventType:"",charactersInvolved:[],significance:"",visuals:"",source:"",relatedEvents:[],status:"",notes:""})},className:mC,children:[(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Era"}),(0,Ae.jsx)("input",{type:"number",name:"era",placeholder:"Era (1-5)",value:e.era,onChange:c,required:!0})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Year"}),(0,Ae.jsx)("input",{type:"number",name:"year",placeholder:"Year",value:e.year,onChange:c,required:!0})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Title"}),(0,Ae.jsx)("input",{type:"text",name:"title",placeholder:"Title",value:e.title,onChange:c,required:!0})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Description"}),(0,Ae.jsx)("textarea",{name:"description",placeholder:"Description",value:e.description,onChange:c,required:!0})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Content"}),(0,Ae.jsx)("textarea",{name:"content",placeholder:"Content",value:e.content,onChange:c,required:!0})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Locations"}),(0,Ae.jsx)(CE,{isMulti:!0,options:o,value:o.filter((t=>{var n;return null===(n=e.locations)||void 0===n?void 0:n.includes(t.value)})),onChange:t=>{n({...e,locations:t.map((e=>e.value))})},className:vC})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Event Type"}),(0,Ae.jsx)("input",{type:"text",name:"eventType",placeholder:"Event Type",value:e.eventType,onChange:c,required:!0})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Characters Involved"}),(0,Ae.jsx)(CE,{isMulti:!0,options:r,value:r.filter((t=>{var n;return null===(n=e.charactersInvolved)||void 0===n?void 0:n.includes(t.value)})),onChange:t=>{n({...e,charactersInvolved:t.map((e=>e.value))})},className:vC})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Significance"}),(0,Ae.jsx)("input",{type:"text",name:"significance",placeholder:"Significance",value:e.significance,onChange:c})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Visuals"}),(0,Ae.jsx)("input",{type:"text",name:"visuals",placeholder:"Visuals",value:e.visuals,onChange:c})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Source"}),(0,Ae.jsx)("input",{type:"text",name:"source",placeholder:"Source",value:e.source,onChange:c})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Related Events"}),(0,Ae.jsx)(CE,{isMulti:!0,options:a,value:a.filter((t=>{var n;return null===(n=e.relatedEvents)||void 0===n?void 0:n.includes(t.value)})),onChange:t=>{n({...e,relatedEvents:t.map((e=>e.value))})},className:vC})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Status"}),(0,Ae.jsx)("input",{type:"text",name:"status",placeholder:"Status",value:e.status,onChange:c})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Notes"}),(0,Ae.jsx)("textarea",{name:"notes",placeholder:"Notes",value:e.notes,onChange:c})]}),(0,Ae.jsx)("button",{type:"submit",className:yC,children:"Add Event"})]})},SC=()=>{const{currentUser:e}=fg(),[n,r]=(0,t.useState)(!1),[i,o]=(0,t.useState)([]),s=Y(),[a,l]=(0,t.useState)(!1);(0,t.useEffect)((()=>{e&&(async()=>{try{"admin"===(await ug(e.uid)).role&&r(!0)}catch(t){console.error("Error fetching user role: ",t)}})()}),[e]),(0,t.useEffect)((()=>{(async()=>{try{const e=await hC();o(e)}catch(e){console.error("Error fetching events: ",e)}})()}),[]);return(0,Ae.jsxs)("div",{className:dC,children:[(0,Ae.jsx)("h1",{children:"Important Events"}),n&&(a?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("button",{className:"btnPrimary",onClick:()=>l(!1),children:"Cancel"}),(0,Ae.jsx)(xC,{onSubmit:async e=>{try{const t=await uC(e);o([...i,t]),l(!1)}catch(t){console.error("Error adding event:",t)}}})]}):(0,Ae.jsx)("button",{className:"btnPrimary",onClick:()=>l(!0),children:"Add Event"})),(0,Ae.jsx)("div",{className:fC,children:i.map((e=>(0,Ae.jsxs)("div",{className:pC,onClick:()=>{return t=e.id,void s("/important-events/".concat(t));var t},children:[(0,Ae.jsx)("h3",{children:e.title}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Description:"})," ",e.description]})]},e.id)))})]})},EC=()=>{const[e,n]=(0,t.useState)({name:"",description:"",type:"",coordinates:"",region:"",climate:"",population:"",significance:"",pointsOfInterest:"",economy:"",language:"",government:"",history:"",mapImageUrl:"",resources:"",floraAndFauna:"",events:"",accessibility:"",threats:"",allies:"",enemies:"",notableResidents:"",culturalPractices:"",religion:""}),r=t=>{const{name:r,value:i}=t.target;n({...e,[r]:i})};return(0,Ae.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),await(async e=>await xh(_C,e))(e),n({name:"",description:"",type:"",coordinates:"",region:"",climate:"",population:"",significance:"",pointsOfInterest:"",economy:"",language:"",government:"",history:"",mapImageUrl:"",resources:"",floraAndFauna:"",events:"",accessibility:"",threats:"",allies:"",enemies:"",notableResidents:"",culturalPractices:"",religion:""})},className:mC,children:[(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Name"}),(0,Ae.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:e.name,onChange:r,required:!0})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Description"}),(0,Ae.jsx)("textarea",{name:"description",placeholder:"Description",value:e.description,onChange:r,required:!0})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Type"}),(0,Ae.jsx)("input",{type:"text",name:"type",placeholder:"Location Type",value:e.type,onChange:r,required:!0})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Coordinates (If a country, add N/A)"}),(0,Ae.jsx)("input",{type:"text",name:"coordinates",placeholder:"Coordinates",value:e.coordinates,onChange:r})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Region"}),(0,Ae.jsx)("input",{type:"text",name:"region",placeholder:"Region",value:e.region,onChange:r})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Climate"}),(0,Ae.jsx)("input",{type:"text",name:"climate",placeholder:"Climate",value:e.climate,onChange:r})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Population"}),(0,Ae.jsx)("input",{type:"text",name:"population",placeholder:"Population",value:e.population,onChange:r})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Significance"}),(0,Ae.jsx)("input",{type:"text",name:"significance",placeholder:"Significance",value:e.significance,onChange:r})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Points of Interest"}),(0,Ae.jsx)("textarea",{name:"pointsOfInterest",placeholder:"Points of Interest",value:e.pointsOfInterest,onChange:r})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Economy"}),(0,Ae.jsx)("input",{type:"text",name:"economy",placeholder:"Economy",value:e.economy,onChange:r})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Language"}),(0,Ae.jsx)("input",{type:"text",name:"language",placeholder:"Language",value:e.language,onChange:r})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Government"}),(0,Ae.jsx)("input",{type:"text",name:"government",placeholder:"Government",value:e.government,onChange:r})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"History"}),(0,Ae.jsx)("textarea",{name:"history",placeholder:"History",value:e.history,onChange:r})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Map Image URL (If no map available, add N/A)"}),(0,Ae.jsx)("input",{type:"text",name:"mapImageUrl",placeholder:"Map Image URL",value:e.mapImageUrl,onChange:r})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Resources"}),(0,Ae.jsx)("textarea",{name:"resources",placeholder:"Resources",value:e.resources,onChange:r})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Flora and Fauna"}),(0,Ae.jsx)("textarea",{name:"floraAndFauna",placeholder:"Flora and Fauna",value:e.floraAndFauna,onChange:r})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Events"}),(0,Ae.jsx)("textarea",{name:"events",placeholder:"Events",value:e.events,onChange:r})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Accessibility"}),(0,Ae.jsx)("input",{type:"text",name:"accessibility",placeholder:"Accessibility",value:e.accessibility,onChange:r})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Threats"}),(0,Ae.jsx)("input",{type:"text",name:"threats",placeholder:"Threats",value:e.threats,onChange:r})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Allies"}),(0,Ae.jsx)("input",{type:"text",name:"allies",placeholder:"Allies",value:e.allies,onChange:r})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Enemies"}),(0,Ae.jsx)("input",{type:"text",name:"enemies",placeholder:"Enemies",value:e.enemies,onChange:r})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Notable Residents"}),(0,Ae.jsx)("textarea",{name:"notableResidents",placeholder:"Notable Residents",value:e.notableResidents,onChange:r})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Cultural Practices"}),(0,Ae.jsx)("textarea",{name:"culturalPractices",placeholder:"Cultural Practices",value:e.culturalPractices,onChange:r})]}),(0,Ae.jsxs)("div",{className:gC,children:[(0,Ae.jsx)("label",{children:"Religion"}),(0,Ae.jsx)("input",{type:"text",name:"religion",placeholder:"Religion",value:e.religion,onChange:r})]}),(0,Ae.jsx)("button",{type:"submit",className:yC,children:"Add Location"})]})},CC="LocationsPage_cardsContainer__j3LZe",TC="LocationsPage_card__xTNvL";const kC=function(){const{currentUser:e}=fg(),[n,r]=(0,t.useState)(!1),[i,o]=(0,t.useState)(!1),[s,a]=(0,t.useState)([]),l=Y();return(0,t.useEffect)((()=>{(async()=>{if(e)try{"admin"===(await ug(e.uid)).role&&r(!0)}catch(t){console.error("Error fetching user role: ",t)}})()}),[e]),(0,t.useEffect)((()=>{(async()=>{try{const e=await bC();a(e)}catch(e){console.error("Error fetching locations: ",e)}})()}),[]),(0,Ae.jsxs)("div",{className:"container",children:[n&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("button",{className:"btnPrimary",onClick:()=>o(!i),children:i?"Cancel":"Add Location"}),i&&(0,Ae.jsx)(EC,{})]}),(0,Ae.jsx)("div",{className:CC,children:s.map((e=>(0,Ae.jsxs)("div",{style:{cursor:"pointer"},className:TC,onClick:()=>{return t=e.id,void l("/locations/".concat(t));var t},children:[(0,Ae.jsx)("h3",{children:e.name}),(0,Ae.jsx)("p",{children:e.description})]},e.id)))})]})},IC={formContainer:"SingleLocationPage_formContainer__xtnME",detailsContainer:"SingleLocationPage_detailsContainer__JjEcC"};const PC=function(){const{currentUser:e}=fg(),{locationId:n}=X(),[r,i]=(0,t.useState)(!1),[o,s]=(0,t.useState)({name:"",description:"",type:"",coordinates:"",region:"",climate:"",population:"",significance:"",pointsOfInterest:"",economy:"",language:"",government:"",history:"",mapImageUrl:"",resources:"",floraAndFauna:"",events:"",accessibility:"",threats:"",allies:"",enemies:"",notableResidents:"",culturalPractices:"",religion:""}),[a,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{if(e)try{"admin"===(await ug(e.uid)).role&&i(!0)}catch(t){console.error("Error fetching user role: ",t)}})()}),[e]),(0,t.useEffect)((()=>{(async()=>{try{const e=await wC(n);s(e),u(!1)}catch(e){console.error("Error fetching location: ",e),u(!1)}})()}),[n]);const h=e=>{const{name:t,value:n}=e.target;s({...o,[t]:n})},d=["name","description","type","coordinates","region","climate","population","significance","pointsOfInterest","economy","language","government","history","mapImageUrl","resources","floraAndFauna","events","accessibility","threats","allies","enemies","notableResidents","culturalPractices","religion"];return c?(0,Ae.jsx)("div",{children:"Loading..."}):(0,Ae.jsx)("div",{className:"container",children:a?(0,Ae.jsxs)("div",{className:IC.formContainer,children:[d.filter((e=>"id"!==e)).map((e=>"description"===e||"history"===e||"pointsOfInterest"===e||"floraAndFauna"===e||"culturalPractices"===e?(0,Ae.jsxs)("div",{className:IC.formGroup,children:[(0,Ae.jsx)("label",{htmlFor:e,children:e.charAt(0).toUpperCase()+e.slice(1)}),(0,Ae.jsx)("textarea",{name:e,value:o[e],onChange:h,placeholder:e.charAt(0).toUpperCase()+e.slice(1)})]},e):(0,Ae.jsxs)("div",{className:IC.formGroup,children:[(0,Ae.jsx)("label",{htmlFor:e,children:e.charAt(0).toUpperCase()+e.slice(1)}),(0,Ae.jsx)("input",{type:"text",name:e,value:o[e],onChange:h,placeholder:e.charAt(0).toUpperCase()+e.slice(1)})]},e))),(0,Ae.jsx)("button",{style:{alignSelf:"center"},className:"btnPrimary",onClick:async()=>{try{await(async(e,t)=>{const n=yu(ag,"Locations",e);return await wh(n,t)})(n,o),l(!1)}catch(e){console.error("Error updating location:",e)}},children:"Save"}),(0,Ae.jsx)("button",{className:"btnSecondary",onClick:()=>l(!1),children:"Cancel"})]}):(0,Ae.jsxs)("div",{className:IC.detailsContainer,children:[(0,Ae.jsx)("h3",{children:o.name}),d.filter((e=>"id"!==e)).map((e=>(0,Ae.jsxs)("p",{children:[(0,Ae.jsxs)("strong",{children:[e.charAt(0).toUpperCase()+e.slice(1),":"]})," ",o[e]]},e))),r&&(0,Ae.jsx)("button",{className:"btnPrimary",onClick:()=>{l(!0),window.scrollTo({top:0,behavior:"smooth"})},children:"Edit"})]})})},NC={container:"SingleEventPage_container__H-Lno",detailsContainer:"SingleEventPage_detailsContainer__FTSGF",eventInfo:"SingleEventPage_eventInfo__8Fx1A",formContainer:"SingleEventPage_formContainer__fBIzL",formGroup:"SingleEventPage_formGroup__L2xZj",buttonContainer:"SingleEventPage_buttonContainer__nHZrh",btnPrimary:"SingleEventPage_btnPrimary__rb+0o",btnSecondary:"SingleEventPage_btnSecondary__tCBGP"};const jC=function(){const{currentUser:e}=fg(),{eventId:n}=X(),[r,i]=(0,t.useState)(!1),[o,s]=(0,t.useState)({}),[a,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!1),[h,d]=(0,t.useState)(!0),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)([]),[v,y]=(0,t.useState)([]);(0,t.useEffect)((()=>{(async()=>{if(e)try{"admin"===(await ug(e.uid)).role&&i(!0)}catch(t){console.error("Error fetching user role: ",t)}})()}),[e]),(0,t.useEffect)((()=>{(async()=>{try{const e=await(async e=>{try{const t=await vh(yu(cC,e));if(t.exists())return{id:t.id,...t.data()};throw new Error("Event not found")}catch(t){throw console.error("Error getting event: ",t),t}})(n);s(e),d(!1);const t=await Promise.all(e.locations.map((e=>wC(e))));l(t)}catch(e){console.error("Error fetching event: ",e),d(!1)}})()}),[n]),(0,t.useEffect)((()=>{(async()=>{try{const e=await V_(),t=await bC(),r=await hC(),i=e.map((e=>({value:e.id,label:e.fullName}))),o=t.map((e=>({value:e.id,label:e.name}))),s=r.filter((e=>e.id!==n)).map((e=>({value:e.id,label:e.title})));p(i),g(o),y(s)}catch(e){console.error("Error fetching options: ",e)}})()}),[n]);const _=e=>{const{name:t,value:n}=e.target;s({...o,[t]:n})};return h?(0,Ae.jsx)("div",{children:"Loading..."}):(0,Ae.jsx)("div",{className:"container",children:c?(0,Ae.jsxs)("div",{className:"".concat(NC.formContainer," ").concat(NC.centered),children:[(0,Ae.jsxs)("div",{className:NC.formGroup,children:[(0,Ae.jsx)("label",{children:"Title"}),(0,Ae.jsx)("input",{type:"text",name:"title",value:o.title,onChange:_})]}),(0,Ae.jsxs)("div",{className:NC.formGroup,children:[(0,Ae.jsx)("label",{children:"Era"}),(0,Ae.jsx)("input",{type:"number",name:"era",value:o.era,onChange:_})]}),(0,Ae.jsxs)("div",{className:NC.formGroup,children:[(0,Ae.jsx)("label",{children:"Year"}),(0,Ae.jsx)("input",{type:"number",name:"year",value:o.year,onChange:_})]}),(0,Ae.jsxs)("div",{className:NC.formGroup,children:[(0,Ae.jsx)("label",{children:"Description"}),(0,Ae.jsx)("textarea",{name:"description",value:o.description,onChange:_})]}),(0,Ae.jsxs)("div",{className:NC.formGroup,children:[(0,Ae.jsx)("label",{children:"Location"}),(0,Ae.jsx)(CE,{isMulti:!0,options:m,value:m.filter((e=>{var t;return null===(t=o.locations)||void 0===t?void 0:t.includes(e.value)})),onChange:e=>{s({...o,locations:e?e.map((e=>e.value)):[]})},className:NC.selectDropdown})]}),(0,Ae.jsxs)("div",{className:NC.formGroup,children:[(0,Ae.jsx)("label",{children:"Characters Involved"}),(0,Ae.jsx)(CE,{isMulti:!0,options:f,value:f.filter((e=>{var t;return null===(t=o.charactersInvolved)||void 0===t?void 0:t.includes(e.value)})),onChange:e=>{s({...o,charactersInvolved:e?e.map((e=>e.value)):[]})},className:NC.selectDropdown})]}),(0,Ae.jsxs)("div",{className:NC.formGroup,children:[(0,Ae.jsx)("label",{children:"Related Events"}),(0,Ae.jsx)(CE,{isMulti:!0,options:v,value:v.filter((e=>{var t;return null===(t=o.relatedEvents)||void 0===t?void 0:t.includes(e.value)})),onChange:e=>{s({...o,relatedEvents:e?e.map((e=>e.value)):[]})},className:NC.selectDropdown})]}),(0,Ae.jsxs)("div",{className:NC.formGroup,children:[(0,Ae.jsx)("label",{children:"Event Type"}),(0,Ae.jsx)("input",{type:"text",name:"eventType",value:o.eventType,onChange:_})]}),(0,Ae.jsxs)("div",{className:NC.formGroup,children:[(0,Ae.jsx)("label",{children:"Content"}),(0,Ae.jsx)("textarea",{name:"content",value:o.content,onChange:_})]}),(0,Ae.jsxs)("div",{className:NC.formGroup,children:[(0,Ae.jsx)("label",{children:"Significance"}),(0,Ae.jsx)("input",{type:"text",name:"significance",value:o.significance,onChange:_})]}),(0,Ae.jsxs)("div",{className:NC.formGroup,children:[(0,Ae.jsx)("label",{children:"Visuals"}),(0,Ae.jsx)("input",{type:"text",name:"visuals",value:o.visuals,onChange:_})]}),(0,Ae.jsxs)("div",{className:NC.formGroup,children:[(0,Ae.jsx)("label",{children:"Source"}),(0,Ae.jsx)("input",{type:"text",name:"source",value:o.source,onChange:_})]}),(0,Ae.jsxs)("div",{className:NC.formGroup,children:[(0,Ae.jsx)("label",{children:"Status"}),(0,Ae.jsx)("input",{type:"text",name:"status",value:o.status,onChange:_})]}),(0,Ae.jsxs)("div",{className:NC.formGroup,children:[(0,Ae.jsx)("label",{children:"Notes"}),(0,Ae.jsx)("textarea",{name:"notes",value:o.notes,onChange:_})]}),(0,Ae.jsxs)("div",{className:NC.buttonContainer,children:[(0,Ae.jsx)("button",{className:"btnPrimary",onClick:async()=>{try{await(async(e,t)=>{try{const n=yu(cC,e);await wh(n,t)}catch(n){throw console.error("Error updating event: ",n),n}})(n,o),u(!1)}catch(e){console.error("Error updating event:",e)}},children:"Save"}),(0,Ae.jsx)("button",{className:"btnSecondary",onClick:()=>u(!1),children:"Cancel"})]})]}):(0,Ae.jsxs)("div",{className:NC.detailsContainer,children:[(0,Ae.jsxs)("div",{className:NC.eventInfo,children:[(0,Ae.jsx)("h1",{children:o.title}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Era:"})," ",o.era]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Year:"})," ",o.year]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Description:"})," ",o.description]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Locations:"})," ",a.map((e=>e.name)).join(", ")]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Event Type:"})," ",o.eventType]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Content:"})," ",o.content]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Significance:"})," ",o.significance]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Visuals:"})," ",o.visuals]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Source:"})," ",o.source]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Status:"})," ",o.status]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Notes:"})," ",o.notes]})]}),r&&(0,Ae.jsx)("div",{className:NC.buttonContainer,children:(0,Ae.jsx)("button",{className:"btnPrimary",onClick:()=>u(!0),children:"Edit"})})]})})},OC="MagicPage_container__I1eCp",AC="MagicPage_section__-0ntT";const LC=function(){const e=Y(),t=t=>{e(t)};return(0,Ae.jsxs)("div",{className:OC,children:[(0,Ae.jsxs)("div",{className:AC,children:[(0,Ae.jsx)("h1",{children:"What Is Magic?"}),(0,Ae.jsx)("p",{children:"Description of what magic is"})]}),(0,Ae.jsxs)("div",{className:AC,children:[(0,Ae.jsx)("h2",{children:"The History Of Magic"}),(0,Ae.jsx)("p",{children:"History of magic"})]}),(0,Ae.jsxs)("div",{className:AC,children:[(0,Ae.jsx)("h1",{children:"Schools Of Magic"}),(0,Ae.jsx)("button",{onClick:()=>t("/magic/schools"),className:"btnPrimary",children:"View Schools"})]}),(0,Ae.jsxs)("div",{className:AC,children:[(0,Ae.jsx)("h1",{children:"Magic Users"}),(0,Ae.jsx)("button",{onClick:()=>t("/magic/classes"),className:"btnPrimary",children:"View Classes"})]}),(0,Ae.jsxs)("div",{className:AC,children:[(0,Ae.jsx)("h1",{children:"Learning Or Casting Magic"}),(0,Ae.jsx)("h2",{children:"Training"}),(0,Ae.jsx)("p",{children:"How do people train to use magic?"}),(0,Ae.jsx)("h2",{children:"Casting"}),(0,Ae.jsx)("p",{children:"How do people cast magic?"}),(0,Ae.jsx)("h2",{children:"Spellcasting Aids"}),(0,Ae.jsx)("p",{children:"Can spellcasting aids be used?"})]}),(0,Ae.jsxs)("div",{className:AC,children:[(0,Ae.jsx)("h1",{children:"Magic and Society"}),(0,Ae.jsx)("h2",{children:"Social Stigmas and Regulations"}),(0,Ae.jsx)("p",{children:"Stigmas and regulations"}),(0,Ae.jsx)("h2",{children:"Laws and Regulations"}),(0,Ae.jsx)("p",{children:"Laws and regulations"}),(0,Ae.jsx)("h2",{children:"Economic Impact"}),(0,Ae.jsx)("p",{children:"Economic impact"})]}),(0,Ae.jsxs)("div",{className:AC,children:[(0,Ae.jsx)("h1",{children:"Magical Creatures and Entities"}),(0,Ae.jsx)("h2",{children:"Mythical Beasts"}),(0,Ae.jsx)("p",{children:"Content"}),(0,Ae.jsx)("h2",{children:"Spirits and Elementals"}),(0,Ae.jsx)("p",{children:"Content"}),(0,Ae.jsx)("h2",{children:"Demons and Angels"}),(0,Ae.jsx)("p",{children:"Content"})]}),(0,Ae.jsxs)("div",{className:AC,children:[(0,Ae.jsx)("h1",{children:"Dangers and Risks of Magic"}),(0,Ae.jsx)("h2",{children:"Overuse and Addiction"}),(0,Ae.jsx)("p",{children:"Content"}),(0,Ae.jsx)("h2",{children:"Corruption and Backlash"}),(0,Ae.jsx)("p",{children:"Content"})]})]})},RC=1;const DC=(0,t.createContext)(null),MC=DC.Provider;var FC=n(228),UC=n.n(FC);function zC(){return zC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zC.apply(this,arguments)}function VC(e,n){let{bounds:r,boundsOptions:i,center:o,children:s,className:a,id:l,placeholder:c,style:u,whenReady:h,zoom:d,...f}=e;const[p]=(0,t.useState)({className:a,id:l,style:u}),[m,g]=(0,t.useState)(null);(0,t.useImperativeHandle)(n,(()=>{var e;return null!==(e=null===m||void 0===m?void 0:m.map)&&void 0!==e?e:null}),[m]);const v=(0,t.useCallback)((e=>{if(null!==e&&null===m){const t=new FC.Map(e,f);null!=o&&null!=d?t.setView(o,d):null!=r&&t.fitBounds(r,i),null!=h&&t.whenReady(h),g(function(e){return Object.freeze({__version:RC,map:e})}(t))}}),[]);(0,t.useEffect)((()=>()=>{null===m||void 0===m||m.map.remove()}),[m]);const y=m?t.createElement(MC,{value:m},s):null!==c&&void 0!==c?c:null;return t.createElement("div",zC({},p,{ref:v}),y)}const BC=(0,t.forwardRef)(VC);function HC(e){return function(n){const r=function(){const e=(0,t.useContext)(DC);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}(),i=e(function(e,t){var n;const r=null!==(n=e.pane)&&void 0!==n?n:t.pane;return r?{...e,pane:r}:e}(n,r),r);return function(e,n){const r=(0,t.useRef)(n);(0,t.useEffect)((function(){n!==r.current&&null!=e.attributionControl&&(null!=r.current&&e.attributionControl.removeAttribution(r.current),null!=n&&e.attributionControl.addAttribution(n)),r.current=n}),[e,n])}(r.map,n.attribution),function(e,n){const r=(0,t.useRef)();(0,t.useEffect)((function(){return null!=n&&e.instance.on(n),r.current=n,function(){null!=r.current&&e.instance.off(r.current),r.current=null}}),[e,n])}(i.current,n.eventHandlers),function(e,n){(0,t.useEffect)((function(){var t;return(null!==(t=n.layerContainer)&&void 0!==t?t:n.map).addLayer(e.instance),function(){var t;null===(t=n.layerContainer)||void 0===t||t.removeLayer(e.instance),n.map.removeLayer(e.instance)}}),[n,e])}(i.current,r),i}}const WC=(qC=function(e,t){let{bounds:n,url:r,...i}=e;const o=new FC.ImageOverlay(r,n,i);return s=o,c=t,u={overlayContainer:o},a=Object.freeze({...c,...u}),Object.freeze({instance:s,context:a,container:l});var s,a,l,c,u},GC=function(e,t,n){if(function(e,t,n){t.bounds instanceof FC.LatLngBounds&&t.bounds!==n.bounds&&e.setBounds(t.bounds),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=t.zIndex&&t.zIndex!==n.zIndex&&e.setZIndex(t.zIndex)}(e,t,n),t.bounds!==n.bounds){const n=t.bounds instanceof FC.LatLngBounds?t.bounds:new FC.LatLngBounds(t.bounds);e.setBounds(n)}t.url!==n.url&&e.setUrl(t.url)},function(e){function n(n,r){const{instance:i,context:o}=e(n).current;return(0,t.useImperativeHandle)(r,(()=>i)),null==n.children?null:t.createElement(MC,{value:o},n.children)}return(0,t.forwardRef)(n)}(HC(function(e,n){return null==n?function(n,r){const i=(0,t.useRef)();return i.current||(i.current=e(n,r)),i}:function(r,i){const o=(0,t.useRef)();o.current||(o.current=e(r,i));const s=(0,t.useRef)(r),{instance:a}=o.current;return(0,t.useEffect)((function(){s.current!==r&&(n(a,r,s.current),s.current=r)}),[a,r,i]),o}}(qC,GC))));var qC,GC;const KC=[[0,0],[2570.56,4e3]],ZC=()=>(0,Ae.jsx)(BC,{center:[1285.28,2e3],zoom:0,minZoom:-5,maxZoom:2,style:{height:"100vh",width:"80%",alignSelf:"center",marginTop:"20px",zIndex:"0"},crs:UC().CRS.Simple,children:(0,Ae.jsx)(WC,{url:"",bounds:KC})}),$C=()=>(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("h1",{children:"Interactive Map"}),(0,Ae.jsx)(ZC,{})]}),QC=vu(ag,"Creatures"),YC=vu(ag,"Races");const XC="BestiaryPage_searchInput__hGueL",JC="BestiaryPage_cardsContainer__W8fry",eT="BestiaryPage_card__CXzxV",tT="BestiaryPage_cardContent__spR98",nT="BestiaryPage_creatureImage__nvZqw",rT="BestiaryPage_raceImage__6OQ6f",iT="BestiaryPage_heading__F+F0m",oT="BestiaryPage_buttonGroup__hh8Lj";const sT=function(){const{currentUser:e}=fg(),[n,r]=(0,t.useState)([]),[i,o]=(0,t.useState)([]),[s,a]=(0,t.useState)(!1),[l,c]=(0,t.useState)(""),u=Y(),h=(0,t.useRef)(null),d=(0,t.useRef)(null);(0,t.useEffect)((()=>{(async()=>{try{const e=await async function(){const e=await _h(QC),t=[];return e.forEach((e=>{t.push({id:e.id,...e.data()})})),t}(),t=await async function(){const e=await _h(YC),t=[];return e.forEach((e=>{t.push({id:e.id,...e.data()})})),t}();r(e),o(t)}catch(e){console.error("Error fetching bestiary data: ",e)}})(),(async()=>{try{"admin"===(await ug(e.uid)).role&&a(!0)}catch(t){console.error("Error fetching user role: ",t)}})()}),[e]);const f=(e,t)=>{u("/bestiary/".concat(e,"/").concat(t))},p=n.filter((e=>e.name.toLowerCase().includes(l.toLowerCase()))),m=i.filter((e=>e.name.toLowerCase().includes(l.toLowerCase())));return(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("h1",{children:"Bestiary"}),(0,Ae.jsxs)("div",{className:oT,children:[(0,Ae.jsx)("button",{className:"btnSecondary",onClick:()=>h.current.scrollIntoView({behavior:"smooth"}),children:"Go to Creatures"}),(0,Ae.jsx)("button",{className:"btnSecondary",onClick:()=>d.current.scrollIntoView({behavior:"smooth"}),children:"Go to Races"})]}),(0,Ae.jsx)("input",{type:"search",placeholder:"Search Bestiary...",value:l,onChange:e=>{c(e.target.value)},className:XC}),s&&(0,Ae.jsx)("button",{className:"btnPrimary",style:{marginTop:"20px",marginBottom:"20px"},onClick:()=>u("/bestiary/add"),children:"Add Entry"}),(0,Ae.jsx)("div",{className:iT,ref:h,children:(0,Ae.jsx)("h2",{children:"Creatures"})}),(0,Ae.jsx)("div",{className:JC,children:p.map((e=>(0,Ae.jsxs)("div",{className:eT,onClick:()=>f("creature",e.id),children:[e.imageUrl&&(0,Ae.jsx)("img",{src:e.imageUrl,alt:e.name,className:nT}),(0,Ae.jsx)("div",{className:tT,children:(0,Ae.jsx)("h3",{children:e.name})})]},e.id)))}),(0,Ae.jsx)("div",{className:iT,ref:d,children:(0,Ae.jsx)("h2",{children:"Races"})}),(0,Ae.jsx)("div",{className:JC,children:m.map((e=>(0,Ae.jsxs)("div",{className:eT,onClick:()=>f("race",e.id),children:[e.imageUrl&&(0,Ae.jsx)("img",{src:e.imageUrl,alt:e.name,className:rT}),(0,Ae.jsx)("div",{className:tT,children:(0,Ae.jsx)("h3",{children:e.name})})]},e.id)))})]})},aT={container:"SchoolsPage_container__Wdv9m",section:"SchoolsPage_section__K3-Jw",buttonContainer:"SchoolsPage_buttonContainer__htNhi",subschoolButtonContainer:"SchoolsPage_subschoolButtonContainer__f1rYk",subschoolInputsContainer:"SchoolsPage_subschoolInputsContainer__qXiOQ",subschoolsContainer:"SchoolsPage_subschoolsContainer__Tctjm",subschoolCard:"SchoolsPage_subschoolCard__HgV26"},lT=yu(ag,"Magic","main"),cT=vu(lT,"Schools"),uT=vu(lT,"Classes"),hT=async()=>{try{const e=await _h(cT),t=[];return e.forEach((e=>{t.push({id:e.id,...e.data()})})),t}catch(e){throw console.error("Error getting documents: ",e),e}},dT=async(e,t)=>{try{const n=yu(cT,e);await wh(n,t),console.log("Document updated with ID: ",n.id)}catch(n){throw console.error("Error updating document: ",n),n}},fT=async()=>{try{const e=await _h(uT),t=[];return e.forEach((e=>{t.push({id:e.id,...e.data()})})),t}catch(e){throw console.error("Error getting documents: ",e),e}};const pT=function(){const{currentUser:e}=fg(),[n,r]=(0,t.useState)(!1),[i,o]=(0,t.useState)(!1),[s,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[u,h]=(0,t.useState)([]),[d,f]=(0,t.useState)({name:"",description:"",practitionerTitle:"",notes:"",subschools:[]}),[p,m]=(0,t.useState)({name:"",description:"",practitionerTitle:"",notes:""}),g=Y();(0,t.useEffect)((()=>{(async()=>{try{"admin"===(await ug(e.uid)).role&&r(!0)}catch(t){console.error("Error fetching user role: ",t)}})(),(async()=>{try{const e=await hT();h(e)}catch(e){console.error("Error fetching schools: ",e)}})()}),[e]);const v=e=>{const{name:t,value:n}=e.target;f((e=>({...e,[t]:n})))},y=e=>{const{name:t,value:n}=e.target;m((e=>({...e,[t]:n})))};return(0,Ae.jsxs)("div",{className:aT.container,children:[(0,Ae.jsx)("h1",{children:"Schools Of Magic"}),n?(0,Ae.jsx)(Ae.Fragment,{children:l?(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("div",{className:aT.subschoolInputsContainer,children:[(0,Ae.jsx)("input",{type:"text",name:"name",placeholder:"School Name",value:d.name,onChange:v,className:aT.subschoolInput}),(0,Ae.jsx)("input",{type:"text",name:"description",placeholder:"Description",value:d.description,onChange:v,className:aT.subschoolInput}),(0,Ae.jsx)("input",{type:"text",name:"practitionerTitle",placeholder:"Practitioner Title",value:d.practitionerTitle,onChange:v,className:aT.subschoolInput}),(0,Ae.jsx)("input",{type:"text",name:"notes",placeholder:"Notes",value:d.notes,onChange:v,className:aT.subschoolInput})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h2",{children:"Add Subschool"}),(0,Ae.jsxs)("div",{className:aT.subschoolInputsContainer,children:[(0,Ae.jsx)("input",{type:"text",name:"name",placeholder:"Subschool Name",value:p.name,onChange:y}),(0,Ae.jsx)("input",{type:"text",name:"description",placeholder:"Subschool Description",value:p.description,onChange:y}),(0,Ae.jsx)("input",{type:"text",name:"practitionerTitle",placeholder:"Subschool Practitioner Title",value:p.practitionerTitle,onChange:y}),(0,Ae.jsx)("input",{type:"text",name:"notes",placeholder:"Subschool Notes",value:p.notes,onChange:y})]}),(0,Ae.jsx)("div",{className:aT.subschoolButtonContainer,children:(0,Ae.jsx)("button",{onClick:()=>{p.name&&p.description&&p.practitionerTitle?(f((e=>({...e,subschools:[...e.subschools,p]}))),m({name:"",description:"",practitionerTitle:"",notes:""})):alert("Please complete all subschool fields before adding another.")},className:"btnSecondary",style:{textDecorationLine:"underline",marginRight:"0px"},children:"Add Subschool"})})]}),(0,Ae.jsxs)("div",{className:aT.buttonContainer,children:[(0,Ae.jsx)("button",{onClick:async()=>{try{i?(await dT(s,d),o(!1)):await(async e=>{try{const t=await xh(cT,e);return console.log("Document written with ID: ",t.id),t.id}catch(t){throw console.error("Error adding document: ",t),t}})(d),f({name:"",description:"",practitionerTitle:"",notes:"",subschools:[]}),c(!1);const e=await hT();h(e)}catch(e){console.error("Error adding/updating school:",e)}},className:"btnPrimary",children:"Confirm"}),(0,Ae.jsx)("button",{onClick:()=>c(!1),className:"btnSecondary",children:"Cancel"})]})]}):(0,Ae.jsx)("button",{onClick:()=>c(!0),className:"btnPrimary",children:"Add School"})}):null,u.map((e=>(0,Ae.jsxs)("div",{className:aT.section,children:[(0,Ae.jsx)("h2",{children:e.name}),(0,Ae.jsx)("p",{children:e.description}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Practitioner:"})," ",e.practitionerTitle]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Notes:"})," ",e.notes]}),(0,Ae.jsx)("h2",{children:"SubSchools:"}),(0,Ae.jsx)("div",{className:aT.subschoolsContainer,children:e.subschools.map(((t,n)=>(0,Ae.jsxs)("div",{className:aT.subschoolCard,children:[(0,Ae.jsxs)("h3",{onClick:()=>((e,t)=>{g("/subschools/".concat(e.name),{state:{subschool:e,schoolId:t}})})(t,e.id),style:{cursor:"pointer",color:"blue",textDecoration:"underline"},children:[n+1,". ",t.name]}),(0,Ae.jsx)("p",{children:t.description}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Practitioner:"})," ",t.practitionerTitle]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Notes:"})," ",t.notes]})]},n)))}),n?(0,Ae.jsx)("button",{onClick:()=>{(e=>{a(e.id),f(e),o(!0),c(!0)})(e),window.scrollTo(0,0)},style:{marginTop:"25px"},className:"btnPrimary",children:"Edit School"}):null]},e.id)))]})};const mT=function(){const{currentUser:e}=fg(),[n,r]=(0,t.useState)(!1),[i,o]=(0,t.useState)(!1),[s,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[u,h]=(0,t.useState)([]),[d,f]=(0,t.useState)({title:"",description:"",notes:"",commonSchools:[]});(0,t.useEffect)((()=>{(async()=>{try{"admin"===(await ug(e.uid)).role&&r(!0)}catch(t){console.error("Error fetching user role: ",t)}})(),(async()=>{try{const e=await fT();h(e)}catch(e){console.error("Error fetching classes: ",e)}})()}),[e]);const p=e=>{const{name:t,value:n}=e.target;f((e=>({...e,[t]:n})))};return(0,Ae.jsxs)("div",{className:aT.container,children:[(0,Ae.jsx)("h1",{children:"Magic Classes"}),n?(0,Ae.jsx)(Ae.Fragment,{children:l?(0,Ae.jsxs)("div",{className:aT.subschoolInputsContainer,children:[(0,Ae.jsx)("input",{type:"text",name:"title",placeholder:"Class Title",value:d.title,onChange:p,className:aT.schoolInput}),(0,Ae.jsx)("input",{type:"text",name:"description",placeholder:"Description",value:d.description,onChange:p,className:aT.schoolInput}),(0,Ae.jsx)("input",{type:"text",name:"notes",placeholder:"Notes",value:d.notes,onChange:p,className:aT.schoolInput}),(0,Ae.jsx)("input",{type:"text",name:"commonSchools",placeholder:"Common Schools (comma separated)",value:d.commonSchools.join(", "),onChange:e=>f({...d,commonSchools:e.target.value.split(",").map((e=>e.trim()))}),className:aT.schoolInput}),(0,Ae.jsxs)("div",{className:aT.buttonContainer,children:[(0,Ae.jsx)("button",{onClick:async()=>{try{i?(await(async(e,t)=>{try{const n=yu(uT,e);await wh(n,t),console.log("Document updated with ID: ",n.id)}catch(n){throw console.error("Error updating document: ",n),n}})(s,d),o(!1)):await(async e=>{try{const t=await xh(uT,e);return console.log("Document written with ID: ",t.id),t.id}catch(t){throw console.error("Error adding document: ",t),t}})(d),f({title:"",description:"",notes:"",commonSchools:[]}),c(!1);const e=await fT();h(e)}catch(e){console.error("Error adding/updating class:",e)}},className:"btnPrimary",children:"Confirm"}),(0,Ae.jsx)("button",{onClick:()=>c(!1),className:"btnSecondary",children:"Cancel"})]})]}):(0,Ae.jsx)("button",{onClick:()=>c(!0),className:"btnPrimary",children:"Add Class"})}):null,u.map((e=>(0,Ae.jsxs)("div",{className:aT.section,children:[(0,Ae.jsx)("h2",{children:e.title}),(0,Ae.jsx)("p",{children:e.description}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Notes:"})," ",e.notes]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Common Schools:"})," ",e.commonSchools.join(", ")]}),n?(0,Ae.jsx)("button",{onClick:()=>(e=>{a(e.id),f(e),o(!0),c(!0)})(e),style:{marginTop:"25px"},className:"btnPrimary",children:"Edit"}):null]},e.id)))]})};const gT=function(){const{currentUser:e}=fg(),n=$(),r=Y(),{subschool:i,schoolId:o}=n.state,[s,a]=(0,t.useState)(!1),[l,c]=(0,t.useState)(i);(0,t.useEffect)((()=>{(async()=>{try{"admin"===(await ug(e.uid)).role&&a(!0)}catch(t){console.error("Error fetching user role: ",t)}})()}),[e]);const u=e=>{const{name:t,value:n}=e.target;c((e=>({...e,[t]:n})))};return(0,Ae.jsxs)("div",{className:aT.container,children:[(0,Ae.jsx)("h1",{children:"Edit Subschool"}),(0,Ae.jsx)("div",{className:aT.subschoolInputsContainer,children:s?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("input",{type:"text",name:"name",placeholder:"Subschool Name",value:l.name,onChange:u}),(0,Ae.jsx)("textarea",{type:"text",name:"description",placeholder:"Subschool Description",value:l.description,onChange:u}),(0,Ae.jsx)("input",{type:"text",name:"practitionerTitle",placeholder:"Subschool Practitioner Title",value:l.practitionerTitle,onChange:u}),(0,Ae.jsx)("textarea",{type:"text",name:"notes",placeholder:"Subschool Notes",value:l.notes,onChange:u}),(0,Ae.jsxs)("div",{className:aT.buttonContainer,children:[(0,Ae.jsx)("button",{onClick:async()=>{try{const e=await(async e=>{try{const t=yu(cT,e),n=await vh(t);if(n.exists())return n.data();throw new Error("No such document!")}catch(t){throw console.error("Error getting document:",t),t}})(o),t=e.subschools.map((e=>e.name===i.name?l:e));await dT(o,{...e,subschools:t}),r("/magic/schools")}catch(e){console.error("Error updating subschool:",e)}},className:"btnPrimary",children:"Save"}),(0,Ae.jsx)("button",{onClick:()=>r("/magic/schools"),className:"btnSecondary",children:"Cancel"})]})]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsxs)("p",{className:"preserve-whitespace",children:[(0,Ae.jsx)("strong",{children:"Name:"})," ",l.name]}),(0,Ae.jsxs)("p",{className:"preserve-whitespace",children:[(0,Ae.jsx)("strong",{children:"Description:"})," ",l.description]}),(0,Ae.jsxs)("p",{className:"preserve-whitespace",children:[(0,Ae.jsx)("strong",{children:"Practitioner Title:"})," ",l.practitionerTitle]}),(0,Ae.jsxs)("p",{className:"preserve-whitespace",children:[(0,Ae.jsx)("strong",{children:"Notes:"})," ",l.notes]})]})})]})},vT={creatureImage:"SingleCreaturePage_creatureImage__lo4Is",creatureDetails:"SingleCreaturePage_creatureDetails__LUzcb",creatureInfo:"SingleCreaturePage_creatureInfo__heYof",formGroup:"SingleCreaturePage_formGroup__GnbGS",largeTextarea:"SingleCreaturePage_largeTextarea__-HD-r",buttonContainer:"SingleCreaturePage_buttonContainer__wTN3B"};const yT=function(){const e=Y(),{creatureId:n}=X(),{currentUser:r}=fg(),[i,o]=(0,t.useState)({}),[s,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[d,f]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{try{const e=await async function(e){const t=yu(QC,e),n=await vh(t);return n.exists()?{id:n.id,...n.data()}:(console.log("No such creature!"),null)}(n);o(e),f(!1)}catch(e){console.error("Error fetching creature: ",e),f(!1)}})(),(async()=>{try{"admin"===(await ug(r.uid)).role&&c(!0)}catch(e){console.error("Error fetching user role: ",e)}})()}),[n,r]);const p=e=>{const{name:t,value:n}=e.target;o({...i,[t]:n})};return d?(0,Ae.jsx)("div",{className:"loading-container",children:(0,Ae.jsx)(I_,{color:"#020818",height:80,width:80})}):(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("button",{className:"btnSecondary",onClick:()=>e(-1),style:{alignSelf:"flex-start"},children:"\u2190 Back"}),i.imageUrl&&(0,Ae.jsx)("img",{src:i.imageUrl,alt:i.name,className:vT.creatureImage,style:{marginTop:"15px"}}),u?(0,Ae.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),f(!0);try{let t=i.imageUrl;s&&(t=await j_(s,"creatures/".concat(i.name))),await async function(t,n){const r=yu(QC,t);try{await wh(r,n),console.log("Creature updated!")}catch(e){console.error("Error updating creature: ",e)}}(n,{...i,imageUrl:t}),o((e=>({...e,imageUrl:t}))),h(!1)}catch(t){console.error("Error updating creature: ",t)}finally{f(!1)}},children:[(0,Ae.jsxs)("div",{className:vT.formGroup,children:[(0,Ae.jsx)("label",{children:"Name"}),(0,Ae.jsx)("input",{type:"text",name:"name",value:i.name,onChange:p,required:!0})]}),(0,Ae.jsxs)("div",{className:vT.formGroup,children:[(0,Ae.jsx)("label",{children:"Appearance"}),(0,Ae.jsx)("textarea",{name:"appearance",value:i.appearance,onChange:p,className:vT.largeTextarea})]}),(0,Ae.jsxs)("div",{className:vT.formGroup,children:[(0,Ae.jsx)("label",{children:"Habitat"}),(0,Ae.jsx)("textarea",{name:"habitat",value:i.habitat,onChange:p,className:vT.largeTextarea})]}),(0,Ae.jsxs)("div",{className:vT.formGroup,children:[(0,Ae.jsx)("label",{children:"Behavior"}),(0,Ae.jsx)("textarea",{name:"behavior",value:i.behavior,onChange:p,className:vT.largeTextarea})]}),(0,Ae.jsxs)("div",{className:vT.formGroup,children:[(0,Ae.jsx)("label",{children:"Diet"}),(0,Ae.jsx)("textarea",{name:"diet",value:i.diet,onChange:p,className:vT.largeTextarea})]}),(0,Ae.jsxs)("div",{className:vT.formGroup,children:[(0,Ae.jsx)("label",{children:"Abilities and Traits"}),(0,Ae.jsx)("textarea",{name:"abilitiesTraits",value:i.abilitiesTraits,onChange:p,className:vT.largeTextarea})]}),(0,Ae.jsxs)("div",{className:vT.formGroup,children:[(0,Ae.jsx)("label",{children:"Upload New Image"}),(0,Ae.jsx)("input",{type:"file",onChange:e=>{a(e.target.files[0])}})]}),(0,Ae.jsx)("button",{type:"submit",className:"btnPrimary",children:"Save"}),(0,Ae.jsx)("button",{style:{marginRight:"50px"},type:"button",className:"btnSecondary",onClick:()=>h(!1),children:"Cancel"})]}):(0,Ae.jsx)("div",{className:vT.creatureDetails,children:(0,Ae.jsxs)("div",{className:vT.creatureInfo,style:{maxWidth:"900px",margin:"0 auto"},children:[(0,Ae.jsx)("h1",{children:i.name}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("p",{className:"".concat(vT.font22," ").concat(vT.subDiv_1_p," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Appearance:"}),(0,Ae.jsx)("br",{})," ",i.appearance]}),(0,Ae.jsxs)("p",{className:"".concat(vT.font22," ").concat(vT.subDiv_1_p," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Habitat:"}),(0,Ae.jsx)("br",{})," ",i.habitat]}),(0,Ae.jsxs)("p",{className:"".concat(vT.font22," ").concat(vT.subDiv_1_p," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Behavior:"}),(0,Ae.jsx)("br",{})," ",i.behavior]}),(0,Ae.jsxs)("p",{className:"".concat(vT.font22," ").concat(vT.subDiv_1_p," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Diet:"}),(0,Ae.jsx)("br",{})," ",i.diet]}),(0,Ae.jsxs)("p",{className:"".concat(vT.font22," ").concat(vT.subDiv_1_p," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Abilities and Traits:"}),(0,Ae.jsx)("br",{})," ",i.abilitiesTraits]})]}),l&&(0,Ae.jsx)("div",{className:vT.buttonContainer,style:{marginTop:"30px"},children:(0,Ae.jsx)("button",{onClick:()=>{h(!0)},className:"btnPrimary",children:"Edit Creature"})})]})})]})},_T={raceImage:"SingleRacePage_raceImage__PADXr",raceDetails:"SingleRacePage_raceDetails__IgvNo",raceInfo:"SingleRacePage_raceInfo__TGTTB",formGroup:"SingleRacePage_formGroup__HdY3L",largeTextarea:"SingleRacePage_largeTextarea__dUehg",buttonContainer:"SingleRacePage_buttonContainer__UgxpM"};const bT=function(){const e=Y(),{raceId:n}=X(),{currentUser:r}=fg(),[i,o]=(0,t.useState)({}),[s,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[d,f]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{try{const e=await async function(e){const t=yu(YC,e),n=await vh(t);return n.exists()?{id:n.id,...n.data()}:(console.log("No such race!"),null)}(n);o(e),f(!1)}catch(e){console.error("Error fetching race: ",e),f(!1)}})(),(async()=>{try{"admin"===(await ug(r.uid)).role&&c(!0)}catch(e){console.error("Error fetching user role: ",e)}})()}),[n,r]);const p=e=>{const{name:t,value:n}=e.target;o({...i,[t]:n})};return d?(0,Ae.jsx)("div",{className:"loading-container",children:(0,Ae.jsx)(I_,{color:"#020818",height:80,width:80})}):(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("button",{className:"btnSecondary",onClick:()=>e(-1),style:{alignSelf:"flex-start"},children:"\u2190 Back"}),i.imageUrl&&(0,Ae.jsx)("img",{src:i.imageUrl,alt:i.name,className:_T.raceImage,style:{marginTop:"15px"}}),u?(0,Ae.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),f(!0);try{let t=i.imageUrl;s&&(t=await j_(s,"races/".concat(i.name))),await async function(t,n){const r=yu(YC,t);try{await wh(r,n),console.log("Race updated!")}catch(e){console.error("Error updating race: ",e)}}(n,{...i,imageUrl:t}),o((e=>({...e,imageUrl:t}))),h(!1)}catch(t){console.error("Error updating race: ",t)}finally{f(!1)}},children:[(0,Ae.jsxs)("div",{className:_T.formGroup,children:[(0,Ae.jsx)("label",{children:"Name"}),(0,Ae.jsx)("input",{type:"text",name:"name",value:i.name,onChange:p,required:!0})]}),(0,Ae.jsxs)("div",{className:_T.formGroup,children:[(0,Ae.jsx)("label",{children:"Appearance"}),(0,Ae.jsx)("textarea",{name:"appearance",value:i.appearance,onChange:p,className:_T.largeTextarea})]}),(0,Ae.jsxs)("div",{className:_T.formGroup,children:[(0,Ae.jsx)("label",{children:"Culture"}),(0,Ae.jsx)("textarea",{name:"culture",value:i.culture,onChange:p,className:_T.largeTextarea})]}),(0,Ae.jsxs)("div",{className:_T.formGroup,children:[(0,Ae.jsx)("label",{children:"Habitat"}),(0,Ae.jsx)("textarea",{name:"habitat",value:i.habitat,onChange:p,className:_T.largeTextarea})]}),(0,Ae.jsxs)("div",{className:_T.formGroup,children:[(0,Ae.jsx)("label",{children:"Abilities and Traits"}),(0,Ae.jsx)("textarea",{name:"abilitiesTraits",value:i.abilitiesTraits,onChange:p,className:_T.largeTextarea})]}),(0,Ae.jsxs)("div",{className:_T.formGroup,children:[(0,Ae.jsx)("label",{children:"Language"}),(0,Ae.jsx)("textarea",{name:"language",value:i.language,onChange:p,className:_T.largeTextarea})]}),(0,Ae.jsxs)("div",{className:_T.formGroup,children:[(0,Ae.jsx)("label",{children:"Interactions with Other Races"}),(0,Ae.jsx)("textarea",{name:"interactions",value:i.interactions,onChange:p,className:_T.largeTextarea})]}),(0,Ae.jsxs)("div",{className:_T.formGroup,children:[(0,Ae.jsx)("label",{children:"Religion and Beliefs"}),(0,Ae.jsx)("textarea",{name:"religion",value:i.religion,onChange:p,className:_T.largeTextarea})]}),(0,Ae.jsxs)("div",{className:_T.formGroup,children:[(0,Ae.jsx)("label",{children:"Upload New Image"}),(0,Ae.jsx)("input",{type:"file",onChange:e=>{a(e.target.files[0])}})]}),(0,Ae.jsx)("button",{style:{marginRight:"50px"},type:"button",className:"btnPrimary",onClick:()=>h(!1),children:"Cancel"}),(0,Ae.jsx)("button",{type:"submit",className:"btnPrimary",children:"Save"})]}):(0,Ae.jsx)("div",{className:_T.raceDetails,children:(0,Ae.jsxs)("div",{className:_T.raceInfo,style:{maxWidth:"900px",margin:"0 auto"},children:[(0,Ae.jsx)("h1",{children:i.name}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("p",{className:"".concat(_T.font22," ").concat(_T.subDiv_1_p," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Appearance:"}),(0,Ae.jsx)("br",{})," ",i.appearance]}),(0,Ae.jsxs)("p",{className:"".concat(_T.font22," ").concat(_T.subDiv_1_p," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Culture:"}),(0,Ae.jsx)("br",{})," ",i.culture]}),(0,Ae.jsxs)("p",{className:"".concat(_T.font22," ").concat(_T.subDiv_1_p," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Habitat:"}),(0,Ae.jsx)("br",{})," ",i.habitat]}),(0,Ae.jsxs)("p",{className:"".concat(_T.font22," ").concat(_T.subDiv_1_p," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Abilities and Traits:"}),(0,Ae.jsx)("br",{})," ",i.abilitiesTraits]}),(0,Ae.jsxs)("p",{className:"".concat(_T.font22," ").concat(_T.subDiv_1_p," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Language:"}),(0,Ae.jsx)("br",{})," ",i.language]}),(0,Ae.jsxs)("p",{className:"".concat(_T.font22," ").concat(_T.subDiv_1_p," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Interactions with Other Races:"}),(0,Ae.jsx)("br",{})," ",i.interactions]}),(0,Ae.jsxs)("p",{className:"".concat(_T.font22," ").concat(_T.subDiv_1_p," preserve-whitespace"),children:[(0,Ae.jsx)("strong",{children:"Religion and Beliefs:"}),(0,Ae.jsx)("br",{})," ",i.religion]})]}),l&&(0,Ae.jsx)("div",{className:_T.buttonContainer,style:{marginTop:"30px"},children:(0,Ae.jsx)("button",{onClick:()=>{h(!0)},className:"btnPrimary",children:"Edit Race"})})]})})]})},wT="AddBestiaryEntryPage_centeredForm__rrrNL",xT="AddBestiaryEntryPage_form__FA-bo",ST="AddBestiaryEntryPage_formGroup__ViN22",ET="AddBestiaryEntryPage_fullWidth__cZTeT",CT="AddBestiaryEntryPage_buttonGroup__ek0ha";const TT=function(){const e=Y(),[n,r]=(0,t.useState)(!1),[i,o]=(0,t.useState)(null),[s,a]=(0,t.useState)("creature"),l={name:"",appearance:"",habitat:"",behavior:"",diet:"",abilitiesTraits:"",imageUrl:"https://firebasestorage.googleapis.com/v0/b/lorekeeper-6ffd8.appspot.com/o/Logo.jpg?alt=media&token=b3c66f08-5659-49a0-877c-1a03841ce2bd"},c={name:"",appearance:"",culture:"",habitat:"",abilitiesTraits:"",language:"",interactions:"",religion:"",imageUrl:"https://firebasestorage.googleapis.com/v0/b/lorekeeper-6ffd8.appspot.com/o/Logo.jpg?alt=media&token=b3c66f08-5659-49a0-877c-1a03841ce2bd"},[u,h]=(0,t.useState)(l),d=e=>{const{name:t,value:n}=e.target;h({...u,[t]:n})},f=e=>{a(e),h("creature"===e?l:c)};return(0,Ae.jsxs)("div",{className:"container ".concat(wT),children:[(0,Ae.jsx)("h2",{className:"TitleText",children:"Add Bestiary Entry"}),(0,Ae.jsxs)("div",{className:CT,children:[(0,Ae.jsx)("button",{className:"creature"===s?"btnPrimary":"btnSecondary",onClick:()=>f("creature"),children:"Add Creature"}),(0,Ae.jsx)("button",{className:"race"===s?"btnPrimary":"btnSecondary",onClick:()=>f("race"),children:"Add Race"})]}),n&&(0,Ae.jsx)("div",{className:"loading-container",children:(0,Ae.jsx)(I_,{color:"#020818",height:80,width:80})}),(0,Ae.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),r(!0);try{let n="";n=i?await j_(i,"".concat(s,"s/").concat(u.name)):u.imageUrl;const r={...u,imageUrl:n};"creature"===s?await async function(e){try{const t=await xh(QC,e);console.log("Creature added with ID: ",t.id)}catch(t){console.error("Error adding creature: ",t)}}(r):await async function(e){try{const t=await xh(YC,e);console.log("Race added with ID: ",t.id)}catch(t){console.error("Error adding race: ",t)}}(r),e("/bestiary")}catch(n){console.error("Error adding ".concat(s,": "),n)}r(!1)},className:xT,children:[(0,Ae.jsxs)("div",{className:ST,children:[(0,Ae.jsx)("label",{children:"Name"}),(0,Ae.jsx)("input",{type:"text",name:"name",value:u.name,onChange:d,required:!0})]}),(0,Ae.jsxs)("div",{className:ST,children:[(0,Ae.jsx)("label",{children:"Appearance"}),(0,Ae.jsx)("textarea",{name:"appearance",value:u.appearance,onChange:d,className:"large-textarea"})]}),"creature"===s&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsxs)("div",{className:ST,children:[(0,Ae.jsx)("label",{children:"Habitat"}),(0,Ae.jsx)("textarea",{name:"habitat",value:u.habitat,onChange:d,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:ST,children:[(0,Ae.jsx)("label",{children:"Behavior"}),(0,Ae.jsx)("textarea",{name:"behavior",value:u.behavior,onChange:d,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:ST,children:[(0,Ae.jsx)("label",{children:"Diet"}),(0,Ae.jsx)("textarea",{name:"diet",value:u.diet,onChange:d,className:"large-textarea"})]})]}),"race"===s&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsxs)("div",{className:ST,children:[(0,Ae.jsx)("label",{children:"Culture"}),(0,Ae.jsx)("textarea",{name:"culture",value:u.culture,onChange:d,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:ST,children:[(0,Ae.jsx)("label",{children:"Language"}),(0,Ae.jsx)("textarea",{name:"language",value:u.language,onChange:d,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:ST,children:[(0,Ae.jsx)("label",{children:"Interactions with Other Races"}),(0,Ae.jsx)("textarea",{name:"interactions",value:u.interactions,onChange:d,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:ST,children:[(0,Ae.jsx)("label",{children:"Religion and Beliefs"}),(0,Ae.jsx)("textarea",{name:"religion",value:u.religion,onChange:d,className:"large-textarea"})]})]}),(0,Ae.jsxs)("div",{className:ST,children:[(0,Ae.jsx)("label",{children:"Abilities and Traits"}),(0,Ae.jsx)("textarea",{name:"abilitiesTraits",value:u.abilitiesTraits,onChange:d,className:"large-textarea"})]}),(0,Ae.jsxs)("div",{className:"".concat(ST," ").concat(ET),children:[(0,Ae.jsx)("label",{children:"Image"}),(0,Ae.jsx)("input",{type:"file",onChange:e=>{o(e.target.files[0])}})]}),(0,Ae.jsxs)("div",{className:"".concat(ST," ").concat(ET),children:[(0,Ae.jsxs)("button",{className:"btnPrimary",disabled:n,type:"submit",children:["Add ",s.charAt(0).toUpperCase()+s.slice(1)]}),(0,Ae.jsx)("button",{className:"btnSecondary",onClick:()=>e(-1),children:"Cancel"})]})]})]})},kT=()=>(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(_g,{}),(0,Ae.jsxs)(pe,{children:[(0,Ae.jsx)(de,{path:"/",element:(0,Ae.jsx)(Le,{})}),(0,Ae.jsx)(de,{path:"/login",element:(0,Ae.jsx)(vg,{})}),(0,Ae.jsx)(de,{path:"/profile",element:(0,Ae.jsx)(U_,{})}),(0,Ae.jsx)(de,{path:"/characters",element:(0,Ae.jsx)(K_,{})}),(0,Ae.jsx)(de,{path:"/characters/add",element:(0,Ae.jsx)($_,{})}),(0,Ae.jsx)(de,{path:"/characters/:characterId",element:(0,Ae.jsx)(ab,{})}),(0,Ae.jsx)(de,{path:"/stories",element:(0,Ae.jsx)(UE,{})}),(0,Ae.jsx)(de,{path:"/stories/:storyId",element:(0,Ae.jsx)($E,{})}),(0,Ae.jsx)(de,{path:"/stories/add",element:(0,Ae.jsx)(LE,{})}),(0,Ae.jsx)(de,{path:"/stories/:storyId/chapters/:chapterId",element:(0,Ae.jsx)(KE,{})}),(0,Ae.jsx)(de,{path:"/stories/:storyId/add-chapter",element:(0,Ae.jsx)(XE,{})}),(0,Ae.jsx)(de,{path:"/important-events",element:(0,Ae.jsx)(SC,{})}),(0,Ae.jsx)(de,{path:"/important-events/:eventId",element:(0,Ae.jsx)(jC,{})}),(0,Ae.jsx)(de,{path:"/locations",element:(0,Ae.jsx)(kC,{})}),(0,Ae.jsx)(de,{path:"/locations/:locationId",element:(0,Ae.jsx)(PC,{})}),(0,Ae.jsx)(de,{path:"/about",element:(0,Ae.jsx)(cb,{})}),(0,Ae.jsx)(de,{path:"/magic",element:(0,Ae.jsx)(LC,{})}),(0,Ae.jsx)(de,{path:"/magic/schools",element:(0,Ae.jsx)(pT,{})}),(0,Ae.jsx)(de,{path:"/subschools/:name",element:(0,Ae.jsx)(gT,{})}),(0,Ae.jsx)(de,{path:"/magic/classes",element:(0,Ae.jsx)(mT,{})}),(0,Ae.jsx)(de,{path:"/bestiary",element:(0,Ae.jsx)(sT,{})}),(0,Ae.jsx)(de,{path:"/bestiary/creature/:creatureId",element:(0,Ae.jsx)(yT,{})}),(0,Ae.jsx)(de,{path:"/bestiary/race/:raceId",element:(0,Ae.jsx)(bT,{})}),(0,Ae.jsx)(de,{path:"/bestiary/add",element:(0,Ae.jsx)(TT,{})}),(0,Ae.jsx)(de,{path:"/maps",element:(0,Ae.jsx)($C,{})}),(0,Ae.jsx)(de,{path:"/timeline",element:(0,Ae.jsx)(lC,{})}),(0,Ae.jsx)(de,{path:"*",element:(0,Ae.jsx)(Fe,{})})]})]}),IT=()=>(0,Ae.jsx)(pg,{children:(0,Ae.jsx)(xe,{basename:"/WritingsOfGajamyw",children:(0,Ae.jsx)(kT,{})})}),PT=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))};i.createRoot(document.getElementById("root")).render((0,Ae.jsx)(t.StrictMode,{children:(0,Ae.jsx)(IT,{})})),PT()})()})();
//# sourceMappingURL=main.1ca89b4a.js.map